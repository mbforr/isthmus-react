!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=51)}([function(e,t,n){"use strict";e.exports=n(52)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(60),i=n(31),o=n(66);n.d(t,"Provider",function(){return r.b}),n.d(t,"createProvider",function(){return r.a}),n.d(t,"connectAdvanced",function(){return i.a}),n.d(t,"connect",function(){return o.a})},function(e,t){},function(e,t,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(53)},function(e,t,n){/*!
 * CARTO.js https://carto.com/
 * Version: 4.1.6
 * 
 */
!function(t,n){e.exports=n()}(window,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=44)}([function(e,t,n){var r,i;(function(){function n(e){function t(t,n,r,i,o,a){for(;o>=0&&o<a;o+=e){var s=i?i[o]:o;r=n(r,t[s],s,t)}return r}return function(n,r,i,o){r=C(r,o,4);var a=!L(n)&&x.keys(n),s=(a||n).length,u=e>0?0:s-1;return arguments.length<3&&(i=n[a?a[u]:u],u+=e),t(n,r,i,a,u,s)}}function o(e){return function(t,n,r){n=E(n,r);for(var i=O(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}function a(e,t,n){return function(r,i,o){var a=0,s=O(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(d.call(r,a,s),x.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(r[o]===i)return o;return-1}}function s(e,t){var n=N.length,r=e.constructor,i=x.isFunction(r)&&r.prototype||f,o="constructor";for(x.has(e,o)&&!x.contains(t,o)&&t.push(o);n--;)(o=N[n])in e&&e[o]!==i[o]&&!x.contains(t,o)&&t.push(o)}var u=this,c=u._,l=Array.prototype,f=Object.prototype,h=Function.prototype,p=l.push,d=l.slice,m=f.toString,g=f.hasOwnProperty,y=Array.isArray,v=Object.keys,_=h.bind,b=Object.create,w=function(){},x=function(e){return e instanceof x?e:this instanceof x?void(this._wrapped=e):new x(e)};void 0!==e&&e.exports&&(t=e.exports=x),t._=x,x.VERSION="1.8.3";var C=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},E=function(e,t,n){return null==e?x.identity:x.isFunction(e)?C(e,t,n):x.isObject(e)?x.matcher(e):x.property(e)};x.iteratee=function(e,t){return E(e,t,1/0)};var T=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),s=a.length,u=0;u<s;u++){var c=a[u];t&&void 0!==n[c]||(n[c]=o[c])}return n}},S=function(e){if(!x.isObject(e))return{};if(b)return b(e);w.prototype=e;var t=new w;return w.prototype=null,t},k=function(e){return function(t){return null==t?void 0:t[e]}},P=Math.pow(2,53)-1,O=k("length"),L=function(e){var t=O(e);return"number"==typeof t&&t>=0&&t<=P};x.each=x.forEach=function(e,t,n){t=C(t,n);var r,i;if(L(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=x.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},x.map=x.collect=function(e,t,n){t=E(t,n);for(var r=!L(e)&&x.keys(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o},x.reduce=x.foldl=x.inject=n(1),x.reduceRight=x.foldr=n(-1),x.find=x.detect=function(e,t,n){var r;if(void 0!==(r=L(e)?x.findIndex(e,t,n):x.findKey(e,t,n))&&-1!==r)return e[r]},x.filter=x.select=function(e,t,n){var r=[];return t=E(t,n),x.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},x.reject=function(e,t,n){return x.filter(e,x.negate(E(t)),n)},x.every=x.all=function(e,t,n){t=E(t,n);for(var r=!L(e)&&x.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},x.some=x.any=function(e,t,n){t=E(t,n);for(var r=!L(e)&&x.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},x.contains=x.includes=x.include=function(e,t,n,r){return L(e)||(e=x.values(e)),("number"!=typeof n||r)&&(n=0),x.indexOf(e,t,n)>=0},x.invoke=function(e,t){var n=d.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matcher(t))},x.findWhere=function(e,t){return x.find(e,x.matcher(t))},x.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t&&null!=e){e=L(e)?e:x.values(e);for(var s=0,u=e.length;s<u;s++)(r=e[s])>o&&(o=r)}else t=E(t,n),x.each(e,function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o},x.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=L(e)?e:x.values(e);for(var s=0,u=e.length;s<u;s++)(r=e[s])<o&&(o=r)}else t=E(t,n),x.each(e,function(e,n,r){((i=t(e,n,r))<a||i===1/0&&o===1/0)&&(o=e,a=i)});return o},x.shuffle=function(e){for(var t,n=L(e)?e:x.values(e),r=n.length,i=Array(r),o=0;o<r;o++)t=x.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},x.sample=function(e,t,n){return null==t||n?(L(e)||(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))},x.sortBy=function(e,t,n){return t=E(t,n),x.pluck(x.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var M=function(e){return function(t,n,r){var i={};return n=E(n,r),x.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};x.groupBy=M(function(e,t,n){x.has(e,n)?e[n].push(t):e[n]=[t]}),x.indexBy=M(function(e,t,n){e[n]=t}),x.countBy=M(function(e,t,n){x.has(e,n)?e[n]++:e[n]=1}),x.toArray=function(e){return e?x.isArray(e)?d.call(e):L(e)?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:L(e)?e.length:x.keys(e).length},x.partition=function(e,t,n){t=E(t,n);var r=[],i=[];return x.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},x.first=x.head=x.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:x.initial(e,e.length-t)},x.initial=function(e,t,n){return d.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},x.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:x.rest(e,Math.max(0,e.length-t))},x.rest=x.tail=x.drop=function(e,t,n){return d.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n,r){for(var i=[],o=0,a=r||0,s=O(e);a<s;a++){var u=e[a];if(L(u)&&(x.isArray(u)||x.isArguments(u))){t||(u=A(u,t,n));var c=0,l=u.length;for(i.length+=l;c<l;)i[o++]=u[c++]}else n||(i[o++]=u)}return i};x.flatten=function(e,t){return A(e,t,!1)},x.without=function(e){return x.difference(e,d.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=E(n,r));for(var i=[],o=[],a=0,s=O(e);a<s;a++){var u=e[a],c=n?n(u,a,e):u;t?(a&&o===c||i.push(u),o=c):n?x.contains(o,c)||(o.push(c),i.push(u)):x.contains(i,u)||i.push(u)}return i},x.union=function(){return x.uniq(A(arguments,!0,!0))},x.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=O(e);r<i;r++){var o=e[r];if(!x.contains(t,o)){for(var a=1;a<n&&x.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},x.difference=function(e){var t=A(arguments,!0,!0,1);return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(e){for(var t=e&&x.max(e,O).length||0,n=Array(t),r=0;r<t;r++)n[r]=x.pluck(e,r);return n},x.object=function(e,t){for(var n={},r=0,i=O(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.findIndex=o(1),x.findLastIndex=o(-1),x.sortedIndex=function(e,t,n,r){n=E(n,r,1);for(var i=n(t),o=0,a=O(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o},x.indexOf=a(1,x.findIndex,x.sortedIndex),x.lastIndexOf=a(-1,x.findLastIndex),x.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i};var R=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=S(e.prototype),a=e.apply(o,i);return x.isObject(a)?a:o};x.bind=function(e,t){if(_&&e.bind===_)return _.apply(e,d.call(arguments,1));if(!x.isFunction(e))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),r=function(){return R(e,r,t,this,n.concat(d.call(arguments)))};return r},x.partial=function(e){var t=d.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;a<i;a++)o[a]=t[a]===x?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return R(e,n,this,this,o)};return n},x.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)n=arguments[t],e[n]=x.bind(e[n],e);return e},x.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return x.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},x.delay=function(e,t){var n=d.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=x.partial(x.delay,x,1),x.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var u=function(){s=!1===n.leading?0:x.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var c=x.now();s||!1!==n.leading||(s=c);var l=t-(c-s);return r=this,i=arguments,l<=0||l>t?(a&&(clearTimeout(a),a=null),s=c,o=e.apply(r,i),a||(r=i=null)):a||!1===n.trailing||(a=setTimeout(u,l)),o}},x.debounce=function(e,t,n){var r,i,o,a,s,u=function(){var c=x.now()-a;c<t&&c>=0?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=x.now();var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(s=e.apply(o,i),o=i=null),s}},x.wrap=function(e,t){return x.partial(t,e)},x.negate=function(e){return function(){return!e.apply(this,arguments)}},x.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},x.once=x.partial(x.before,2);var j=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(e){if(!x.isObject(e))return[];if(v)return v(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return j&&s(e,t),t},x.allKeys=function(e){if(!x.isObject(e))return[];var t=[];for(var n in e)t.push(n);return j&&s(e,t),t},x.values=function(e){for(var t=x.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},x.mapObject=function(e,t,n){t=E(t,n);for(var r,i=x.keys(e),o=i.length,a={},s=0;s<o;s++)r=i[s],a[r]=t(e[r],r,e);return a},x.pairs=function(e){for(var t=x.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){for(var t={},n=x.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=T(x.allKeys),x.extendOwn=x.assign=T(x.keys),x.findKey=function(e,t,n){t=E(t,n);for(var r,i=x.keys(e),o=0,a=i.length;o<a;o++)if(r=i[o],t(e[r],r,e))return r},x.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;x.isFunction(t)?(i=x.allKeys(a),r=C(t,n)):(i=A(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var s=0,u=i.length;s<u;s++){var c=i[s],l=a[c];r(l,c,a)&&(o[c]=l)}return o},x.omit=function(e,t,n){if(x.isFunction(t))t=x.negate(t);else{var r=x.map(A(arguments,!1,!1,1),String);t=function(e,t){return!x.contains(r,t)}}return x.pick(e,t,n)},x.defaults=T(x.allKeys,!0),x.create=function(e,t){var n=S(e);return t&&x.extendOwn(n,t),n},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e},x.isMatch=function(e,t){var n=x.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var I=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=m.call(e);if(i!==m.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if((u=e.length)!==t.length)return!1;for(;u--;)if(!I(e[u],t[u],n,r))return!1}else{var c,l=x.keys(e);if(u=l.length,x.keys(t).length!==u)return!1;for(;u--;)if(c=l[u],!x.has(t,c)||!I(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0};x.isEqual=function(e,t){return I(e,t)},x.isEmpty=function(e){return null==e||(L(e)&&(x.isArray(e)||x.isString(e)||x.isArguments(e))?0===e.length:0===x.keys(e).length)},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=y||function(e){return"[object Array]"===m.call(e)},x.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){x["is"+e]=function(t){return m.call(t)==="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return x.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(e){return"function"==typeof e||!1}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!==+e},x.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===m.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return null!=e&&g.call(e,t)},x.noConflict=function(){return u._=c,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.noop=function(){},x.property=k,x.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},x.matcher=x.matches=function(e){return e=x.extendOwn({},e),function(t){return x.isMatch(t,e)}},x.times=function(e,t,n){var r=Array(Math.max(0,e));t=C(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=x.invert(B),D=function(e){var t=function(t){return e[t]},n="(?:"+x.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};x.escape=D(B),x.unescape=D(F),x.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),x.isFunction(r)?r.call(e):r};var z=0;x.uniqueId=function(e){var t=++z+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,$=function(e){return"\\"+q[e]};x.template=function(e,t,n){!t&&n&&(t=n),t=x.defaults({},t,x.templateSettings);var r=RegExp([(t.escape||U).source,(t.interpolate||U).source,(t.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,s){return o+=e.slice(i,s).replace(H,$),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var s=function(e){return a.call(this,e,x)};return s.source="function("+(t.variable||"obj")+"){\n"+o+"}",s},x.chain=function(e){var t=x(e);return t._chain=!0,t};var W=function(e,t){return e._chain?x(t).chain():t};x.mixin=function(e){x.each(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return p.apply(e,arguments),W(this,n.apply(x,e))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=l[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],W(this,n)}}),x.each(["concat","join","slice"],function(e){var t=l[e];x.prototype[e]=function(){return W(this,t.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},r=[],void 0!==(i=function(){return x}.apply(t,r))&&(e.exports=i)}).call(this)},function(e,t,n){(function(r){var i,o;!function(a){var s="object"==typeof self&&self.self==self&&self||"object"==typeof r&&r.global==r&&r;i=[n(0),n(9),t],void 0!==(o=function(e,t,n){s.Backbone=a(s,n,e,t)}.apply(t,i))&&(e.exports=o)}(function(e,t,n,r){var i=e.Backbone,o=Array.prototype.slice;t.VERSION="1.2.3",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=function(e,t,r){switch(e){case 1:return function(){return n[t](this[r])};case 2:return function(e){return n[t](this[r],e)};case 3:return function(e,i){return n[t](this[r],u(e,this),i)};case 4:return function(e,i,o){return n[t](this[r],u(e,this),i,o)};default:return function(){var e=o.call(arguments);return e.unshift(this[r]),n[t].apply(n,e)}}},s=function(e,t,r){n.each(t,function(t,i){n[i]&&(e.prototype[i]=a(t,i,r))})},u=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?c(e):n.isString(e)?function(t){return t.get(e)}:e},c=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},l=t.Events={},f=/\s+/,h=function(e,t,r,i,o){var a,s=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(a=n.keys(r);s<a.length;s++)t=h(e,t,a[s],r[a[s]],o)}else if(r&&f.test(r))for(a=r.split(f);s<a.length;s++)t=e(t,a[s],i,o);else t=e(t,r,i,o);return t};l.on=function(e,t,n){return p(this,e,t,n)};var p=function(e,t,n,r,i){if(e._events=h(d,e._events||{},t,n,{context:r,ctx:e,listening:i}),i){(e._listeners||(e._listeners={}))[i.id]=i}return e};l.listenTo=function(e,t,r){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[i];if(!a){var s=this._listenId||(this._listenId=n.uniqueId("l"));a=o[i]={obj:e,objId:i,id:s,listeningTo:o,count:0}}return p(e,t,r,this,a),this};var d=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]),o=r.context,a=r.ctx,s=r.listening;s&&s.count++,i.push({callback:n,context:o,ctx:o||a,listening:s})}return e};l.off=function(e,t,n){return this._events?(this._events=h(m,this._events,e,t,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(e,t,r){var i=this._listeningTo;if(!i)return this;for(var o=e?[e._listenId]:n.keys(i),a=0;a<o.length;a++){var s=i[o[a]];if(!s)break;s.obj.off(t,r,this)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var m=function(e,t,r,i){if(e){var o,a=0,s=i.context,u=i.listeners;if(t||r||s){for(var c=t?[t]:n.keys(e);a<c.length;a++){t=c[a];var l=e[t];if(!l)break;for(var f=[],h=0;h<l.length;h++){var p=l[h];r&&r!==p.callback&&r!==p.callback._callback||s&&s!==p.context?f.push(p):(o=p.listening)&&0==--o.count&&(delete u[o.id],delete o.listeningTo[o.objId])}f.length?e[t]=f:delete e[t]}return n.size(e)?e:void 0}for(var d=n.keys(u);a<d.length;a++)o=u[d[a]],delete u[o.id],delete o.listeningTo[o.objId]}};l.once=function(e,t,r){var i=h(g,{},e,t,n.bind(this.off,this));return this.on(i,void 0,r)},l.listenToOnce=function(e,t,r){var i=h(g,{},t,r,n.bind(this.stopListening,this,e));return this.listenTo(e,i)};var g=function(e,t,r,i){if(r){var o=e[t]=n.once(function(){i(t,o),r.apply(this,arguments)});o._callback=r}return e};l.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),r=0;r<t;r++)n[r]=arguments[r+1];return h(y,this._events,e,void 0,n),this};var y=function(e,t,n,r){if(e){var i=e[t],o=e.all;i&&o&&(o=o.slice()),i&&v(i,r),o&&v(o,[t].concat(r))}return e},v=function(e,t){var n,r=-1,i=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}};l.bind=l.on,l.unbind=l.off,n.extend(t,l);var _=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(_.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(null==e)return this;var i;if("object"==typeof e?(i=e,r=t):(i={})[e]=t,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,a=r.silent,s=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,l=this.changed,f=this._previousAttributes;for(var h in i)t=i[h],n.isEqual(c[h],t)||s.push(h),n.isEqual(f[h],t)?delete l[h]:l[h]=t,o?delete c[h]:c[h]=t;if(this.id=this.get(this.idAttribute),!a){s.length&&(this._pending=r);for(var p=0;p<s.length;p++)this.trigger("change:"+s[p],this,c[s[p]],r)}if(u)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,r={};for(var i in e){var o=e[i];n.isEqual(t[i],o)||(r[i]=o)}return!!n.size(r)&&r},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;if(!t.set(i,e))return!1;r&&r.call(e.context,t,n,e),t.trigger("sync",t,n,e)},D(this,e),this.sync("read",this,e)},save:function(e,t,r){var i;null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0,parse:!0},r);var o=r.wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var a=this,s=r.success,u=this.attributes;r.success=function(e){a.attributes=u;var t=r.parse?a.parse(e,r):e;if(o&&(t=n.extend({},i,t)),t&&!a.set(t,r))return!1;s&&s.call(r.context,a,e,r),a.trigger("sync",a,e,r)},D(this,r),i&&o&&(this.attributes=n.extend({},u,i));var c=this.isNew()?"create":r.patch?"patch":"update";"patch"!==c||r.attrs||(r.attrs=i);var l=this.sync(c,this,r);return this.attributes=u,l},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=e.wait,o=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&o(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var a=!1;return this.isNew()?n.defer(e.success):(D(this,e),a=this.sync("delete",this,e)),i||o(),a},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return!r||(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1)}}),s(_,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},w={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},C=function(e,t,n){n=Math.min(Math.max(n,0),e.length);for(var r=Array(e.length-n),i=t.length,o=0;o<r.length;o++)r[o]=e[o+n];for(o=0;o<i;o++)e[o+n]=t[o];for(o=0;o<r.length;o++)e[o+i+n]=r[o]};n.extend(b.prototype,l,{model:_,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,x))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:n.clone(e);var i=this._removeModels(e,t);return!t.silent&&i&&this.trigger("update",this,t),r?i[0]:i},set:function(e,t){if(null!=e){t=n.defaults({},t,w),t.parse&&!this._isModel(e)&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?[e]:e.slice();var i=t.at;null!=i&&(i=+i),i<0&&(i+=this.length+1);for(var o,a=[],s=[],u=[],c={},l=t.add,f=t.merge,h=t.remove,p=!1,d=this.comparator&&null==i&&!1!==t.sort,m=n.isString(this.comparator)?this.comparator:null,g=0;g<e.length;g++){o=e[g];var y=this.get(o);if(y){if(f&&o!==y){var v=this._isModel(o)?o.attributes:o;t.parse&&(v=y.parse(v,t)),y.set(v,t),d&&!p&&(p=y.hasChanged(m))}c[y.cid]||(c[y.cid]=!0,a.push(y)),e[g]=y}else l&&(o=e[g]=this._prepareModel(o,t))&&(s.push(o),this._addReference(o,t),c[o.cid]=!0,a.push(o))}if(h){for(g=0;g<this.length;g++)o=this.models[g],c[o.cid]||u.push(o);u.length&&this._removeModels(u,t)}var _=!1,b=!d&&l&&h;if(a.length&&b?(_=this.length!=a.length||n.some(this.models,function(e,t){return e!==a[t]}),this.models.length=0,C(this.models,a,0),this.length=this.models.length):s.length&&(d&&(p=!0),C(this.models,s,null==i?this.length:i),this.length=this.models.length),p&&this.sort({silent:!0}),!t.silent){for(g=0;g<s.length;g++)null!=i&&(t.index=i+g),o=s[g],o.trigger("add",o,this,t);(p||_)&&this.trigger("sort",this,t),(s.length||u.length)&&this.trigger("update",this,t)}return r?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(null!=e){var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]}},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===r||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=n.extend({parse:!0},e);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},D(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var r=t.wait;if(!(e=this._prepareModel(e,t)))return!1;r||this.add(e,t);var i=this,o=t.success;return t.success=function(e,t,n){r&&i.add(e,n),o&&o.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=this.get(e[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,t.silent||(t.index=o,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}}return!!n.length&&n},_isModel:function(e){return e instanceof _},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if("add"!==e&&"remove"!==e||n===this){if("destroy"===e&&this.remove(t,r),"change"===e){var i=this.modelId(t.previousAttributes()),o=this.modelId(t.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=t))}this.trigger.apply(this,arguments)}}}),s(b,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var E=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,S)),this._ensureElement(),this.initialize.apply(this,arguments)},T=/^(\S+)\s*(.*)$/,S=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;this.undelegateEvents();for(var t in e){var r=e[t];if(n.isFunction(r)||(r=this[r]),r){var i=t.match(T);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,r,i){var o=k[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||F()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||i.emulateJSON||(a.processData=!1);var u=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,u&&u.call(i.context,e,t,n)};var c=i.xhr=t.ajax(n.extend(a,i));return r.trigger("request",r,c,i),c};var k={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var P=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},O=/\((.*?)\)/g,L=/(\(\?)?:\w+/g,M=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(P.prototype,l,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return t.history.route(e,function(n){var a=o._extractParameters(e,n);!1!==o.execute(i,a,r)&&(o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),t.history.trigger("route",o,r,a))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(A,"\\$&").replace(O,"(?:$1)?").replace(L,function(e,t){return t?e:"([^/?]+)"}).replace(M,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var R=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},j=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,I=/#.*$/;R.started=!1,n.extend(R.prototype,l,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(j,"")},start:function(e){if(R.started)throw new Error("Backbone.history has already been started");if(R.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(N,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),R.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!R.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+e;if(e=this.decodeFragment(e.replace(I,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;t.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new R;var B=function(e,t){var r,i=this;r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t);var o=function(){this.constructor=r};return o.prototype=i.prototype,r.prototype=new o,e&&n.extend(r.prototype,e),r.__super__=i.prototype,r};_.extend=b.extend=P.extend=E.extend=R.extend=B;var F=function(){throw new Error('A "url" property or function must be specified')},D=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t})}).call(this,n(17))},function(e,t,n){"use strict";var r=n(9),i=n(0),o=n(1),a=o.Model.extend({initialize:function(e){return i.bindAll(this,"fetch","save","retrigger"),o.Model.prototype.initialize.call(this,e)},fetch:function(e){var t=this;this.trigger("loadModelStarted"),r.when(o.Model.prototype.fetch.call(this,e)).done(function(e){t.trigger("loadModelCompleted",e,t)}).fail(function(e){t.trigger("loadModelFailed",e,t)})},setIdAttribute:function(e){this.idAttribute=e},retrigger:function(e,t,n){n||(n=e);var r=this;t.bind&&t.bind(e,function(){r.trigger(n)},r)},save:function(e,t){var n=this;t&&t.silent||this.trigger("saving");var i=o.Model.prototype.save.apply(this,arguments);return r.when(i).done(function(){t&&t.silent||n.trigger("saved")}).fail(function(){t&&t.silent||n.trigger("errorSaving")}),i}});e.exports=a},function(e,t,n){"use strict";function r(e,t){t=t||{};var n=Object.create(Error.prototype);n.message=e&&e.message||f,n.origin=e&&e.origin||h,n.type=e&&e.type||"",i(e)&&(n=a(e,t.layers,t.analysis)),o(e)&&(n=s(e));var r=c.getExtraFields(n);return n.message=r.friendlyMessage,n.errorCode=r.errorCode,n.name="CartoError",n.stack=(new Error).stack,n.originalError=e,l.track(n),n}function i(e){return e&&"windshaft"===e.origin}function o(e){return e&&e.responseText}function a(e,t,n){var r=Object.create(Error.prototype);return r.message=e.message,r.origin=e.origin,r.type=e.type,"layer"===e.type&&t&&(r.layer=t.findById(e.layerId)),"analysis"===e.type&&(n&&(r.source=n,r.sourceId=n.getId&&n.getId()),e.analysisId&&(r.sourceId=e.analysisId)),r}function s(e){var t=Object.create(Error.prototype);return t.message=u(e),t.origin="ajax",t.type=e.statusText,t}function u(e){var t="";try{t=JSON.parse(e.responseText).errors[0]}catch(e){}return t||f}var c=n(51),l=n(56),f="unexpected error",h="generic";e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return new i({origin:"validation",type:e,message:t},n)}var i=n(3);e.exports=r},function(e,t,n){"use strict";function r(e){return o.contains(a,e)}function i(e){return o.contains(u,e)}var o=n(0),a={COUNT:"count",SUM:"sum",AVG:"avg",MAX:"max",MIN:"min"},s={NOT_LOADED:"notLoaded",LOADING:"loading",LOADED:"loaded",ERROR:"error"},u={AUTO:"auto",MILLENNIUM:"millennium",CENTURY:"century",DECADE:"decade",YEAR:"year",QUARTER:"quarter",MONTH:"month",WEEK:"week",DAY:"day",HOUR:"hour",MINUTE:"minute"};e.exports={operation:a,status:s,timeAggregation:u,isValidOperation:r,isValidTimeAggregation:i,ATTRIBUTION:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/attribution">CARTO</a>'}},function(e,t,n){"use strict";var r=n(0),i={};i.isCORSSupported=function(){return"withCredentials"in new XMLHttpRequest},i.array2hex=function(e){for(var t=[],n=0;n<e.length;++n)t.push(String.fromCharCode(e[n]+128));return i.btoa(t.join(""))},i.btoa=function(e){return"function"==typeof window.btoa?i.encodeBase64Native(e):i.encodeBase64(e)},i.encodeBase64Native=function(e){return btoa(e)},i.encodeBase64=function(e){var t,n,r,i,o,a,s,u,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=0,f=0,h="",p=[];if(!e)return e;do{t=e.charCodeAt(l++),n=e.charCodeAt(l++),r=e.charCodeAt(l++),u=t<<16|n<<8|r,i=u>>18&63,o=u>>12&63,a=u>>6&63,s=63&u,p[f++]=c.charAt(i)+c.charAt(o)+c.charAt(a)+c.charAt(s)}while(l<e.length);h=p.join("");var d=e.length%3;return(d?h.slice(0,d-3):h)+"===".slice(d||3)},i.uniqueCallbackName=function(e){return i._callback_c=i._callback_c||0,++i._callback_c,i.crc32(e)+"_"+i._callback_c},i.crc32=function(e){for(var t=i._crcTable||(i._crcTable=i._makeCRCTable()),n=-1,r=0,o=e.length;r<o;++r)n=n>>>8^t[255&(n^e.charCodeAt(r))];return(-1^n)>>>0},i._makeCRCTable=function(){for(var e,t=[],n=0;n<256;++n){e=n;for(var r=0;r<8;++r)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t},i._inferBrowser=function(e){var t={};return e=e||"undefined"!=typeof window&&window.navigator.userAgent||"",!function(){var t=e.indexOf("MSIE "),n=e.indexOf("Trident/");return t>-1||n>-1}()?e.indexOf("Edge/")>-1?t.edge=e:e.indexOf("Chrome")>-1?t.chrome=e:e.indexOf("Firefox")>-1?t.firefox=e:e.indexOf("Opera")>-1?t.opera=e:e.indexOf("Safari")>-1&&(t.safari=e):t.ie={version:function(){return document.compatMode?window.XMLHttpRequest?document.querySelector?document.addEventListener?window.atob?document.all?10:11:9:8:7:6:5}()},t},i.browser=i._inferBrowser(),i.isMobileDevice=function(){return/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},i.supportsTouch=function(){return"ontouchstart"in window||navigator.msMaxTouchPoints};var o=null;i.isWebGLSupported=function(){if(null===o){var e=document.createElement("canvas");o=!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}return o},i.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},i.checkRequiredOpts=function(e,t,n){r.each(t,function(t){if(r.isUndefined(e[t]))throw new Error(t+" is required"+(n?" to initialize "+n:""))})},i.isLeafletLoaded=function(){if(!window.L)throw new Error("Leaflet is required");if(window.L.version<"1.0.0")throw new Error("Leaflet +1.0 is required")},i.isGoogleMapsLoaded=function(){if(!window.google)throw new Error("Google Maps is required");if(!window.google.maps)throw new Error("Google Maps is required");if(window.google.maps.version<"3.31.0")throw new Error("Google Maps version should be >= 3.31")},e.exports=i},function(e,t,n){"use strict";function r(){}var i=n(0),o=n(1),a=n(4);i.extend(r.prototype,o.Events),r.prototype._getValidationError=function(e){return new a("filter",e)},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(1),o=n(2),a=n(6),s=["camshaftReference","engine"],u={PENDING:"pending",WAITING:"waiting",RUNNING:"running",FAILED:"failed",READY:"ready"},c=o.extend({initialize:function(e,t){t=t||{},a.checkRequiredOpts(t,s,"AnalysisModel"),this._camshaftReference=t.camshaftReference,this._engine=t.engine,this._initBinds(),this._referencedBy={}},url:function(){var e=this.get("url");if(e){if(this.get("apiKey"))e+="?api_key="+this.get("apiKey");else if(this.get("authToken")){var t=this.get("authToken");if(t instanceof Array){var n=r.map(t,function(e){return"auth_token[]="+e});e+="?"+n.join("&")}else e+="?auth_token="+t}return e}},setOk:function(){this.unset("error")},setError:function(e){this.set({error:e,status:u.FAILED})},_initBinds:function(){this.bind("change:type",function(){this.unbind(null,null,this),this._initBinds(),this._reload()},this),r.each(this.getParamNames(),function(e){this.bind("change:"+e,this._reload,this)},this),this.bind("change:status",function(){this._hadStatus()&&this.isReady()&&this.isSourceOfAnyModel()&&this._reload()},this)},_hadStatus:function(){return this.previous("status")},_reload:function(){this._engine.reload({error:this._onMapReloadError.bind(this)})},_onMapReloadError:function(){this.set("status",u.FAILED)},remove:function(){this.trigger("destroy",this),this.stopListening()},findAnalysisById:function(e){return this.get("id")===e?this:r.chain(this._getSourceNames()).map(function(t){var n=this.get(t);if(n)return n.findAnalysisById(e)},this).compact().value()[0]},_getSourceNames:function(){return this._camshaftReference.getSourceNamesForAnalysisType(this.get("type"))},isDone:function(){return this._hasStatus([u.READY,u.FAILED])},isLoading:function(){return this._hasStatus([u.PENDING,u.WAITING,u.RUNNING])},isReady:function(){return this._hasStatus(u.READY)},isFailed:function(){return this._hasStatus(u.FAILED)},_hasStatus:function(e){return r.isArray(e)||(e=[e]),r.contains(e,this._getStatus())},_getStatus:function(){return this.get("status")},toJSON:function(){var e=r.pick(this.attributes,"id","type");e.params=r.pick(this.attributes,this.getParamNames());var t=this._getSourceNames();return r.each(t,function(t){var n={},i=this.get(t);i&&(n[t]=i.toJSON(),r.extend(e.params,n))},this),e},getParamNames:function(){return this._camshaftReference.getParamNamesForAnalysisType(this.get("type"))},getNodes:function(){var e=[this];return"source"!==this.get("type")&&r.forEach(this._getSourceNames(),function(t){var n=this.get(t);n&&(e=e.concat(n.getNodes()))},this),e},getNodesCollection:function(){return new i.Collection(this.getNodes())},equals:function(e){return e instanceof c&&this.get("id")===e.get("id")},markAsSourceOf:function(e){this._referencedBy[e.cid]=!0},isSourceOfAnyModel:function(){return Object.keys(this._referencedBy).length>0},isSourceOf:function(e){return!!this._referencedBy[e.cid]},unmarkAsSourceOf:function(e){delete this._referencedBy[e.cid]}},{STATUS:u});e.exports=c},function(e,t,n){var r,i;/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,o){function a(e){var t="length"in e&&e.length,n=ne.type(e);return"function"!==n&&!ne.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function s(e,t,n){if(ne.isFunction(t))return ne.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ne.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(le.test(t))return ne.filter(t,e,n);t=ne.filter(t,e)}return ne.grep(e,function(e){return Y.call(t,e)>=0!==n})}function u(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e){var t=ge[e]={};return ne.each(e.match(me)||[],function(e,n){t[n]=!0}),t}function l(){te.removeEventListener("DOMContentLoaded",l,!1),n.removeEventListener("load",l,!1),ne.ready()}function f(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=ne.expando+f.uid++}function h(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(xe,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:we.test(n)?ne.parseJSON(n):n)}catch(e){}be.set(e,t,n)}else n=void 0;return n}function p(){return!0}function d(){return!1}function m(){try{return te.activeElement}catch(e){}}function g(e,t){return ne.nodeName(e,"table")&&ne.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function v(e){var t=Be.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _(e,t){for(var n=0,r=e.length;n<r;n++)_e.set(e[n],"globalEval",!t||_e.get(t[n],"globalEval"))}function b(e,t){var n,r,i,o,a,s,u,c;if(1===t.nodeType){if(_e.hasData(e)&&(o=_e.access(e),a=_e.set(t,o),c=o.events)){delete a.handle,a.events={};for(i in c)for(n=0,r=c[i].length;n<r;n++)ne.event.add(t,i,c[i][n])}be.hasData(e)&&(s=be.access(e),u=ne.extend({},s),be.set(t,u))}}function w(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&ne.nodeName(e,t)?ne.merge([e],n):n}function x(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Se.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function C(e,t){var r,i=ne(t.createElement(e)).appendTo(t.body),o=n.getDefaultComputedStyle&&(r=n.getDefaultComputedStyle(i[0]))?r.display:ne.css(i[0],"display");return i.detach(),o}function E(e){var t=te,n=Ue[e];return n||(n=C(e,t),"none"!==n&&n||(ze=(ze||ne("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=ze[0].contentDocument,t.write(),t.close(),n=C(e,t),ze.detach()),Ue[e]=n),n}function T(e,t,n){var r,i,o,a,s=e.style;return n=n||$e(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||ne.contains(e.ownerDocument,e)||(a=ne.style(e,t)),He.test(a)&&qe.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function S(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function k(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ye.length;i--;)if((t=Ye[i]+n)in e)return t;return r}function P(e,t,n){var r=Ze.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function O(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=ne.css(e,n+Ee[o],!0,i)),r?("content"===n&&(a-=ne.css(e,"padding"+Ee[o],!0,i)),"margin"!==n&&(a-=ne.css(e,"border"+Ee[o]+"Width",!0,i))):(a+=ne.css(e,"padding"+Ee[o],!0,i),"padding"!==n&&(a+=ne.css(e,"border"+Ee[o]+"Width",!0,i)));return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=$e(e),a="border-box"===ne.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=T(e,t,o),(i<0||null==i)&&(i=e.style[t]),He.test(i))return i;r=a&&(ee.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+O(e,t,n||(a?"border":"content"),r,o)+"px"}function M(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)r=e[a],r.style&&(o[a]=_e.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Te(r)&&(o[a]=_e.access(r,"olddisplay",E(r.nodeName)))):(i=Te(r),"none"===n&&i||_e.set(r,"olddisplay",i?n:ne.css(r,"display"))));for(a=0;a<s;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function A(e,t,n,r,i){return new A.prototype.init(e,t,n,r,i)}function R(){return setTimeout(function(){Qe=void 0}),Qe=ne.now()}function j(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Ee[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function N(e,t,n){for(var r,i=(rt[t]||[]).concat(rt["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function I(e,t,n){var r,i,o,a,s,u,c,l=this,f={},h=e.style,p=e.nodeType&&Te(e),d=_e.get(e,"fxshow");n.queue||(s=ne._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--,ne.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=ne.css(e,"display"),"inline"===("none"===c?_e.get(e,"olddisplay")||E(e.nodeName):c)&&"none"===ne.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",l.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Xe.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!d||void 0===d[r])continue;p=!0}f[r]=d&&d[r]||ne.style(e,r)}else c=void 0;if(ne.isEmptyObject(f))"inline"===("none"===c?E(e.nodeName):c)&&(h.display=c);else{d?"hidden"in d&&(p=d.hidden):d=_e.access(e,"fxshow",{}),o&&(d.hidden=!p),p?ne(e).show():l.done(function(){ne(e).hide()}),l.done(function(){var t;_e.remove(e,"fxshow");for(t in f)ne.style(e,t,f[t])});for(r in f)a=N(p?d[r]:0,r,l),r in d||(d[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function B(e,t){var n,r,i,o,a;for(n in e)if(r=ne.camelCase(n),i=t[r],o=e[n],ne.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=ne.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function F(e,t,n){var r,i,o=0,a=nt.length,s=ne.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Qe||R(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,o=1-r,a=0,u=c.tweens.length;a<u;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),o<1&&u?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:ne.extend({},t),opts:ne.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Qe||R(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ne.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),l=c.props;for(B(l,c.opts.specialEasing);o<a;o++)if(r=nt[o].call(c,e,l,c.opts))return r;return ne.map(l,N,c),ne.isFunction(c.opts.start)&&c.opts.start.call(e,c),ne.fx.timer(ne.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function D(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(me)||[];if(ne.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function z(e,t,n,r){function i(s){var u;return o[s]=!0,ne.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||a||o[c]?a?!(u=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),u}var o={},a=e===_t;return i(t.dataTypes[0])||!o["*"]&&i("*")}function U(e,t){var n,r,i=ne.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&ne.extend(!0,e,r),e}function q(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function H(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if(s=i.split(" "),s[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function $(e,t,n,r){var i;if(ne.isArray(t))ne.each(t,function(t,i){n||Et.test(e)?r(e,i):$(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ne.type(t))r(e,t);else for(i in t)$(e+"["+i+"]",t[i],n,r)}function W(e){return ne.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Z=[],V=Z.slice,G=Z.concat,K=Z.push,Y=Z.indexOf,Q={},J=Q.toString,X=Q.hasOwnProperty,ee={},te=n.document,ne=function(e,t){return new ne.fn.init(e,t)},re=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ie=/^-ms-/,oe=/-([\da-z])/gi,ae=function(e,t){return t.toUpperCase()};ne.fn=ne.prototype={jquery:"2.1.4",constructor:ne,selector:"",length:0,toArray:function(){return V.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:V.call(this)},pushStack:function(e){var t=ne.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ne.each(this,e,t)},map:function(e){return this.pushStack(ne.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(V.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:Z.sort,splice:Z.splice},ne.extend=ne.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||ne.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(c&&r&&(ne.isPlainObject(r)||(i=ne.isArray(r)))?(i?(i=!1,o=n&&ne.isArray(n)?n:[]):o=n&&ne.isPlainObject(n)?n:{},a[t]=ne.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},ne.extend({expando:"jQuery"+("2.1.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ne.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!ne.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===ne.type(e)&&!e.nodeType&&!ne.isWindow(e)&&!(e.constructor&&!X.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Q[J.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=ne.trim(e))&&(1===e.indexOf("use strict")?(t=te.createElement("script"),t.text=e,te.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ie,"ms-").replace(oe,ae)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,i=e.length,o=a(e);if(n){if(o)for(;r<i&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(o)for(;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(re,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(a(Object(e))?ne.merge(n,"string"==typeof e?[e]:e):K.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:Y.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i=0,o=e.length,s=a(e),u=[];if(s)for(;i<o;i++)null!=(r=t(e[i],i,n))&&u.push(r);else for(i in e)null!=(r=t(e[i],i,n))&&u.push(r);return G.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),ne.isFunction(e))return r=V.call(arguments,2),i=function(){return e.apply(t||this,r.concat(V.call(arguments)))},i.guid=e.guid=e.guid||ne.guid++,i},now:Date.now,support:ee}),ne.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Q["[object "+t+"]"]=t.toLowerCase()});var se=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(e){function t(e,t,n,r){var i,o,a,s,c,f,h,p,d,m;if((t?t.ownerDocument||t:F)!==L&&O(t),t=t||L,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&A){if(11!==s&&(i=ge.exec(e)))if(a=i[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&I(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Y.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&_.getElementsByClassName)return Y.apply(n,t.getElementsByClassName(a)),n}if(_.qsa&&(!R||!R.test(e))){if(p=h=B,d=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(f=C(e),(h=t.getAttribute("id"))?p=h.replace(ve,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",c=f.length;c--;)f[c]=p+l(f[c]);d=ye.test(e)&&u(t.parentNode)||t,m=f.join(",")}if(m)try{return Y.apply(n,d.querySelectorAll(m)),n}catch(e){}finally{h||t.removeAttribute("id")}}}return T(e.replace(ae,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>b.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[B]=!0,e}function i(e){var t=L.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)b.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||W)-(~e.sourceIndex||W);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function l(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=z++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,c=[D,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[B]||(t[B]={}),(s=u[r])&&s[0]===D&&s[1]===o)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function p(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function d(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function m(e,t,n,i,o,a){return i&&!i[B]&&(i=m(i)),o&&!o[B]&&(o=m(o,a)),r(function(r,a,s,u){var c,l,f,h=[],m=[],g=a.length,y=r||p(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?y:d(y,h,e,s,u),_=n?o||(r?e:g||i)?[]:a:v;if(n&&n(v,_,s,u),i)for(c=d(_,m),i(c,[],s,u),l=c.length;l--;)(f=c[l])&&(_[m[l]]=!(v[m[l]]=f));if(r){if(o||e){if(o){for(c=[],l=_.length;l--;)(f=_[l])&&c.push(v[l]=f);o(null,_=[],c,u)}for(l=_.length;l--;)(f=_[l])&&(c=o?J(r,f):h[l])>-1&&(r[c]=!(a[c]=f))}}else _=d(_===a?_.splice(g,_.length):_),o?o(null,a,_,u):Y.apply(a,_)})}function g(e){for(var t,n,r,i=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=f(function(e){return e===t},a,!0),c=f(function(e){return J(t,e)>-1},a,!0),p=[function(e,n,r){var i=!o&&(r||n!==S)||((t=n).nodeType?u(e,n,r):c(e,n,r));return t=null,i}];s<i;s++)if(n=b.relative[e[s].type])p=[f(h(p),n)];else{if(n=b.filter[e[s].type].apply(null,e[s].matches),n[B]){for(r=++s;r<i&&!b.relative[e[r].type];r++);return m(s>1&&h(p),s>1&&l(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ae,"$1"),n,s<r&&g(e.slice(s,r)),r<i&&g(e=e.slice(r)),r<i&&l(e))}p.push(n)}return h(p)}function y(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,c){var l,f,h,p=0,m="0",g=r&&[],y=[],v=S,_=r||o&&b.find.TAG("*",c),w=D+=null==v?1:Math.random()||.1,x=_.length;for(c&&(S=a!==L&&a);m!==x&&null!=(l=_[m]);m++){if(o&&l){for(f=0;h=e[f++];)if(h(l,a,s)){u.push(l);break}c&&(D=w)}i&&((l=!h&&l)&&p--,r&&g.push(l))}if(p+=m,i&&m!==p){for(f=0;h=n[f++];)h(g,y,a,s);if(r){if(p>0)for(;m--;)g[m]||y[m]||(y[m]=G.call(u));y=d(y)}Y.apply(u,y),c&&!r&&y.length>0&&p+n.length>1&&t.uniqueSort(u)}return c&&(D=w,S=v),g};return i?r(a):a}var v,_,b,w,x,C,E,T,S,k,P,O,L,M,A,R,j,N,I,B="sizzle"+1*new Date,F=e.document,D=0,z=0,U=n(),q=n(),H=n(),$=function(e,t){return e===t&&(P=!0),0},W=1<<31,Z={}.hasOwnProperty,V=[],G=V.pop,K=V.push,Y=V.push,Q=V.slice,J=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},X="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne=te.replace("w","w#"),re="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+ee+"*\\]",ie=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",oe=new RegExp(ee+"+","g"),ae=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),se=new RegExp("^"+ee+"*,"+ee+"*"),ue=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),ce=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),le=new RegExp(ie),fe=new RegExp("^"+ne+"$"),he={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+X+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,de=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,ve=/'|\\/g,_e=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),be=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},we=function(){O()};try{Y.apply(V=Q.call(F.childNodes),F.childNodes),V[F.childNodes.length].nodeType}catch(e){Y={apply:V.length?function(e,t){K.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}_=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},O=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:F;return r!==L&&9===r.nodeType&&r.documentElement?(L=r,M=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),A=!x(r),_.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=me.test(r.getElementsByClassName),_.getById=i(function(e){return M.appendChild(e).id=B,!r.getElementsByName||!r.getElementsByName(B).length}),_.getById?(b.find.ID=function(e,t){if(void 0!==t.getElementById&&A){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},b.filter.ID=function(e){var t=e.replace(_e,be);return function(e){return e.getAttribute("id")===t}}):(delete b.find.ID,b.filter.ID=function(e){var t=e.replace(_e,be);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),b.find.TAG=_.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):_.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=_.getElementsByClassName&&function(e,t){if(A)return t.getElementsByClassName(e)},j=[],R=[],(_.qsa=me.test(r.querySelectorAll))&&(i(function(e){M.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+ee+"*(?:value|"+X+")"),e.querySelectorAll("[id~="+B+"-]").length||R.push("~="),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||R.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(_.matchesSelector=me.test(N=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&i(function(e){_.disconnectedMatch=N.call(e,"div"),N.call(e,"[s!='']:x"),j.push("!=",ie)}),R=R.length&&new RegExp(R.join("|")),j=j.length&&new RegExp(j.join("|")),t=me.test(M.compareDocumentPosition),I=t||me.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return P=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===F&&I(F,e)?-1:t===r||t.ownerDocument===F&&I(F,t)?1:k?J(k,e)-J(k,t):0:4&n?-1:1)}:function(e,t){if(e===t)return P=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],c=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:k?J(k,e)-J(k,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;u[i]===c[i];)i++;return i?a(u[i],c[i]):u[i]===F?-1:c[i]===F?1:0},r):L},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==L&&O(e),n=n.replace(ce,"='$1']"),_.matchesSelector&&A&&(!j||!j.test(n))&&(!R||!R.test(n)))try{var r=N.call(e,n);if(r||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,L,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==L&&O(e),I(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==L&&O(e);var n=b.attrHandle[t.toLowerCase()],r=n&&Z.call(b.attrHandle,t.toLowerCase())?n(e,t,!A):void 0;return void 0!==r?r:_.attributes||!A?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(P=!_.detectDuplicates,k=!_.sortStable&&e.slice(0),e.sort($),P){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return k=null,e},w=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=w(t);return n},b=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,be),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(oe," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,h,p,d,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;d=m="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?g.firstChild:g.lastChild],a&&v){for(l=g[B]||(g[B]={}),c=l[e]||[],p=c[0]===D&&c[1],h=c[0]===D&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(h=p=0)||d.pop();)if(1===f.nodeType&&++h&&f===t){l[e]=[D,p,h];break}}else if(v&&(c=(t[B]||(t[B]={}))[e])&&c[0]===D)h=c[1];else for(;(f=++p&&f&&f[m]||(h=p=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++h||(v&&((f[B]||(f[B]={}))[e]=[D,h]),f!==t)););return(h-=i)===r||h%r==0&&h/r>=0}}},PSEUDO:function(e,n){var i,o=b.pseudos[e]||b.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(n):o.length>1?(i=[e,e,"",n],b.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=J(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=E(e.replace(ae,"$1"));return i[B]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(_e,be),function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),lang:r(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_e,be).toLowerCase(),function(t){var n;do{if(n=A?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return de.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:s(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},b.pseudos.nth=b.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[v]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(v);for(v in{submit:!0,reset:!0})b.pseudos[v]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(v);return c.prototype=b.filters=b.pseudos,b.setFilters=new c,C=t.tokenize=function(e,n){var r,i,o,a,s,u,c,l=q[e+" "];if(l)return n?0:l.slice(0);for(s=e,u=[],c=b.preFilter;s;){r&&!(i=se.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ue.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ae," ")}),s=s.slice(r.length));for(a in b.filter)!(i=he[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):q(e,u).slice(0)},E=t.compile=function(e,t){var n,r=[],i=[],o=H[e+" "];if(!o){for(t||(t=C(e)),n=t.length;n--;)o=g(t[n]),o[B]?r.push(o):i.push(o);o=H(e,y(i,r)),o.selector=e}return o},T=t.select=function(e,t,n,r){var i,o,a,s,c,f="function"==typeof e&&e,h=!r&&C(e=f.selector||e);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&_.getById&&9===t.nodeType&&A&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(_e,be),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!b.relative[s=a.type]);)if((c=b.find[s])&&(r=c(a.matches[0].replace(_e,be),ye.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&l(o)))return Y.apply(n,r),n;break}}return(f||E(e,h))(r,t,!A,n,ye.test(e)&&u(t.parentNode)||t),n},_.sortStable=B.split("").sort($).join("")===B,_.detectDuplicates=!!P,O(),_.sortDetached=i(function(e){return 1&e.compareDocumentPosition(L.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(X,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(n);ne.find=se,ne.expr=se.selectors,ne.expr[":"]=ne.expr.pseudos,ne.unique=se.uniqueSort,ne.text=se.getText,ne.isXMLDoc=se.isXML,ne.contains=se.contains;var ue=ne.expr.match.needsContext,ce=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,le=/^.[^:#\[\.,]*$/;ne.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ne.find.matchesSelector(r,e)?[r]:[]:ne.find.matches(e,ne.grep(t,function(e){return 1===e.nodeType}))},ne.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(ne(e).filter(function(){for(t=0;t<n;t++)if(ne.contains(i[t],this))return!0}));for(t=0;t<n;t++)ne.find(e,i[t],r);return r=this.pushStack(n>1?ne.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&ue.test(e)?ne(e):e||[],!1).length}});var fe,he=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ne.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:he.exec(e))||!n[1]&&t)return!t||t.jquery?(t||fe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ne?t[0]:t,ne.merge(this,ne.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:te,!0)),ce.test(n[1])&&ne.isPlainObject(t))for(n in t)ne.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=te.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=te,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ne.isFunction(e)?void 0!==fe.ready?fe.ready(e):e(ne):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ne.makeArray(e,this))}).prototype=ne.fn,fe=ne(te);var pe=/^(?:parents|prev(?:Until|All))/,de={children:!0,contents:!0,next:!0,prev:!0};ne.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&ne(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ne.fn.extend({has:function(e){var t=ne(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ne.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ue.test(e)||"string"!=typeof e?ne(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ne.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ne.unique(o):o)},index:function(e){return e?"string"==typeof e?Y.call(ne(e),this[0]):Y.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ne.unique(ne.merge(this.get(),ne(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ne.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ne.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ne.dir(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return ne.dir(e,"nextSibling")},prevAll:function(e){return ne.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ne.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ne.dir(e,"previousSibling",n)},siblings:function(e){return ne.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ne.sibling(e.firstChild)},contents:function(e){return e.contentDocument||ne.merge([],e.childNodes)}},function(e,t){ne.fn[e]=function(n,r){var i=ne.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ne.filter(r,i)),this.length>1&&(de[e]||ne.unique(i),pe.test(e)&&i.reverse()),this.pushStack(i)}});var me=/\S+/g,ge={};ne.Callbacks=function(e){e="string"==typeof e?ge[e]||c(e):ne.extend({},e);var t,n,r,i,o,a,s=[],u=!e.once&&[],l=function(c){for(t=e.memory&&c,n=!0,a=i||0,i=0,o=s.length,r=!0;s&&a<o;a++)if(!1===s[a].apply(c[0],c[1])&&e.stopOnFalse){t=!1;break}r=!1,s&&(u?u.length&&l(u.shift()):t?s=[]:f.disable())},f={add:function(){if(s){var n=s.length;!function t(n){ne.each(n,function(n,r){var i=ne.type(r);"function"===i?e.unique&&f.has(r)||s.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),r?o=s.length:t&&(i=n,l(t))}return this},remove:function(){return s&&ne.each(arguments,function(e,t){for(var n;(n=ne.inArray(t,s,n))>-1;)s.splice(n,1),r&&(n<=o&&o--,n<=a&&a--)}),this},has:function(e){return e?ne.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],o=0,this},disable:function(){return s=u=t=void 0,this},disabled:function(){return!s},lock:function(){return u=void 0,t||f.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!s||n&&!u||(t=t||[],t=[e,t.slice?t.slice():t],r?u.push(t):l(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},ne.extend({Deferred:function(e){var t=[["resolve","done",ne.Callbacks("once memory"),"resolved"],["reject","fail",ne.Callbacks("once memory"),"rejected"],["notify","progress",ne.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ne.Deferred(function(n){ne.each(t,function(t,o){var a=ne.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ne.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ne.extend(e,r):r}},i={};return r.pipe=r.then,ne.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=V.call(arguments),a=o.length,s=1!==a||e&&ne.isFunction(e.promise)?a:0,u=1===s?e:ne.Deferred(),c=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?V.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&ne.isFunction(o[i].promise)?o[i].promise().done(c(i,r,o)).fail(u.reject).progress(c(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}});var ye;ne.fn.ready=function(e){return ne.ready.promise().done(e),this},ne.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ne.readyWait++:ne.ready(!0)},ready:function(e){(!0===e?--ne.readyWait:ne.isReady)||(ne.isReady=!0,!0!==e&&--ne.readyWait>0||(ye.resolveWith(te,[ne]),ne.fn.triggerHandler&&(ne(te).triggerHandler("ready"),ne(te).off("ready"))))}}),ne.ready.promise=function(e){return ye||(ye=ne.Deferred(),"complete"===te.readyState?setTimeout(ne.ready):(te.addEventListener("DOMContentLoaded",l,!1),n.addEventListener("load",l,!1))),ye.promise(e)},ne.ready.promise();var ve=ne.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,c=null==n;if("object"===ne.type(n)){i=!0;for(s in n)ne.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ne.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(ne(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):u?t(e[0],n):o};ne.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},f.uid=1,f.accepts=ne.acceptData,f.prototype={key:function(e){if(!f.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=f.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,ne.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(ne.isEmptyObject(o))ne.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,ne.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{ne.isArray(t)?r=t.concat(t.map(ne.camelCase)):(i=ne.camelCase(t),t in a?r=[t,i]:(r=i,r=r in a?[r]:r.match(me)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!ne.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var _e=new f,be=new f,we=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;ne.extend({hasData:function(e){return be.hasData(e)||_e.hasData(e)},data:function(e,t,n){return be.access(e,t,n)},removeData:function(e,t){be.remove(e,t)},_data:function(e,t,n){return _e.access(e,t,n)},_removeData:function(e,t){_e.remove(e,t)}}),ne.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=be.get(o),1===o.nodeType&&!_e.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ne.camelCase(r.slice(5)),h(o,r,i[r])));_e.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){be.set(this,e)}):ve(this,function(t){var n,r=ne.camelCase(e);if(o&&void 0===t){if(void 0!==(n=be.get(o,e)))return n;if(void 0!==(n=be.get(o,r)))return n;if(void 0!==(n=h(o,r,void 0)))return n}else this.each(function(){var n=be.get(this,r);be.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&be.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){be.remove(this,e)})}}),ne.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=_e.get(e,t),n&&(!r||ne.isArray(n)?r=_e.access(e,t,ne.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ne.queue(e,t),r=n.length,i=n.shift(),o=ne._queueHooks(e,t),a=function(){ne.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return _e.get(e,n)||_e.access(e,n,{empty:ne.Callbacks("once memory").add(function(){_e.remove(e,[t+"queue",n])})})}}),ne.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ne.queue(this[0],e):void 0===t?this:this.each(function(){var n=ne.queue(this,e,t);ne._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ne.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ne.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ne.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=_e.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ee=["Top","Right","Bottom","Left"],Te=function(e,t){return e=t||e,"none"===ne.css(e,"display")||!ne.contains(e.ownerDocument,e)},Se=/^(?:checkbox|radio)$/i;!function(){var e=te.createDocumentFragment(),t=e.appendChild(te.createElement("div")),n=te.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ee.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ee.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();ee.focusinBubbles="onfocusin"in n;var ke=/^key/,Pe=/^(?:mouse|pointer|contextmenu)|click/,Oe=/^(?:focusinfocus|focusoutblur)$/,Le=/^([^.]*)(?:\.(.+)|)$/;ne.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,c,l,f,h,p,d,m,g=_e.get(e);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=ne.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==ne&&ne.event.triggered!==t.type?ne.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(me)||[""],c=t.length;c--;)s=Le.exec(t[c])||[],p=m=s[1],d=(s[2]||"").split(".").sort(),p&&(f=ne.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=ne.event.special[p]||{},l=ne.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ne.expr.match.needsContext.test(i),namespace:d.join(".")},o),(h=u[p])||(h=u[p]=[],h.delegateCount=0,f.setup&&!1!==f.setup.call(e,r,d,a)||e.addEventListener&&e.addEventListener(p,a,!1)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),ne.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,f,h,p,d,m,g=_e.hasData(e)&&_e.get(e);if(g&&(u=g.events)){for(t=(t||"").match(me)||[""],c=t.length;c--;)if(s=Le.exec(t[c])||[],p=m=s[1],d=(s[2]||"").split(".").sort(),p){for(f=ne.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,h=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)l=h[o],!i&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,f.remove&&f.remove.call(e,l));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(e,d,g.handle)||ne.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)ne.event.remove(e,p+t[c],n,r,!0);ne.isEmptyObject(u)&&(delete g.handle,_e.remove(e,"events"))}},trigger:function(e,t,r,i){var o,a,s,u,c,l,f,h=[r||te],p=X.call(e,"type")?e.type:e,d=X.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||te,3!==r.nodeType&&8!==r.nodeType&&!Oe.test(p+ne.event.triggered)&&(p.indexOf(".")>=0&&(d=p.split("."),p=d.shift(),d.sort()),c=p.indexOf(":")<0&&"on"+p,e=e[ne.expando]?e:new ne.Event(p,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=d.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:ne.makeArray(t,[e]),f=ne.event.special[p]||{},i||!f.trigger||!1!==f.trigger.apply(r,t))){if(!i&&!f.noBubble&&!ne.isWindow(r)){for(u=f.delegateType||p,Oe.test(u+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||te)&&h.push(s.defaultView||s.parentWindow||n)}for(o=0;(a=h[o++])&&!e.isPropagationStopped();)e.type=o>1?u:f.bindType||p,l=(_e.get(a,"events")||{})[e.type]&&_e.get(a,"handle"),l&&l.apply(a,t),(l=c&&a[c])&&l.apply&&ne.acceptData(a)&&(e.result=l.apply(a,t),!1===e.result&&e.preventDefault());return e.type=p,i||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(h.pop(),t)||!ne.acceptData(r)||c&&ne.isFunction(r[p])&&!ne.isWindow(r)&&(s=r[c],s&&(r[c]=null),ne.event.triggered=p,r[p](),ne.event.triggered=void 0,s&&(r[c]=s)),e.result}},dispatch:function(e){e=ne.event.fix(e);var t,n,r,i,o,a=[],s=V.call(arguments),u=(_e.get(this,"events")||{})[e.type]||[],c=ne.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=ne.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(r=((ne.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(!0!==u.disabled||"click"!==e.type){for(r=[],n=0;n<s;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?ne(i,this).index(u)>=0:ne.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||te,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[ne.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Pe.test(i)?this.mouseHooks:ke.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ne.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=te),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==m()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===m()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ne.nodeName(this,"input"))return this.click(),!1},_default:function(e){return ne.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ne.extend(new ne.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ne.event.trigger(i,null,t):ne.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ne.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},ne.Event=function(e,t){if(!(this instanceof ne.Event))return new ne.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?p:d):this.type=e,t&&ne.extend(this,t),this.timeStamp=e&&e.timeStamp||ne.now(),this[ne.expando]=!0},ne.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=p,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ne.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ne.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||ne.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ee.focusinBubbles||ne.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ne.event.simulate(t,e.target,ne.event.fix(e),!0)};ne.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=_e.access(r,t);i||r.addEventListener(e,n,!0),_e.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=_e.access(r,t)-1;i?_e.access(r,t,i):(r.removeEventListener(e,n,!0),_e.remove(r,t))}}}),ne.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=d;else if(!r)return this;return 1===i&&(o=r,r=function(e){return ne().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=ne.guid++)),this.each(function(){ne.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ne(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=d),this.each(function(){ne.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ne.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ne.event.trigger(e,t,n,!0)}});var Me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ae=/<([\w:]+)/,Re=/<|&#?\w+;/,je=/<(?:script|style|link)/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^$|\/(?:java|ecma)script/i,Be=/^true\/(.*)/,Fe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,De={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};De.optgroup=De.option,De.tbody=De.tfoot=De.colgroup=De.caption=De.thead,De.th=De.td,ne.extend({clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=ne.contains(e.ownerDocument,e);if(!(ee.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ne.isXMLDoc(e)))for(a=w(s),o=w(e),r=0,i=o.length;r<i;r++)x(o[r],a[r]);if(t)if(n)for(o=o||w(e),a=a||w(s),r=0,i=o.length;r<i;r++)b(o[r],a[r]);else b(e,s);return a=w(s,"script"),a.length>0&&_(a,!u&&w(e,"script")),s},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,c,l=t.createDocumentFragment(),f=[],h=0,p=e.length;h<p;h++)if((i=e[h])||0===i)if("object"===ne.type(i))ne.merge(f,i.nodeType?[i]:i);else if(Re.test(i)){for(o=o||l.appendChild(t.createElement("div")),a=(Ae.exec(i)||["",""])[1].toLowerCase(),s=De[a]||De._default,o.innerHTML=s[1]+i.replace(Me,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;ne.merge(f,o.childNodes),o=l.firstChild,o.textContent=""}else f.push(t.createTextNode(i));for(l.textContent="",h=0;i=f[h++];)if((!r||-1===ne.inArray(i,r))&&(u=ne.contains(i.ownerDocument,i),o=w(l.appendChild(i),"script"),u&&_(o),n))for(c=0;i=o[c++];)Ie.test(i.type||"")&&n.push(i);return l},cleanData:function(e){for(var t,n,r,i,o=ne.event.special,a=0;void 0!==(n=e[a]);a++){if(ne.acceptData(n)&&(i=n[_e.expando])&&(t=_e.cache[i])){if(t.events)for(r in t.events)o[r]?ne.event.remove(n,r):ne.removeEvent(n,r,t.handle);_e.cache[i]&&delete _e.cache[i]}delete be.cache[n[be.expando]]}}}),ne.fn.extend({text:function(e){return ve(this,function(e){return void 0===e?ne.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){g(this,e).appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ne.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ne.cleanData(w(n)),n.parentNode&&(t&&ne.contains(n.ownerDocument,n)&&_(w(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ne.cleanData(w(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ne.clone(this,e,t)})},html:function(e){return ve(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!je.test(e)&&!De[(Ae.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Me,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(ne.cleanData(w(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ne.cleanData(w(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=G.apply([],e);var n,r,i,o,a,s,u=0,c=this.length,l=this,f=c-1,h=e[0],p=ne.isFunction(h);if(p||c>1&&"string"==typeof h&&!ee.checkClone&&Ne.test(h))return this.each(function(n){var r=l.eq(n);p&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)});if(c&&(n=ne.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=ne.map(w(n,"script"),y),o=i.length;u<c;u++)a=n,u!==f&&(a=ne.clone(a,!0,!0),o&&ne.merge(i,w(a,"script"))),t.call(this[u],a,u);if(o)for(s=i[i.length-1].ownerDocument,ne.map(i,v),u=0;u<o;u++)a=i[u],Ie.test(a.type||"")&&!_e.access(a,"globalEval")&&ne.contains(s,a)&&(a.src?ne._evalUrl&&ne._evalUrl(a.src):ne.globalEval(a.textContent.replace(Fe,"")))}return this}}),ne.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ne.fn[e]=function(e){for(var n,r=[],i=ne(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),ne(i[a])[t](n),K.apply(r,n.get());return this.pushStack(r)}});var ze,Ue={},qe=/^margin/,He=new RegExp("^("+Ce+")(?!px)[a-z%]+$","i"),$e=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):n.getComputedStyle(e,null)};!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(o);var e=n.getComputedStyle(a,null);t="1%"!==e.top,r="4px"===e.width,i.removeChild(o)}var t,r,i=te.documentElement,o=te.createElement("div"),a=te.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",ee.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),n.getComputedStyle&&ne.extend(ee,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==r&&e(),r},reliableMarginRight:function(){var e,t=a.appendChild(te.createElement("div"));return t.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",a.style.width="1px",i.appendChild(o),e=!parseFloat(n.getComputedStyle(t,null).marginRight),i.removeChild(o),a.removeChild(t),e}}))}(),ne.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var We=/^(none|table(?!-c[ea]).+)/,Ze=new RegExp("^("+Ce+")(.*)$","i"),Ve=new RegExp("^([+-])=("+Ce+")","i"),Ge={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"},Ye=["Webkit","O","Moz","ms"];ne.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=T(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ne.camelCase(t),u=e.style;if(t=ne.cssProps[s]||(ne.cssProps[s]=k(u,s)),a=ne.cssHooks[t]||ne.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];o=typeof n,"string"===o&&(i=Ve.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ne.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ne.cssNumber[s]||(n+="px"),ee.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n))}},css:function(e,t,n,r){var i,o,a,s=ne.camelCase(t);return t=ne.cssProps[s]||(ne.cssProps[s]=k(e.style,s)),a=ne.cssHooks[t]||ne.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=T(e,t,r)),"normal"===i&&t in Ke&&(i=Ke[t]),""===n||n?(o=parseFloat(i),!0===n||ne.isNumeric(o)?o||0:i):i}}),ne.each(["height","width"],function(e,t){ne.cssHooks[t]={get:function(e,n,r){if(n)return We.test(ne.css(e,"display"))&&0===e.offsetWidth?ne.swap(e,Ge,function(){return L(e,t,r)}):L(e,t,r)},set:function(e,n,r){var i=r&&$e(e);return P(e,n,r?O(e,t,r,"border-box"===ne.css(e,"boxSizing",!1,i),i):0)}}}),ne.cssHooks.marginRight=S(ee.reliableMarginRight,function(e,t){if(t)return ne.swap(e,{display:"inline-block"},T,[e,"marginRight"])}),ne.each({margin:"",padding:"",border:"Width"},function(e,t){ne.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Ee[r]+t]=o[r]||o[r-2]||o[0];return i}},qe.test(e)||(ne.cssHooks[e+t].set=P)}),ne.fn.extend({css:function(e,t){return ve(this,function(e,t,n){var r,i,o={},a=0;if(ne.isArray(t)){for(r=$e(e),i=t.length;a<i;a++)o[t[a]]=ne.css(e,t[a],!1,r);return o}return void 0!==n?ne.style(e,t,n):ne.css(e,t)},e,t,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Te(this)?ne(this).show():ne(this).hide()})}}),ne.Tween=A,A.prototype={constructor:A,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ne.cssNumber[n]?"":"px")},cur:function(){var e=A.propHooks[this.prop];return e&&e.get?e.get(this):A.propHooks._default.get(this)},run:function(e){var t,n=A.propHooks[this.prop];return this.options.duration?this.pos=t=ne.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ne.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ne.fx.step[e.prop]?ne.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ne.cssProps[e.prop]]||ne.cssHooks[e.prop])?ne.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ne.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ne.fx=A.prototype.init,ne.fx.step={};var Qe,Je,Xe=/^(?:toggle|show|hide)$/,et=new RegExp("^(?:([+-])=|)("+Ce+")([a-z%]*)$","i"),tt=/queueHooks$/,nt=[I],rt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=et.exec(t),o=i&&i[3]||(ne.cssNumber[e]?"":"px"),a=(ne.cssNumber[e]||"px"!==o&&+r)&&et.exec(ne.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{s=s||".5",a/=s,ne.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ne.Animation=ne.extend(F,{tweener:function(e,t){ne.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],rt[n]=rt[n]||[],rt[n].unshift(t)},prefilter:function(e,t){t?nt.unshift(e):nt.push(e)}}),ne.speed=function(e,t,n){var r=e&&"object"==typeof e?ne.extend({},e):{complete:n||!n&&t||ne.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ne.isFunction(t)&&t};return r.duration=ne.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ne.fx.speeds?ne.fx.speeds[r.duration]:ne.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){ne.isFunction(r.old)&&r.old.call(this),r.queue&&ne.dequeue(this,r.queue)},r},ne.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Te).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ne.isEmptyObject(e),o=ne.speed(t,n,r),a=function(){var t=F(this,ne.extend({},e),o);(i||_e.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ne.timers,a=_e.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&tt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||ne.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=_e.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ne.timers,a=r?r.length:0;for(n.finish=!0,ne.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ne.each(["toggle","show","hide"],function(e,t){var n=ne.fn[t];ne.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(j(t,!0),e,r,i)}}),ne.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ne.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ne.timers=[],ne.fx.tick=function(){var e,t=0,n=ne.timers;for(Qe=ne.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ne.fx.stop(),Qe=void 0},ne.fx.timer=function(e){ne.timers.push(e),e()?ne.fx.start():ne.timers.pop()},ne.fx.interval=13,ne.fx.start=function(){Je||(Je=setInterval(ne.fx.tick,ne.fx.interval))},ne.fx.stop=function(){clearInterval(Je),Je=null},ne.fx.speeds={slow:600,fast:200,_default:400},ne.fn.delay=function(e,t){return e=ne.fx?ne.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=te.createElement("input"),t=te.createElement("select"),n=t.appendChild(te.createElement("option"));e.type="checkbox",ee.checkOn=""!==e.value,ee.optSelected=n.selected,t.disabled=!0,ee.optDisabled=!n.disabled,e=te.createElement("input"),e.value="t",e.type="radio",ee.radioValue="t"===e.value}();var it,ot=ne.expr.attrHandle;ne.fn.extend({attr:function(e,t){return ve(this,ne.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ne.removeAttr(this,e)})}}),ne.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?ne.prop(e,t,n):(1===o&&ne.isXMLDoc(e)||(t=t.toLowerCase(),r=ne.attrHooks[t]||(ne.expr.match.bool.test(t)?it:void 0)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=ne.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void ne.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(me);if(o&&1===e.nodeType)for(;n=o[i++];)r=ne.propFix[n]||n,ne.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!ee.radioValue&&"radio"===t&&ne.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),it={set:function(e,t,n){return!1===t?ne.removeAttr(e,n):e.setAttribute(n,n),n}},ne.each(ne.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||ne.find.attr;ot[t]=function(e,t,r){var i,o;return r||(o=ot[t],ot[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,ot[t]=o),i}});var at=/^(?:input|select|textarea|button)$/i;ne.fn.extend({prop:function(e,t){return ve(this,ne.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ne.propFix[e]||e]})}}),ne.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!ne.isXMLDoc(e),o&&(t=ne.propFix[t]||t,i=ne.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),ee.optSelected||(ne.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),ne.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ne.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;ne.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,u=0,c=this.length;if(ne.isFunction(e))return this.each(function(t){ne(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(me)||[];u<c;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=ne.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,u=0,c=this.length;if(ne.isFunction(e))return this.each(function(t){ne(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(me)||[];u<c;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?ne.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ne.isFunction(e)?this.each(function(n){ne(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=ne(this),o=e.match(me)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else"undefined"!==n&&"boolean"!==n||(this.className&&_e.set(this,"__className__",this.className),this.className=this.className||!1===e?"":_e.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var ut=/\r/g;ne.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=ne.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ne(this).val()):e,null==i?i="":"number"==typeof i?i+="":ne.isArray(i)&&(i=ne.map(i,function(e){return null==e?"":e+""})),(t=ne.valHooks[this.type]||ne.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=ne.valHooks[i.type]||ne.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ut,""):null==n?"":n)}}}),ne.extend({valHooks:{option:{get:function(e){var t=ne.find.attr(e,"value");return null!=t?t:ne.trim(ne.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(n=r[u],(n.selected||u===i)&&(ee.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ne.nodeName(n.parentNode,"optgroup"))){if(t=ne(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ne.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=ne.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ne.each(["radio","checkbox"],function(){ne.valHooks[this]={set:function(e,t){if(ne.isArray(t))return e.checked=ne.inArray(ne(e).val(),t)>=0}},ee.checkOn||(ne.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ne.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ne.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ne.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ct=ne.now(),lt=/\?/;ne.parseJSON=function(e){return JSON.parse(e+"")},ne.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||ne.error("Invalid XML: "+e),t};var ft=/#.*$/,ht=/([?&])_=[^&]*/,pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,dt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mt=/^(?:GET|HEAD)$/,gt=/^\/\//,yt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,vt={},_t={},bt="*/".concat("*"),wt=n.location.href,xt=yt.exec(wt.toLowerCase())||[];ne.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt,type:"GET",isLocal:dt.test(xt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ne.parseJSON,"text xml":ne.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?U(U(e,ne.ajaxSettings),t):U(ne.ajaxSettings,e)},ajaxPrefilter:D(vt),ajaxTransport:D(_t),ajax:function(e,t){function n(e,t,n,a){var u,l,y,v,b,x=t;2!==_&&(_=2,s&&clearTimeout(s),r=void 0,o=a||"",w.readyState=e>0?4:0,u=e>=200&&e<300||304===e,n&&(v=q(f,w,n)),v=H(f,v,w,u),u?(f.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(ne.lastModified[i]=b),(b=w.getResponseHeader("etag"))&&(ne.etag[i]=b)),204===e||"HEAD"===f.type?x="nocontent":304===e?x="notmodified":(x=v.state,l=v.data,y=v.error,u=!y)):(y=x,!e&&x||(x="error",e<0&&(e=0))),w.status=e,w.statusText=(t||x)+"",u?d.resolveWith(h,[l,x,w]):d.rejectWith(h,[w,x,y]),w.statusCode(g),g=void 0,c&&p.trigger(u?"ajaxSuccess":"ajaxError",[w,f,u?l:y]),m.fireWith(h,[w,x]),c&&(p.trigger("ajaxComplete",[w,f]),--ne.active||ne.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,c,l,f=ne.ajaxSetup({},t),h=f.context||f,p=f.context&&(h.nodeType||h.jquery)?ne(h):ne.event,d=ne.Deferred(),m=ne.Callbacks("once memory"),g=f.statusCode||{},y={},v={},_=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===_){if(!a)for(a={};t=pt.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===_?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return _||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return _||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(_<2)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return r&&r.abort(t),n(0,t),this}};if(d.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||wt)+"").replace(ft,"").replace(gt,xt[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=ne.trim(f.dataType||"*").toLowerCase().match(me)||[""],null==f.crossDomain&&(u=yt.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===xt[1]&&u[2]===xt[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(xt[3]||("http:"===xt[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ne.param(f.data,f.traditional)),z(vt,f,t,w),2===_)return w;c=ne.event&&f.global,c&&0==ne.active++&&ne.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!mt.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(lt.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=ht.test(i)?i.replace(ht,"$1_="+ct++):i+(lt.test(i)?"&":"?")+"_="+ct++)),f.ifModified&&(ne.lastModified[i]&&w.setRequestHeader("If-Modified-Since",ne.lastModified[i]),ne.etag[i]&&w.setRequestHeader("If-None-Match",ne.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+bt+"; q=0.01":""):f.accepts["*"]);for(l in f.headers)w.setRequestHeader(l,f.headers[l]);if(f.beforeSend&&(!1===f.beforeSend.call(h,w,f)||2===_))return w.abort();b="abort";for(l in{success:1,error:1,complete:1})w[l](f[l]);if(r=z(_t,f,t,w)){w.readyState=1,c&&p.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},f.timeout));try{_=1,r.send(y,n)}catch(e){if(!(_<2))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ne.get(e,t,n,"json")},getScript:function(e,t){return ne.get(e,void 0,t,"script")}}),ne.each(["get","post"],function(e,t){ne[t]=function(e,n,r,i){return ne.isFunction(n)&&(i=i||r,r=n,n=void 0),ne.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),ne._evalUrl=function(e){return ne.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ne.fn.extend({wrapAll:function(e){var t;return ne.isFunction(e)?this.each(function(t){ne(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ne(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return ne.isFunction(e)?this.each(function(t){ne(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ne(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ne.isFunction(e);return this.each(function(n){ne(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ne.nodeName(this,"body")||ne(this).replaceWith(this.childNodes)}).end()}}),ne.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},ne.expr.filters.visible=function(e){return!ne.expr.filters.hidden(e)};var Ct=/%20/g,Et=/\[\]$/,Tt=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;ne.param=function(e,t){var n,r=[],i=function(e,t){t=ne.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ne.ajaxSettings&&ne.ajaxSettings.traditional),ne.isArray(e)||e.jquery&&!ne.isPlainObject(e))ne.each(e,function(){i(this.name,this.value)});else for(n in e)$(n,e[n],t,i);return r.join("&").replace(Ct,"+")},ne.fn.extend({serialize:function(){return ne.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ne.prop(this,"elements");return e?ne.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ne(this).is(":disabled")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!Se.test(e))}).map(function(e,t){var n=ne(this).val();return null==n?null:ne.isArray(n)?ne.map(n,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:n.replace(Tt,"\r\n")}}).get()}}),ne.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Pt=0,Ot={},Lt={0:200,1223:204},Mt=ne.ajaxSettings.xhr();n.attachEvent&&n.attachEvent("onunload",function(){for(var e in Ot)Ot[e]()}),ee.cors=!!Mt&&"withCredentials"in Mt,ee.ajax=Mt=!!Mt,ne.ajaxTransport(function(e){var t;if(ee.cors||Mt&&!e.crossDomain)return{send:function(n,r){var i,o=e.xhr(),a=++Pt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Ot[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(Lt[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Ot[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),ne.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ne.globalEval(e),e}}}),ne.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ne.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=ne("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),te.head.appendChild(t[0])},abort:function(){n&&n()}}}});var At=[],Rt=/(=)\?(?=&|$)|\?\?/;ne.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=At.pop()||ne.expando+"_"+ct++;return this[e]=!0,e}}),ne.ajaxPrefilter("json jsonp",function(e,t,r){var i,o,a,s=!1!==e.jsonp&&(Rt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=ne.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Rt,"$1"+i):!1!==e.jsonp&&(e.url+=(lt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||ne.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always(function(){n[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,At.push(i)),a&&ne.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ne.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||te;var r=ce.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ne.buildFragment([e],t,i),i&&i.length&&ne(i).remove(),ne.merge([],r.childNodes))};var jt=ne.fn.load;ne.fn.load=function(e,t,n){if("string"!=typeof e&&jt)return jt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=ne.trim(e.slice(s)),e=e.slice(0,s)),ne.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&ne.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?ne("<div>").append(ne.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},ne.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ne.fn[t]=function(e){return this.on(t,e)}}),ne.expr.filters.animated=function(e){return ne.grep(ne.timers,function(t){return e===t.elem}).length};var Nt=n.document.documentElement;ne.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c,l=ne.css(e,"position"),f=ne(e),h={};"static"===l&&(e.style.position="relative"),s=f.offset(),o=ne.css(e,"top"),u=ne.css(e,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),ne.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+i),"using"in t?t.using.call(e,h):f.css(h)}},ne.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ne.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,ne.contains(t,r)?(void 0!==r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=W(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===ne.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ne.nodeName(e[0],"html")||(r=e.offset()),r.top+=ne.css(e[0],"borderTopWidth",!0),r.left+=ne.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-ne.css(n,"marginTop",!0),left:t.left-r.left-ne.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Nt;e&&!ne.nodeName(e,"html")&&"static"===ne.css(e,"position");)e=e.offsetParent;return e||Nt})}}),ne.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;ne.fn[e]=function(i){return ve(this,function(e,i,o){var a=W(e);if(void 0===o)return a?a[t]:e[i];a?a.scrollTo(r?n.pageXOffset:o,r?o:n.pageYOffset):e[i]=o},e,i,arguments.length,null)}}),ne.each(["top","left"],function(e,t){ne.cssHooks[t]=S(ee.pixelPosition,function(e,n){if(n)return n=T(e,t),He.test(n)?ne(e).position()[t]+"px":n})}),ne.each({Height:"height",Width:"width"},function(e,t){ne.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ne.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return ve(this,function(t,n,r){var i;return ne.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ne.css(t,n,a):ne.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),ne.fn.size=function(){return this.length},ne.fn.andSelf=ne.fn.addBack,r=[],void 0!==(i=function(){return ne}.apply(t,r))&&(e.exports=i);var It=n.jQuery,Bt=n.$;return ne.noConflict=function(e){return n.$===ne&&(n.$=Bt),e&&n.jQuery===ne&&(n.jQuery=It),ne},void 0===o&&(n.jQuery=n.$=ne),ne})},function(e,t,n){"use strict";var r=function(e,t){return e.get("type").toLowerCase()===t.toLowerCase()};e.exports={isTiledLayer:function(e){return r(e,"Tiled")},isPlainLayer:function(e){return r(e,"Plain")},isWMSLayer:function(e){return r(e,"WMS")},isGoogleMapsBaseLayer:function(e){return r(e,"GMapsBase")},isCartoDBLayer:function(e){return r(e,"CartoDB")},isTorqueLayer:function(e){return r(e,"torque")}}},function(e,t,n){"use strict";var r=n(0),i=function(e){this._rule=e};i.prototype.matchesAnyProperty=function(e){return this._matches(this._rule.prop,e)},i.prototype.matchesAnyMapping=function(e){return this._matches(this._rule.mapping,e)},i.prototype._matches=function(e,t){return r.isString(t)&&(t=[t]),r.contains(t,e)},i.prototype.getBucketsWithRangeFilter=function(){return this._getBucketsByFilterType("range")},i.prototype.getBucketsWithCategoryFilter=function(){return this._getBucketsByFilterType("category")},i.prototype.getBucketsWithDefaultFilter=function(){return this._getBucketsByFilterType("default")},i.prototype._getBucketsByFilterType=function(e){return this._rule?r.select(this._rule.buckets,function(t){return t.filter.type===e}):[]},i.prototype.getColumn=function(){return this._rule.column},i.prototype.getMapping=function(){return this._rule.mapping},i.prototype.getProperty=function(){return this._rule.prop},i.prototype.getFilterAvg=function(){return this._rule.stats.filter_avg},e.exports=i},function(e,t,n){"use strict";e.exports={SUCCESS:"success",ERROR:"error"}},function(e,t,n){"use strict";var r=n(0),i=n(1),o=n(30),a=["state","visible"],s=i.Model.extend({defaults:function(){return{visible:!1,title:"",preHTMLSnippet:"",postHTMLSnippet:"",state:this.constructor.STATE_LOADING}},initialize:function(e,t){if(!t.engine)throw new Error("engine is required");t.engine.on(o.Events.RELOAD_STARTED,this._onEngineReloadStarted,this)},_onEngineReloadStarted:function(){this.set("state",this.constructor.STATE_LOADING)},isLoading:function(){return this.get("state")===this.constructor.STATE_LOADING},isError:function(){return this.get("state")===this.constructor.STATE_ERROR},isSuccess:function(){return this.get("state")===this.constructor.STATE_SUCCESS},show:function(){this.set("visible",!0)},hide:function(){this.set("visible",!1)},isVisible:function(){return this.get("visible")},update:function(e){this.set(e)},getNonResettableAttrs:function(){return a},reset:function(){var e=r.omit(this.defaults(),this.getNonResettableAttrs());this.set(e)},isAvailable:function(){return!1}},{STATE_LOADING:"loading",STATE_SUCCESS:"success",STATE_ERROR:"error"});e.exports=s},function(e,t,n){"use strict";function r(){this._id=r.$generateId(),this._hasFiltersApplied=!1,this._appliedFilters=new s}var i=n(0),o=n(1),a=n(3),s=n(26),u=n(12);i.extend(r.prototype,o.Events),r.$nextId=0,r.$generateId=function(){return"S"+ ++r.$nextId},r.prototype.getId=function(){return this._id},r.prototype._createInternalModel=function(e){throw new Error("_createInternalModel must be implemented by the particular source")},r.prototype._triggerError=function(e,t){this.trigger(u.ERROR,new a(t,{analysis:this}))},r.prototype.$setEngine=function(e){this._internalModel||(this._internalModel=this._createInternalModel(e),this._internalModel.on("change:error",this._triggerError,this))},r.prototype.$getEngine=function(e){if(this._internalModel)return this._internalModel._engine},r.prototype.$getInternalModel=function(){return this._internalModel},r.prototype.getFilters=function(){return this._appliedFilters.getFilters()},r.prototype.addFilter=function(e){this._hasFiltersApplied=!0,this._appliedFilters.addFilter(e)},r.prototype.addFilters=function(e){var t=this;e.forEach(function(e){return t.addFilter(e)})},r.prototype.removeFilter=function(e){this._appliedFilters.removeFilter(e),this._hasFiltersApplied=Boolean(this._appliedFilters.count())},r.prototype.removeFilters=function(e){var t=this;e.forEach(function(e){return t.removeFilter(e)})},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=n(7),l=n(99),f=["includeNull"],h=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._checkColumn(e),r._checkOptions(n),r._column=e,r._filters={},r._options=n,r}return a(t,e),s(t,[{key:"set",value:function(e,t){if(e&&t&&u.isString(e)){var n=r({},e,t);this._checkFilters(n),this._filters[e]=t,this.trigger("change:filters",n)}}},{key:"setFilters",value:function(e){e&&u.isObject(e)&&(this._checkFilters(e),this._filters=e,this.trigger("change:filters",e))}},{key:"resetFilters",value:function(){this.setFilters({})}},{key:"$getSQL",value:function(){var e=this,t=Object.keys(this._filters),n=t.map(function(t){return e._interpolateFilter(t,e._filters[t])}).filter(function(e){return Boolean(e)}).join(" AND ");return this._options.includeNull&&this._includeNullInQuery(n),t.length>1?"("+n+")":n}},{key:"_checkColumn",value:function(e){if(u.isUndefined(e))throw this._getValidationError("columnRequired");if(!u.isString(e))throw this._getValidationError("columnString");if(u.isEmpty(e))throw this._getValidationError("emptyColumn")}},{key:"_checkFilters",value:function(e){var t=this;Object.keys(e).forEach(function(n){if(!u.contains(t.ALLOWED_FILTERS,n))throw t._getValidationError("invalidFilter"+n);if(!t.PARAMETER_SPECIFICATION[n].parameters.every(function(t){var n=l(e,t.name);return t.allowedTypes.some(function(e){return p(e,n)})}))throw t._getValidationError("invalidParameterType"+n)})}},{key:"_checkOptions",value:function(e){var t=this;Object.keys(e).forEach(function(e){if(!u.contains(f,e))throw t._getValidationError("invalidOption"+e)})}},{key:"_convertValueToSQLString",value:function(e){return u.isDate(e)?"'"+e.toISOString()+"'":u.isArray(e)?e.map(function(e){return"'"+d(e.toString())+"'"}).join(","):u.isObject(e)||u.isNumber(e)?e:"'"+d(e.toString())+"'"}},{key:"_interpolateFilter",value:function(e,t){return u.template(this.SQL_TEMPLATES[e])({column:this._column,value:this._convertValueToSQLString(t)})}},{key:"_includeNullInQuery",value:function(e){return Object.keys(this._filters).length>1&&(e="("+e+")"),"("+e+" OR "+this._column+" IS NULL)"}}]),t}(c),p=function(e,t){return u["is"+e](t)},d=function(e){return e.replace(/\n/g,"\\n").replace(/\"/g,'\\"').replace(/'/g,"''")};e.exports=h},function(e,t,n){"use strict";function r(){}var i=n(0),o=n(1),a=n(5).status,s=n(14),u=n(7),c=n(15),l=n(3),f=n(4);i.extend(r.prototype,o.Events),r.prototype.getStatus=function(){return this._status},r.prototype.isLoading=function(){return this._status===a.LOADING},r.prototype.isLoaded=function(){return this._status===a.LOADED},r.prototype.hasError=function(){return this._status===a.ERROR},r.prototype.enable=function(){return this._setEnabled(!0)},r.prototype.disable=function(){return this._setEnabled(!1)},r.prototype.isEnabled=function(){return this._enabled},r.prototype.getSource=function(){return this._source},r.prototype.setColumn=function(e){return this._checkColumn(e),this._column=e,this._internalModel&&this._internalModel.set("column",this._column),this},r.prototype.getColumn=function(){return this._column},r.prototype.addFilter=function(e){return this._checkFilter(e),e!==this._boundingBoxFilter&&this._addBoundingBoxFilter(e),this},r.prototype.removeFilter=function(e){return this._checkFilter(e),e===this._boundingBoxFilter&&this._removeBoundingBoxFilter(),this},r.prototype.hasFilter=function(e){return this._checkFilter(e),e===this._boundingBoxFilter&&this._internalModel&&this._internalModel.get("sync_on_bbox_change")},r.prototype.getData=function(){throw new Error("getData must be implemented by the particular dataview.")},r.prototype.DEFAULTS={},r.prototype._initialize=function(e,t,n){n=i.defaults(n||{},this.DEFAULTS),this._checkSource(e),this._checkColumn(t),this._checkOptions(n),this._source=e,this._column=t,this._options=n,this._status=a.NOT_LOADED,this._enabled=!0,this._boundingBoxFilter=null},r.prototype._checkSource=function(e){if(!(e instanceof s))throw this._getValidationError("sourceRequired")},r.prototype._checkColumn=function(e){if(i.isUndefined(e))throw this._getValidationError("columnRequired");if(!i.isString(e))throw this._getValidationError("columnString");if(i.isEmpty(e))throw this._getValidationError("emptyColumn")},r.prototype._checkOptions=function(e){throw new Error("_checkOptions must be implemented by the particular dataview.")},r.prototype._checkFilter=function(e){if(!(e instanceof u)||e instanceof c)throw this._getValidationError("filterRequired")},r.prototype._createInternalModel=function(e){throw new Error("_createInternalModel must be implemented by the particular dataview.")},r.prototype._setEnabled=function(e){return this._enabled=e,this._internalModel&&this._internalModel.set("enabled",e),this},r.prototype._listenToInternalModelSharedEvents=function(){this._internalModel&&(this.listenTo(this._internalModel,"change:data",this._onDataChanged),this.listenTo(this._internalModel,"change:column",this._onColumnChanged),this.listenTo(this._internalModel,"loading",this._onStatusLoading),this.listenTo(this._internalModel,"loaded",this._onStatusLoaded),this.listenTo(this._internalModel,"statusError",this._onStatusError))},r.prototype._onDataChanged=function(){this.trigger("dataChanged",this.getData())},r.prototype._onColumnChanged=function(){this._internalModel&&(this._column=this._internalModel.get("column")),this.trigger("columnChanged",this._column)},r.prototype._onStatusLoading=function(){this._status=a.LOADING,this.trigger("statusChanged",this._status)},r.prototype._onStatusLoaded=function(){this._status=a.LOADED,this.trigger("statusChanged",this._status)},r.prototype._onStatusError=function(e,t){this._status=a.ERROR,this.trigger("statusChanged",this._status,t),this._triggerError(this,t)},r.prototype._changeProperty=function(e,t,n){var r=this["_"+e];this["_"+e]=t,r!==t&&(this._triggerChange(e,t),this._internalModel&&this._internalModel.set(n||e,t))},r.prototype._changeProperties=function(e){var t=this;i.each(e,function(e,n){t["_"+n]!==e&&(t["_"+n]=e,t._triggerChange(n,e))}),this._internalModel&&this._internalModel.set(e)},r.prototype._triggerChange=function(e,t){this.trigger(e+"Changed",t)},r.prototype._triggerError=function(e,t){this.trigger("error",new l(t))},r.prototype._addBoundingBoxFilter=function(e){this._boundingBoxFilter=e,this._internalModel&&(this._internalModel.addBBoxFilter(this._boundingBoxFilter.$getInternalModel()),this._internalModel.set("sync_on_bbox_change",!0))},r.prototype._removeBoundingBoxFilter=function(){this._boundingBoxFilter=null,this._internalModel&&this._internalModel.set("sync_on_bbox_change",!1)},r.prototype._getValidationError=function(e){return new f("dataview",e)},r.prototype.$setEngine=function(e){this._source.$setEngine(e),this._internalModel||(this._createInternalModel(e),this._listenToInternalModelSharedEvents())},r.prototype.$getInternalModel=function(){return this._internalModel},e.exports=r},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){var t=o(e);return a.chain(t).map(function(e){return e.getSource()}).compact().value()}function i(e){return e.chain().map(function(e){return e.getSource()}).compact().value()}function o(e){return e.filter(function(e){return l.isCartoDBLayer(e)||l.isTorqueLayer(e)})}var a=n(0),s=n(1),u=n(8),c=n(19),l=n(10),f=function(e){if(e=e||{},!e.engine)throw new Error("engine is required");this._engine=e.engine,this._apiKey=e.apiKey,this._authToken=e.authToken,this._camshaftReference=e.camshaftReference||c,this._analysisNodes=new s.Collection};f.prototype.analyse=function(e){e=a.clone(e);var t=this.findNodeById(e.id),n=this._getAnalysisAttributesFromAnalysisDefinition(e);return t?t.set(n):(this._apiKey&&(n.apiKey=this._apiKey),this._authToken&&(n.authToken=this._authToken),t=new u(n,{camshaftReference:this._camshaftReference,engine:this._engine}),this._analysisNodes.add(t),t.bind("destroy",this._onAnalysisRemoved,this)),t},f.prototype._getAnalysisAttributesFromAnalysisDefinition=function(e){var t={},n=e.type,r=this._camshaftReference.getSourceNamesForAnalysisType(n);return a.each(r,function(n){var r=e.params[n];r&&(t[n]=this.analyse(r))},this),a.omit(a.extend(e,e.params,t),"params")},f.prototype.createAnalysisForLayer=function(e,t){return this.analyse({id:e,type:"source",params:{query:t}})},f.prototype.findNodeById=function(e){return this._analysisNodes.get(e)},f.prototype._onAnalysisRemoved=function(e){this._analysisNodes.remove(e),e.unbind("destroy",this._onAnalysisRemoved)},f.getUniqueAnalysisNodes=function(e,t){var n={},r=f.getAnalysisList(e,t);return a.each(r,function(e){e.getNodesCollection().each(function(e){n[e.get("id")]=e})}),a.map(n,function(e){return e},this)},f.getAnalysisList=function(e,t){var n=r(e),o=i(t);return n.concat(o)},e.exports=f},function(e,t,n){"use strict";var r=n(61).getVersion("latest"),i={NODE:"node",NUMBER:"number",STRING:"string",ENUM:"enum"},o={};o.source=[];var a={},s=r.analyses;if(!s)throw new Error("Error loading the reference for Camshaft analyses");for(var u in s){var c=s[u].params;for(var l in c){a[u]=a[u]||[],a[u].push(l),o[u]=o[u]||[];c[l].type===i.NODE&&o[u].push(l)}}e.exports={getSourceNamesForAnalysisType:function(e){var t=o[e];if(!t)throw new Error("source names for analysis of type "+e+" couldn't be found");return t},getParamNamesForAnalysisType:function(e){var t=a[e];if(!t)throw new Error("param names for analysis of type "+e+" couldn't be found");return t}}},function(e,t,n){"use strict";var r=n(72);e.exports={error:function(){console.error.apply(console,arguments)},log:function(){console.log.apply(console,arguments)},info:function(){console.log.apply(console,arguments)},debug:function(){r.DEBUG&&console.log.apply(console,arguments)}}},function(e){e.exports={name:"internal-carto.js",version:"4.1.6",description:"CARTO javascript library",repository:{type:"git",url:"git://github.com/CartoDB/carto.js.git"},author:{name:"CARTO",url:"https://carto.com/"},contributors:["Javier lvarez <jmedina@carto.com>","Javier lvarez <xabel@vizzuality.com>","Javier Arce <javierarce@carto.com>","Javier Santana <jsantana@carto.com>","Raul Ochoa <rochoa@carto.com>","Carlos Matalln <matallo@carto.com>","Jaime Chapinal <jaime.chapinal@carto.com>","Nicklas Gummesson <nicklas@carto.com>","Francisco Dans <francisco@carto.com>","Emilio Garca <emilio@carto.com>","Ivan Malagon <ivan@carto.com>","Ruben Moya <ruben@carto.com>","Jesus Arroyo Torrens <jarroyo@carto.com>","Iago Lastra <iago@carto.com>","Elena Torr <elena@carto.com>","Jess Botella <jbotella@carto.com>"],private:!0,license:"BSD-3-Clause",dependencies:{backbone:"1.2.3","backbone-poller":"^1.1.3","browserify-shim":"3.8.12","camshaft-reference":"0.34.0",carto:"cartodb/carto#master","@carto/zera":"1.0.7","clip-path-polygon":"0.1.12","d3-array":"1.2.1","d3-format":"1.2.0","d3-time-format":"2.1.0",jquery:"2.1.4",mustache:"1.1.0","perfect-scrollbar":"git://github.com/CartoDB/perfect-scrollbar.git#master",postcss:"5.0.19","promise-polyfill":"^6.1.0","torque.js":"CartoDB/torque#master",underscore:"1.8.3","whatwg-fetch":"^2.0.3"},devDependencies:{"babel-core":"^6.26.3","babel-loader":"^7.1.4","babel-plugin-transform-object-rest-spread":"^6.26.0","babel-preset-env":"^1.7.0","babel-preset-es2015":"~6.24.1",babelify:"^7.3.0",browserify:"13.0.0",cartoassets:"CartoDB/CartoAssets#master",eslint:"~4.8.0","eslint-config-semistandard":"~11.0.0","eslint-config-standard":"~10.2.1","eslint-plugin-import":"~2.7.0","eslint-plugin-node":"~5.2.0","eslint-plugin-promise":"~3.5.0","eslint-plugin-standard":"~3.0.1","findup-sync":"0.1.3",grunt:"0.4.5","grunt-aws":"^0.4.0","grunt-browserify":"5.0.0","grunt-contrib-clean":"~0.5.0","grunt-contrib-concat":"~0.3.0","grunt-contrib-connect":"~0.11.2","grunt-contrib-copy":"~0.7.0","grunt-contrib-cssmin":"~0.7.0","grunt-contrib-imagemin":"~1.0.0","grunt-contrib-jasmine":"1.1.0","grunt-contrib-uglify":"0.10.0","grunt-contrib-watch":"git://github.com/gruntjs/grunt-contrib-watch.git#b884948805940c663b1cbb91a3c28ba8afdebf78","grunt-eslint":"~20.1.0","grunt-exorcise":"2.1.0","grunt-fastly":"~0.1.3","grunt-gitinfo":"~0.1.7","grunt-prompt":"~1.3.0","grunt-replace":"0.6.2","grunt-sass":"2.0.0",gulp:"3.8.10","gulp-iconfont":"1.0.0","gulp-iconfont-css":"0.0.9","gulp-install":"0.2.0","gulp-sketch":"0.0.7","jasmine-ajax":"git://github.com/nobuti/jasmine-ajax.git#master",jsdoc:"~3.5.5",jstify:"0.12.0",leaflet:"1.3.1","load-grunt-tasks":"~0.6.0","npm-watch":"^0.3.0",semver:"~5.4.0","source-map-support":"CartoDB/node-source-map-support#0.4.6-cdb1","time-grunt":"~0.3.1","uglifyjs-webpack-plugin":"^1.1.2",watchify:"3.4.0",webpack:"^4.12.1","webpack-cli":"^3.0.8"},browserify:{transform:["browserify-shim","jstify"]},browser:{cdb:"./src/cdb.js","cdb.config":"./src/cdb.config.js","cdb.core.util":"./src/core/util.js","cdb.core.Profiler":"./src/core/profiler.js","cdb.log":"./src/cdb.log.js","cdb.errors":"./src/cdb.errors.js","cdb.templates":"./src/cdb.templates.js",geojson:"./vendor/GeoJSON.js","html-css-sanitizer":"./vendor/html-css-sanitizer-bundle.js",mousewheel:"./vendor/mousewheel.js",mwheelIntent:"./vendor/mwheelIntent.js"},"browserify-shim":{geojson:"GeoJSON","html-css-sanitizer":"html",mousewheel:{depends:["jquery:jQuery"]},mwheelIntent:{depends:["jquery:jQuery"]}},files:["dist","node_modules/cdb","src","themes","vendor"],main:"src/index.js",config:{root:"."},scripts:{test:"grunt test","test:browser":"grunt dev",lint:"eslint .","lint:fix":"eslint . --fix",build:"rm -rf dist/public; NODE_ENV=production webpack --progress --config webpack/webpack.config.js && NODE_ENV=production webpack --progress --config webpack/webpack.min.config.js","build:watch":"NODE_ENV=development webpack --progress -w --config webpack/webpack.config.js","build:internal":"grunt build",docs:"rm -rf docs/public; jsdoc --configure config/jsdoc/public-conf.json","docs:internal":"rm -rf docs/internal; jsdoc --configure config/jsdoc/internal-conf.json",bump:"npm version prerelease","bump:minor":"npm version minor","bump:patch":"npm version patch",postversion:"git push origin HEAD --follow-tags",release:"./scripts/release.sh"},watch:{docs:"src/**/*.js"}}},function(e,t,n){"use strict";var r=n(0),i=n(33),o=function(e,t){if(e=e||{},e.responseJSON&&(e=e.responseJSON),e.errors_with_context)return r.map(e.errors_with_context,function(e){return new i(e,t)});if(e.errors){var n="string"==typeof e.errors[0]?{message:e.errors[0]}:e.errors[0];return[new i(n,t)]}return e.statusText?[new i({message:e.statusText},t,"ajax")]:[]};e.exports=o},function(e,t,n){"use strict";e.exports={OVERLAY_TYPES:{ATTRIBUTION:"attribution",HEADER:"header",LIMITS:"limits",TILES:"tiles",LOADER:"loader",LOGO:"logo",SEARCH:"search",ZOOM:"zoom"},MAP_PROVIDER_TYPES:{GMAPS:"googlemaps",LEAFLET:"leaflet"},GMAPS_BASE_LAYER_TYPES:["roadmap","gray_roadmap","dark_roadmap","hybrid","satellite","terrain"],WINDSHAFT_ERRORS:{ANALYSIS:"analysis",LAYER:"layer",LIMIT:"limit",TILE:"tile",GENERIC:"generic",UNKNOWN:"unknown"}}},function(e,t,n){"use strict";var r=n(85),i=n(103),o=n(104);e.exports={Aggregation:o,Layer:r,events:i}},function(e,t,n){"use strict";var r=n(0),i=n(13),o=i.extend({defaults:function(){return r.extend(i.prototype.defaults.apply(this),{state:i.STATE_SUCCESS})},_onEngineReloadStarted:function(){},isAvailable:function(){return!0}});e.exports=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=n(7),c=n(15),l=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._initialize(e),n}return o(t,e),a(t,[{key:"_initialize",value:function(e){var t=this;this._filters=[],e&&e.length&&e.map(function(e){return t.addFilter(e)})}},{key:"addFilter",value:function(e){var n=this;if(!(e instanceof c||e instanceof t))throw this._getValidationError("wrongFilterType");s.contains(this._filters,e)||(this.listenTo(e,"change:filters",function(e){return n._triggerFilterChange(e)}),this._filters.push(e),this._triggerFilterChange())}},{key:"removeFilter",value:function(e){var t=s.indexOf(this._filters,e);if(-1!==t){var n=this._filters.splice(t,1)[0];return n.off("change:filters",null,this),this._triggerFilterChange(),n}}},{key:"count",value:function(){return this._filters.length}},{key:"getFilters",value:function(){return this._filters}},{key:"$getSQL",value:function(){var e=this._filters.map(function(e){return e.$getSQL()}).filter(function(e){return Boolean(e)}),t=e.join(" "+(this.JOIN_OPERATOR||"AND")+" ");return e.length>1?"("+t+")":t}},{key:"_triggerFilterChange",value:function(e){this.trigger("change:filters",e)}}]),t}(u);e.exports=l},function(e,t,n){"use strict";var r=n(0),i=n(2),o=n(28),a=n(8),s=n(6),u=n(22),c=["engine"];e.exports=i.extend({defaults:{url:"",data:[],sync_on_bbox_change:!0,enabled:!0,status:"unfetched"},url:function(){var e=r.union([this._getBoundingBoxFilterParam()],this._getDataviewSpecificURLParams());if(this._engine.getApiKey())e.push("api_key="+this._engine.getApiKey());else if(this._engine.getAuthToken()){var t=this._engine.getAuthToken();t instanceof Array?r.each(t,function(t){e.push("auth_token[]="+t)}):e.push("auth_token="+t)}return this.get("url")+"?"+e.join("&")},_getBoundingBoxFilterParam:function(){var e="";return this._checkBBoxFilter(),this.syncsOnBoundingBoxChanges()&&(e="bbox="+this._bboxFilter.serialize()),e},_getDataviewSpecificURLParams:function(){return[]},initialize:function(e,t){if(e=e||{},t=t||{},s.checkRequiredOpts(t,c,"DataviewModelBase"),this._hasBinds=!1,this._engine=t.engine,!e.source)throw new Error("source is a required attr");this._checkSourceAttribute(this.getSource()),this.getSource().markAsSourceOf(this),e.id||this.set("id",this.defaults.type+"-"+this.cid),this.sync=o.bind(this),this.filter=t.filter,this.filter&&this.filter.set("dataviewId",this.id),t.bboxFilter&&this.addBBoxFilter(t.bboxFilter),this._initBinds()},_initBinds:function(){this.listenToOnce(this,"change:url",function(){this._checkBBoxFilter(),this.syncsOnBoundingBoxChanges()&&!this._bboxFilter.areBoundsAvailable()?this.listenTo(this._bboxFilter,"boundsChanged",this._fetch):this._fetch()}),this.filter&&this.listenTo(this.filter,"change",this._onFilterChanged),this.getSource().on("change:status",this._onAnalysisStatusChange,this)},_onChangeBinds:function(){this.on("change:sync_on_bbox_change",function(){this.refresh()},this),this.on("change:url",function(e,t,n){this._newDataAvailable=!0,this._shouldFetchOnURLChange(n&&r.pick(n,["forceFetch","sourceId"]))&&this.refresh()},this),this.on("change:enabled",function(e,t){t&&this._newDataAvailable&&(this.refresh(),this._newDataAvailable=!1)},this)},_onMapBoundsChanged:function(){this._shouldFetchOnBoundingBoxChange()&&this._fetch(),this.syncsOnBoundingBoxChanges()&&(this._newDataAvailable=!0)},_fetch:function(){this.fetch({success:function(){this._hasBinds||(this._hasBinds=!0,this._onChangeBinds())}.bind(this)})},_onAnalysisStatusChange:function(e,t){e.isLoading()?this._triggerLoading():e.isFailed()&&this._triggerStatusError(e.get("error"))},_triggerLoading:function(){this.trigger("loading",this)},_triggerStatusError:function(e){this.trigger("statusError",this,e)},_onFilterChanged:function(e){this._reload({sourceId:this.getSourceId()})},_reloadAndForceFetch:function(){this._reload({sourceId:this.getSourceId(),forceFetch:!0})},_reload:function(e){e=e||{},this._engine.reload(e)},_shouldFetchOnURLChange:function(e){e=e||{};var t=e.sourceId;return!!e.forceFetch||this.isEnabled()&&this._sourceAffectsMyOwnSource(t)},_sourceAffectsMyOwnSource:function(e){if(!e)return!0;var t=this.getSource();return t&&t.findAnalysisById(e)},_shouldFetchOnBoundingBoxChange:function(){return this.isEnabled()&&this.syncsOnBoundingBoxChanges()},refresh:function(){this.fetch()},addBBoxFilter:function(e){e&&(this._stopListeningBBoxChanges(),this._bboxFilter=e,this._listenToBBoxChanges())},update:function(e){if(r.has(e,"source"))throw new Error("Source of dataviews cannot be updated");e=r.pick(e,this.constructor.ATTRS_NAMES),this.set(e)},getData:function(){return this.get("data")},getPreviousData:function(){return this.previous("data")},fetch:function(e){if(e=e||{},this.set("status","fetching"),this._triggerLoading(),e.success)var t=e&&e.success;return i.prototype.fetch.call(this,r.extend(e,{success:function(){this.set("status","fetched"),t&&t(arguments),this.trigger("loaded",this)}.bind(this),error:function(e,t){if(!t||t&&"abort"!==t.statusText){this.set("status","error");var n=this._parseError(t);this._triggerStatusError(n)}}.bind(this)}))},toJSON:function(){throw new Error("toJSON should be defined for each dataview")},getSourceType:function(){return this.getSource().get("type")},getSourceId:function(){var e=this.getSource();return e&&e.id},getSource:function(){return this.get("source")},isSourceType:function(){return"source"===this.getSourceType()},isFiltered:function(){var e=!1;return this.filter&&(e=!this.filter.isEmpty()),e},remove:function(){this._removeExistingAnalysisBindings(),this.getSource().unmarkAsSourceOf(this),this.trigger("destroy",this),this.stopListening()},_removeExistingAnalysisBindings:function(){this.getSource().off("change:status",this._onAnalysisStatusChange,this)},isFetched:function(){return"fetched"===this.get("status")},isUnavailable:function(){return"error"===this.get("status")},isEnabled:function(){return this.get("enabled")},setUnavailable:function(){return this.set("status","error")},syncsOnBoundingBoxChanges:function(){return this.get("sync_on_bbox_change")},_checkSourceAttribute:function(e){if(!(e instanceof a))throw new Error("Source must be an instance of AnalysisModel")},_checkBBoxFilter:function(){if(this.syncsOnBoundingBoxChanges()&&!this._bboxFilter)throw new Error("Cannot sync on bounding box changes. There is no bounding box filter.")},_listenToBBoxChanges:function(){this._bboxFilter&&this.listenTo(this._bboxFilter,"boundsChanged",this._onMapBoundsChanged)},_stopListeningBBoxChanges:function(){this._bboxFilter&&this.stopListening(this._bboxFilter,"boundsChanged")},_parseError:function(e){var t={},n=u(e,"dataview");return n.length>0&&(t=n[0]),t}},{ATTRS_NAMES:["id","sync_on_bbox_change","enabled","source"]})},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t,n){var i=arguments[1];return this._xhr&&this._xhr.abort(),this._xhr=r.sync.apply(this,arguments),this._xhr.always(function(){i._xhr=null}),this._xhr}},function(e,t,n){"use strict";var r=n(0),i=n(2);e.exports=i.extend({initialize:function(e){this._bounds={},e&&(this._mapAdapter=e,this.setBounds(this._mapAdapter.getBounds()),this._initBinds())},_initBinds:function(){this.listenTo(this._mapAdapter,"boundsChanged",r.debounce(this._boundsChanged,350))},_stopBinds:function(){this._mapAdapter&&this.stopListening(this._mapAdapter,"boundsChanged")},_boundsChanged:function(e){this.setBounds(e)},setBounds:function(e){this._bounds=e,this.trigger("boundsChanged",e)},getBounds:function(){return this._bounds},areBoundsAvailable:function(){return r.isFinite(this._bounds.west)},serialize:function(){return[this._bounds.west,this._bounds.south,this._bounds.east,this._bounds.north].join(",")},clean:function(){this._stopBinds()}})},function(e,t,n){"use strict";function r(e){if(!e)throw new Error("new Engine() called with no parameters");this._isNamedMap=void 0!==e.templateName,this._timeout=null,this._stackCalls=[],this._batchOptions={},this._windshaftSettings={urlTemplate:e.serverUrl,userName:e.username,client:e.client,apiKey:e.apiKey,authToken:e.authToken,templateName:e.templateName},this._windshaftClient=new m(this._windshaftSettings),this._eventEmmitter=i.extend({},s.Events),this._analysisPoller=new o,this._layersCollection=new l,this._dataviewsCollection=new c,this._cartoLayerGroup=new u({apiKey:e.apiKey,authToken:e.authToken},{layersCollection:this._layersCollection}),this._bindCartoLayerGroupError(),this._modelUpdater=new f({dataviewsCollection:this._dataviewsCollection,layerGroupModel:this._cartoLayerGroup,layersCollection:this._layersCollection})}var i=n(0),o=n(57),a=n(59),s=n(1),u=n(68),c=n(69),l=n(70),f=n(71),h=n(77),p=n(78),d=n(79),m=n(80),g=n(18),y=n(33);r.prototype.getLayerGroup=function(){return this._cartoLayerGroup},r.prototype.getApiKey=function(){return this._windshaftSettings&&this._windshaftSettings.apiKey},r.prototype.getAuthToken=function(){return this._windshaftSettings&&this._windshaftSettings.authToken},r.prototype.on=function(e,t,n){this._eventEmmitter.on(e,t,n)},r.prototype.off=function(e,t,n){this._eventEmmitter.off(e,t,n)},r.prototype.reload=function(e){return e=e||{},new Promise(function(t,n){this._batchOptions=i.pick({sourceId:e.sourceId,forceFetch:this._batchOptions.forceFetch||e.forceFetch,includeFilters:e.includeFilters},i.negate(i.isUndefined)),this._stackCalls.push({success:e.success,error:e.error,resolve:t,reject:n});var r=function(){this._timeout=null,this._performReload(this._batchOptions).then(function(){this._stackCalls.forEach(function(e){e.success&&e.success(),e.resolve()}),this._stackCalls=[],this._batchOptions={}}.bind(this)).catch(function(e){this._stackCalls.forEach(function(t){t.error&&t.error(e),t.reject(e)}),this._stackCalls=[],this._batchOptions={}}.bind(this))}.bind(this);clearTimeout(this._timeout),this._timeout=setTimeout(r,100)}.bind(this))},r.prototype._performReload=function(e){return new Promise(function(t,n){var i=this._buildWindshaftOptions(e,function(n){this._onReloadSuccess(n,e.sourceId,e.forceFetch),t()}.bind(this),function(e){var t=this._onReloadError(e);n(t)}.bind(this));try{var o=this._buildParams(i.includeFilters),a=this._getSerializer().serialize(this._layersCollection,this._dataviewsCollection),s=new p(a,o,i);this._eventEmmitter.trigger(r.Events.RELOAD_STARTED),this._windshaftClient.instantiateMap(s)}catch(e){var u=new y({message:e.message});this._manageClientError(u,i)}}.bind(this))},r.prototype.addLayer=function(e){this._layersCollection.add(e)},r.prototype.removeLayer=function(e){this._layersCollection.remove(e)},r.prototype.moveLayer=function(e,t){var n=this._layersCollection.indexOf(e);n>=0&&n!==t&&this._layersCollection.models.splice(t,0,this._layersCollection.models.splice(n,1)[0])},r.prototype.addDataview=function(e){this._dataviewsCollection.add(e)},r.prototype.removeDataview=function(e){this._dataviewsCollection.remove(e)},r.prototype._onReloadSuccess=function(e,t,n){var i=new d(this._windshaftSettings,e);this._modelUpdater.updateModels(i,t,n),this._restartAnalysisPolling(),this._eventEmmitter.trigger(r.Events.RELOAD_SUCCESS)},r.prototype._onReloadError=function(e){var t=this._getSimpleWindshaftError(e);return this._modelUpdater.setErrors(e),this._eventEmmitter.trigger(r.Events.RELOAD_ERROR,t),t},r.prototype._buildWindshaftOptions=function(e,t,n){return i.extend({includeFilters:!0,success:t,error:n},i.pick(e,"sourceId","forceFetch","includeFilters"))},r.prototype._buildParams=function(e){var t={};return t.client=this._windshaftSettings.client,e&&!i.isEmpty(this._dataviewsCollection.getFilters())&&(t.filters=this._dataviewsCollection.getFilters()),this._windshaftSettings.apiKey?(t.api_key=this._windshaftSettings.apiKey,t):this._windshaftSettings.authToken?(t.auth_token=this._windshaftSettings.authToken,t):void console.warn("Engine initialized with no apiKeys neither authToken")},r.prototype._restartAnalysisPolling=function(){var e=g.getUniqueAnalysisNodes(this._layersCollection,this._dataviewsCollection);this._analysisPoller.resetAnalysisNodes(e)},r.prototype._getSerializer=function(){return this._isNamedMap?h:a},r.prototype._manageClientError=function(e,t){this._modelUpdater.setErrors([e]),t.error&&t.error([e])},r.prototype._bindCartoLayerGroupError=function(){this._cartoLayerGroup.on("all",function(e,t){0===e.lastIndexOf("error:",0)&&(t=new y(t),this._eventEmmitter.trigger(r.Events.LAYER_ERROR,t))},this)},r.prototype._getSimpleWindshaftError=function(e){var t=i.find(e,function(e){return e.isGlobalError()});return!t&&e&&e.length>0&&(t=e[0]),t},r.Events={RELOAD_STARTED:"reload-started",RELOAD_SUCCESS:"reload-success",RELOAD_ERROR:"reload-error",LAYER_ERROR:"layer-error"},e.exports=r},function(e,t,n){"use strict";var r=n(62);e.exports.getVersion=function(e){if("latest"===e)e=r.target;else if(!r.versions.includes(e))throw new Error('Invalid camshaft-reference version: "'+e+'". Valid versions are: '+r.versions.join(", ")+".");return n(63)("./"+e+"/reference.json")},e.exports.versions=r.versions},function(e,t,n){"use strict";e.exports={MAPS_API_BASE_URL:"api/v1/map"}},function(e,t,n){"use strict";function r(e){return e&&e.length>256?e.substring(0,256):e}function i(e,t,n){return e&&e!==o.UNKNOWN?e:t||(e!==o.UNKNOWN?n:o.UNKNOWN)}var o=n(23).WINDSHAFT_ERRORS,a=function(e,t,n){this._error=e,this.origin=n||"windshaft",this.type=i(e.type,t,o.GENERIC),this.subtype=e.subtype,this.message=r(e.message),this.context=e.context,this.isLayerError(e.type)&&(this.context=e.layer&&e.layer.context,this.layerId=e.layer&&e.layer.id),this.isAnalysisError(e.type)&&e.analysis&&(this.context=e.analysis.context,this.analysisId=e.analysis.node_id||e.analysis.id)};a.prototype.isGlobalError=function(e){return!this.isLayerError(e)&&!this.isAnalysisError(e)},a.prototype.isLayerError=function(e){return(e=e||this._error.type)===o.LAYER},a.prototype.isAnalysisError=function(e){return(e=e||this._error.type)===o.ANALYSIS},e.exports=a},function(e,t,n){"use strict";function r(e,t,n){n=n||{},this._id=n.id||r.$generateId()}var i=n(0),o=n(1);i.extend(r.prototype,o.Events),r.prototype.getId=function(){return this._id},r.$nextId=0,r.$generateId=function(){return"L"+ ++r.$nextId},r.prototype.$getInternalModel=function(){return this._internalModel},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(1),o=function(e){return r.map(e,function(e){var t={};return t[e.name]=e.title,t})},a=i.Collection.extend({equals:function(e){var t=this.toJSON();return r.isEqual(o(t),o(e))}});e.exports=a},function(e,t,n){"use strict";function r(){}var i=n(0),o=n(1);i.extend(r.prototype,o.Events),r.prototype.$setError=function(e){this._error=e,this.trigger("error",e)},r.prototype.$setEngine=function(e){if(this._engine&&this._engine!==e)throw new Error("CartoCSS engine cannot be changed");this._engine=e},r.prototype.$getEngine=function(){return this._engine},e.exports=r},function(e,t,n){"use strict";function r(e,t){this._type=e||"",this._column=t.getColumn(),this._mapping=t.getMapping(),this._property=t.getProperty()}r.prototype.getType=function(){return this._type},r.prototype.getColumn=function(){return this._column},r.prototype.getMapping=function(){return this._mapping},r.prototype.getProperty=function(){return this._property},e.exports=r},function(e,t,n){"use strict";e.exports=function(e,t,n){if(n){var r={data:void 0,latLng:void 0};t.feature&&(r.data=t.feature),t.latlng&&(r.latLng={lat:t.latlng[0],lng:t.latlng[1]}),t.position&&(r.position={x:t.position.x,y:t.position.y}),n.trigger(e,r)}}},function(e,t,n){"use strict";function r(e,t){t=t||{},this.interaction=[],this.nativeMap=t.nativeMap,this._mapModel=t.mapModel,e.on("change:urls",this._reload,this),e.onLayerVisibilityChanged(this._reload.bind(this)),this._reload()}var i=n(22);r.prototype={_reload:function(){throw new Error("_reload must be implemented")},_reloadInteraction:function(){this._clearInteraction(),this.model.forEachGroupedLayer(function(e,t){e.isVisible()&&(e.isInteractive()||this._mapModel&&this._mapModel.isFeatureInteractivityEnabled())&&this._enableInteraction(t)},this)},_clearInteraction:function(){for(var e in this.interaction)this.interaction.hasOwnProperty(e)&&this.interaction[e]&&(this.interaction[e].remove(),this.interaction[e]=null)},_enableInteraction:function(e){var t=this,n=this._generateTileJSON(e);if(n){var r=this.interaction[e];r&&r.remove(),this.interaction[e]=(new this.interactionClass).map(this.nativeMap).tilejson(n).on("on",function(n){t._interactionDisabled||(n.layer=e,t._manageOnEvents(t.nativeMap,n))}).on("off",function(n){t._interactionDisabled||(n=n||{},null!=n.errors&&t._manageInteractivityErrors(n),n.layer=e,t._manageOffEvents(t.nativeMap,n))})}},_manageInteractivityErrors:function(e){var t=i(e);t.length>0&&this.trigger("featureError",t[0])},_generateTileJSON:function(e){if(this.model.hasURLs())return{tilejson:"2.0.0",scheme:"xyz",grids:this.model.getGridURLTemplatesWithSubdomains(e),tiles:this.model.getTileURLTemplatesWithSubdomains(),formatter:function(e,t){return t}}},error:function(e){},tilesOk:function(){}},e.exports=r},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=n(4),s=n(5),u=function(){function e(t,n){r(this,e),t&&this._bindMap(t),this._tileLoader=new s(n),this._tileSize=256,this._eventEmitter=new a}return i(e,[{key:"tilejson",value:function(e){return this._tileLoader.setUrl(e.grids[0]),this}},{key:"map",value:function(e){return this._bindMap(e),this}},{key:"_bindMap",value:function(e){this._map=new o(e),this._map.on("click",this._onMapClick.bind(this)),this._map.on("mousemove",this._onMapMouseMove.bind(this))}},{key:"on",value:function(e,t){switch(e){case"on":this._eventEmitter.addEventListener("mousemove",t),this._eventEmitter.addEventListener("click",t);break;case"off":this._eventEmitter.addEventListener("featureout",t);break;case"error":this._eventEmitter.addEventListener("error",t)}return this}},{key:"_onMapClick",value:function(e){var t=this,n=this._map.cloneEvent(e),r=this._getTileCoordsFromMouseEvent(n);this._tileLoader.loadTile(r.z,r.x,r.y).then(function(e){if("fetching"!==e)return t._objectForEvent(e,n,"click")}).catch(function(e){t._eventEmitter.dispatchEvent("error",e)})}},{key:"_onMapMouseMove",value:function(e){var t=this,n=this._map.cloneEvent(e),r=this._getTileCoordsFromMouseEvent(n);this._tileLoader.loadTile(r.z,r.x,r.y).then(function(e){if("fetching"!==e)return t._objectForEvent(e,n,"mousemove")}).catch(function(e){t._eventEmitter.dispatchEvent("error",e)})}},{key:"_getTileCoordsFromMouseEvent",value:function(e){var t=this._map.project(e),n=this._unscale(t,this._tileSize);return n.z=Math.round(this._map.getZoom()),n}},{key:"_unscale",value:function(e,t){return{x:Math.floor(e.x/t),y:Math.floor(e.y/t)}}},{key:"_objectForEvent",value:function(e,t,n){var r=this._map.project(t),i=this._unscale(r,this._tileSize),o=i.x,a=i.y,s=Math.pow(2,this._map.getZoom());if(o=(o+s)%s,a=(a+s)%s,e&&e.grid){var u=Math.floor((r.x-o*this._tileSize)/4),c=Math.floor((r.y-a*this._tileSize)/4),l=this._utfDecode(e.grid[c].charCodeAt(u)),f=e.keys[l];e.data.hasOwnProperty(f)&&(t.data=e.data[f])}t.e=t.originalEvent||{type:n},this._triggerEvent(n,t)}},{key:"_triggerEvent",value:function(e,t){return t.data?"mousemove"===e?void this._eventEmitter.dispatchEvent("mousemove",t):void("click"===e&&(this._eventEmitter.dispatchEvent("featureout",{}),this._eventEmitter.dispatchEvent("click",t))):void this._eventEmitter.dispatchEvent("featureout",{})}},{key:"remove",value:function(){this._eventEmitter.clear(),this._map.off("click"),this._map.off("mousemove")}},{key:"_utfDecode",value:function(e){return e>=93&&e--,e>=35&&e--,e-32}}]),e}();e.exports={Interactive:u}},function(e,t,n){"use strict";function r(e){return e.__gm?new i(e):new o(e)}var i=n(2),o=n(3);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this._map=t,this._listeners={}}return i(e,[{key:"project",value:function(e){var t=e.latLng,n=this._map.getProjection().fromLatLngToPoint(t),r=Math.pow(2,this.getZoom());return{x:Math.floor(r*n.x),y:Math.floor(r*n.y)}}},{key:"getZoom",value:function(){return this._map.getZoom()}},{key:"on",value:function(e,t){this._listeners[e]=this._map.addListener(e,t)}},{key:"off",value:function(e){this._listeners[e]&&this._listeners[e].remove()}},{key:"cloneEvent",value:function(e){return{da:e.da,latLng:e.latLng,pixel:e.pixel}}}]),e}();e.exports=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this._map=t,this._listeners={}}return i(e,[{key:"project",value:function(e){var t=e.latlng.wrap();return this._map.project(t,this._map.getZoom()).floor()}},{key:"getZoom",value:function(){return this._map.getZoom()}},{key:"on",value:function(e,t){return this._listeners[e]=t,this._map.on(e,t)}},{key:"off",value:function(e){return this._map.off(e,this._listeners[e])}},{key:"cloneEvent",value:function(e){return{containerPoint:e.containerPoint,latlng:e.latlng,layerPoint:e.layerPoint,originalEvent:e.originalEvent,target:e.target,type:e.type}}}]),e}();e.exports=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this._listeners={click:void 0,move:void 0,out:void 0,error:void 0}}return i(e,[{key:"dispatchEvent",value:function(e,t){switch(e){case"mousemove":this._listeners.move&&this._listeners.move(t);break;case"click":this._listeners.click&&this._listeners.click(t);break;case"featureout":this._listeners.out&&this._listeners.out();break;case"error":this._listeners.error&&this._listeners.error(t)}}},{key:"addEventListener",value:function(e,t){switch(e){case"mousemove":this._listeners.move=t;break;case"click":this._listeners.click=t;break;case"featureout":this._listeners.out=t;break;case"error":this._listeners.error=t}}},{key:"removeEventListener",value:function(e){switch(e){case"mousemove":delete this._listeners.move;break;case"click":delete this._listeners.click;break;case"featureout":delete this._listeners.out;break;case"error":delete this._listeners.error}}},{key:"clear",value:function(){this._listeners={click:void 0,move:void 0,out:void 0,error:void 0}}}]),e}();e.exports=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this._url=t,this._cache={}}return i(e,[{key:"setUrl",value:function(e){this._url=e}},{key:"loadTile",value:function(e,t,n){var r=this;return this._cache[e+"_"+t+"_"+n]?Promise.resolve(this._cache[e+"_"+t+"_"+n]):(this._cache[e+"_"+t+"_"+n]="fetching",fetch(this._buildTileUrl(e,t,n)).then(this._handleLimitErrors).then(function(i){return r._cache[e+"_"+t+"_"+n]=i,i}))}},{key:"_buildTileUrl",value:function(e,t,n){var r=this._url;return r=r.replace(/{z}/,e),r=r.replace(/{x}/,t),r=r.replace(/{y}/,n)}},{key:"_handleLimitErrors",value:function(e){return 429===e.status?e.json().then(function(e){return Promise.reject(e)}):e.json()}}]),e}();e.exports=o}])})},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(121);e.exports=r.Collection.extend({model:o,initialize:function(e,t){this.aggregationModel=t.aggregationModel,this.aggregation=t.aggregationModel.get("aggregation")},reset:function(e,t){"count"!==this.aggregationModel.get("aggregation")&&(e=i.filter(e,function(e){return null!=(e instanceof r.Model?e.get("value"):e.value)})),r.Collection.prototype.reset.call(this,e,t)},comparator:function(e,t){return"Other"===e.get("name")?1:"Other"===t.get("name")?-1:e.get("value")===t.get("value")?e.get("selected")<t.get("selected")?1:-1:e.get("value")<t.get("value")?1:-1},isOtherAvailable:function(){return this.where({agg:!0,name:"Other"}).length>0}})},function(e,t,n){"use strict";var r=n(0),i=n(1),o=n(145),a=n(27),s=n(130),u=n(43),c=n(131);e.exports=a.extend({defaults:r.extend({type:"histogram",totalAmount:0,filteredAmount:0,hasNulls:!1,localTimezone:!1},a.prototype.defaults),_getDataviewSpecificURLParams:function(){var e=[];if(r.isNumber(this.get("own_filter")))e.push("own_filter="+this.get("own_filter")),"number"===this.get("column_type")&&this.get("bins")&&e.push("bins="+this.get("bins"));else{var t=this.getCurrentOffset();"number"===this.get("column_type")&&this.get("bins")?e.push("bins="+this.get("bins")):"date"===this.get("column_type")&&(e.push("aggregation="+(this.get("aggregation")||"auto")),r.isFinite(t)&&e.push("offset="+t));var n=this.get("start"),i=this.get("end");r.isFinite(n)&&r.isFinite(i)&&(e.push("start="+n),e.push("end="+i))}return e},initialize:function(e,t){this._localOffset=c.getLocalOffset(),this._totals=new s({bins:this.get("bins"),aggregation:this.get("aggregation"),offset:this.get("offset"),column_type:this.get("column_type"),apiKey:t&&t.engine&&t.engine.getApiKey(),authToken:t&&t.engine&&t.engine.getAuthToken(),localTimezone:this.get("localTimezone"),localOffset:this._localOffset,start:this.get("start"),end:this.get("end")}),a.prototype.initialize.apply(this,arguments),this._data=new i.Collection(this.get("data")),e&&(e.min||e.max)&&this.filter&&this.filter.setRange(this.get("min"),this.get("max"))},_initBinds:function(){a.prototype._initBinds.apply(this),this._updateURLBinding(),this._totals.bind("loadModelCompleted",this._onTotalsDataFetched,this),this._totals.once("loadModelCompleted",this._updateBindings,this),this._totals.bind("error",this.setUnavailable,this),this._totals.bind("error",this._onTotalsError,this),this.on("change:column",this._onColumnChanged,this),this.on("change:localTimezone",this._onLocalTimezoneChanged,this),this.on("change",this._onFieldsChanged,this),this.on("change:column_type",this._onColumnTypeChanged,this)},_onLocalTimezoneChanged:function(){this._totals.set("localTimezone",this.get("localTimezone"))},_updateURLBinding:function(){this.off("change:url"),this.on("change:url",this._onUrlChanged,this)},_updateBindings:function(){this._onChangeBinds(),this._updateURLBinding()},enableFilter:function(){this.set("own_filter",1)},disableFilter:function(){this.unset("own_filter")},getData:function(){return this._data.toJSON()},getUnfilteredData:function(){return this._totals.get("data")},getUnfilteredDataModel:function(){return this._totals},getSize:function(){return this._data.size()},getColumnType:function(){return this.get("column_type")},hasNulls:function(){return this.get("hasNulls")},parse:function(e){var t=e.aggregation||this._totals&&this._totals.get("aggregation"),n=r.isFinite(e.bins_count)?e.bins_count:this.get("bins"),i=e.bin_width,o="date"===this.get("column_type")?e.timestamp_start:e.bins_start,a={data:[],filteredAmount:0,nulls:0,totalAmount:0};if(this.has("error"))return a;a.data=new Array(n),r.each(e.bins,function(e){a.data[e.bin]=e}),this.set({aggregation:t},{silent:!0}),"date"===this.get("column_type")?(a.data=u.fillTimestampBuckets(a.data,o,t,n,"filtered",this._totals.get("data").length),n=a.data.length):u.fillNumericBuckets(a.data,o,i,n);var s=a.data[n-1];return s&&s.end<s.max&&(s.end=s.max),this._data&&this._data.reset(a.data),a.totalAmount=this._calculateTotalAmount(a.data),a.filteredAmount=this._calculateFilteredAmount(this.filter,this._data),a.nulls=e.nulls,a.bins=n,null!=e.nulls&&(a=r.extend({},a,{nulls:e.nulls,hasNulls:!0})),a},_onFilterChanged:function(e){this.set("filteredAmount",this._calculateFilteredAmount(e,this._data)),a.prototype._onFilterChanged.apply(this,arguments)},_onColumnChanged:function(){this._totals.set({column_type:this.get("column_type"),column:this.get("column"),start:null,end:null}),this.set("aggregation",void 0,{silent:!0}),this._reloadAndForceFetch()},_calculateTotalAmount:function(e){return r.reduce(e,function(e,t){return e+(t&&t.freq?t.freq:0)},0)},_calculateFilteredAmount:function(e,t){var n=0;if(e&&void 0!==e.get("min")&&void 0!==e.get("max")){var r=this._findBinsIndexes(t,e.get("min"),e.get("max"));n=this._sumBinsFreq(t,r.start,r.end)}return n},_findBinsIndexes:function(e,t,n){var r=e.findWhere({start:Math.min(t,n)}),i=e.findWhere({end:Math.max(t,n)});return{start:r&&r.get("bin"),end:i&&i.get("bin")}},_sumBinsFreq:function(e,t,n){return r.reduce(e.slice(t,n+1),function(e,t){return(t.get("freq")||0)+e},0)},getDistributionType:function(e){var t=e||this.get("data"),n=function(e){return e.freq};if(o.max(t,n)-o.min(t,n)<.1*o.mean(t,n))return"F";var i=o.sum(t,n),a=t.map(function(e){return 100*e.freq/i}),s=a.map(function(e,t){var n=a[t+1];return e>n?-1:Math.abs(e-n)<=.05?0:1});s.pop();var u=o.max(s),c=o.min(s);if(0===c&&0===u)return"F";if(u<1)return"L";if(c>-1)return"J";var l=r.uniq(s),f=[[1,-1],[1,0,-1],[1,-1,0],[0,1,-1]],h=[[-1,1],[-1,0,1],[-1,1,0],[0,-1,1]];return f.some(function(e){return r.isEqual(e,l)})?"A":h.some(function(e){return r.isEqual(e,l)})?"U":"S"},toJSON:function(e){var t=this.get("column_type"),n=this.get("offset"),i={column:this.get("column")};return"number"===t&&this.get("bins")?i.bins=this.get("bins"):"date"===t&&(i.aggregation=this.get("aggregation")||"auto",r.isFinite(n)&&(i.offset=n)),{type:"histogram",source:{id:this.getSourceId()},options:i}},_onColumnTypeChanged:function(){this.filter&&this.filter.set("column_type",this.get("column_type"))},_onChangeBinds:function(){a.prototype._onChangeBinds.call(this)},_onUrlChanged:function(){this._totals.set({offset:this.get("offset"),bins:this.get("bins")},{silent:!0}),this._totals.setUrl(this.get("url"))},_onTotalsDataFetched:function(e,t){var n=t.get("start"),i=t.get("end");r.isFinite(n)&&r.isFinite(i)&&this.set({start:n,end:i}),this.set({aggregation:t.get("aggregation")||"auto",offset:t.get("offset")||0,bins:t.get("bins"),error:t.get("error")},{silent:!0});var o=!1;"date"===this.get("column_type")&&(r.has(this.changed,"aggregation")||r.has(this.changed,"offset"))?o=!0:"number"===this.get("column_type")&&r.has(this.changed,"bins")&&(o=!0),o?this._resetFilterAndFetch():this.fetch()},_onFieldsChanged:function(){if(this._setTotalsStartEnd(),u.hasChangedSomeOf(["bins","aggregation","offset"],this.changed)){var e=r.has(this.changed,"aggregation")&&r.isUndefined(this.changed.aggregation);"number"!==this.get("column_type")||e||this._totals.set("bins",this.get("bins")),"date"===this.get("column_type")&&(this.hasChanged("aggregation")&&this._resetFilter(),this._totals.set({offset:this.get("offset"),aggregation:this.get("aggregation")}))}},_setTotalsStartEnd:function(){var e=this.get("start"),t=this.get("end"),n=u.hasChangedSomeOf(["start","end"],this.changed),i=r.isFinite(e)&&r.isFinite(t),o=this._totals.get("start")!==e||this._totals.get("end")!==t;n&&i&&o&&(this._totals.set({start:e,end:t}),this._totals.refresh())},_resetFilterAndFetch:function(){this._resetFilter(),this.fetch()},_resetFilter:function(){this.disableFilter(),this.filter&&this.filter.unsetRange()},_onTotalsError:function(e,t){var n=t&&this._parseError(t);n&&"abort"!==n.message&&this._triggerStatusError(n)},getCurrentOffset:function(){return this.get("localTimezone")?this._localOffset:this.get("offset")}},{ATTRS_NAMES:a.ATTRS_NAMES.concat(["column","column_type","bins","min","max","aggregation","offset"])})},function(e,t,n){"use strict";function r(e,t,n){for(var r=null,i=!0,o=t.length-1;o>=0&&i&&(!a.isFinite(n)||o>=n);o--)t[o]?i=!1:r=o;return null!==r?e.slice(0,r):e}function i(e,t){return[31,o(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]}function o(e){return e%4==0&&e%100!=0||e%400==0}var a=n(0),s={second:{unit:"second",factor:1},minute:{unit:"minute",factor:1},hour:{unit:"hour",factor:1},day:{unit:"day",factor:1},week:{unit:"day",factor:7},month:{unit:"month",factor:1},quarter:{unit:"month",factor:3},year:{unit:"month",factor:12},decade:{unit:"month",factor:120},century:{unit:"month",factor:1200},millennium:{unit:"month",factor:12e3}},u={};u.fillTimestampBuckets=function(e,t,n,i,o,s){for(var u=[],c=!1,l=0;l<i;l++){c=void 0!==e[l],u.push(c);var f=this.add(t,l,n),h=this.add(t,l+1,n);e[l]=a.extend({bin:l,start:f,end:h-1,next:h,freq:0},e[l]),delete e[l].timestamp}return"totals"===o?e:r(e,u,s)},u.fillNumericBuckets=function(e,t,n,r){for(var i=0;i<r;i++)e[i]=a.extend({bin:i,start:t+i*n,end:t+(i+1)*n,freq:0},e[i])},u.hasChangedSomeOf=function(e,t){return a.some(a.keys(t),function(t){return a.contains(e,t)})},u.add=function(e,t,n){if(!s.hasOwnProperty(n))throw Error('aggregation "'+n+'" is not defined');var r=new Date(1e3*e),o=s[n].unit,a=s[n].factor,u=t*a;switch(o){case"second":return r.setUTCSeconds(r.getUTCSeconds()+u)/1e3;case"minute":return r.setUTCMinutes(r.getUTCMinutes()+u)/1e3;case"hour":return r.setUTCHours(r.getUTCHours()+u)/1e3;case"day":return r.setUTCDate(r.getUTCDate()+u)/1e3;case"month":var c=r.getUTCDate();return r.setUTCDate(1),r.setUTCMonth(r.getUTCMonth()+u),r.setUTCDate(Math.min(c,i(r.getUTCFullYear(),r.getUTCMonth()))),r.getTime()/1e3;default:return 0}},e.exports=u},function(e,t,n){"use strict";n(45);var r=n(46);window.Promise||(window.Promise=r);var i=n(50),o=n(112),a=n(115),s=n(24),u=n(117),c=n(135),l=n(12),f=n(5),h={version:n(21).version,ATTRIBUTION:f.ATTRIBUTION,Client:i,source:o,style:a,layer:s,dataview:u,filter:c,events:l,operation:f.operation};e.exports=h},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return y.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(y.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(y.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(y.arrayBuffer&&y.blob&&_(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!b(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=h(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function m(e){var t=new i;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function g(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var y={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(y.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=function(e){return e&&DataView.prototype.isPrototypeOf(e)},b=ArrayBuffer.isView||function(e){return e&&v.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},y.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];g.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=p,e.Response=g,e.fetch=function(e,t){return new Promise(function(n,r){var i=new p(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new g(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&y.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){(function(t){!function(n){function r(){}function i(e,t){return function(){e.apply(t,arguments)}}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?s:u)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void u(t.promise,e)}s(t.promise,r)})}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void f(i(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}var h=setTimeout;o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new l(e,t,n)),n},o.all=function(e){return new o(function(t,n){function r(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){r(e,t)},n)}i[e]=a,0==--o&&t(i)}catch(e){n(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var o=i.length,a=0;a<i.length;a++)r(a,i[a])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){h(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},void 0!==e&&e.exports?e.exports=o:n.Promise||(n.Promise=o)}(this)}).call(this,n(47).setImmediate)},function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(48),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(17))},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[u]=r,s(u),u++}function i(e){delete c[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(l)setTimeout(a,0,e);else{var t=c[e];if(t){l=!0;try{o(t)}finally{i(e),l=!1}}}}if(!e.setImmediate){var s,u=1,c={},l=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;s=function(t){var n=f.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),h.setImmediate=r,h.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(17),n(49))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?d=p.concat(d):g=-1,d.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=d.length;t;){for(p=d,d=[];++g<t;)p&&p[g].run();g=-1,t=d.length}p=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,f,h=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,d=[],m=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new u(e,t)),1!==d.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){return new _("client",e)}function i(e){s(e),this._layers=new y,this._dataviews=[],this._engine=new d({apiKey:e.apiKey,username:e.username,serverUrl:e.serverUrl||"https://{user}.carto.com".replace(/{user}/,e.username),client:"js-"+v}),this._bindEngine(this._engine)}function o(e){if(!(e instanceof g))throw r("badLayerType")}function a(e,t){if(!f.isNumber(e))throw r("indexNumber");if(e<0||e>=t)throw r("indexOutOfRange")}function s(e){u(e.apiKey),c(e.username),e.serverUrl&&l(e.serverUrl,e.username)}function u(e){if(!e)throw r("apiKeyRequired");if(!f.isString(e))throw r("apiKeyString")}function c(e){if(!e)throw r("usernameRequired");if(!f.isString(e))throw r("usernameString")}function l(e,t){var n=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/;if(!e.match(n))throw r("nonValidServerURL");if(e.indexOf(t)<0)throw r("serverURLDoesntMatchUsername")}var f=n(0),h=n(1),p=n(3),d=n(30),m=n(12),g=n(34),y=n(83),v=n(21).version,_=n(4),b=n(6);f.extend(i.prototype,h.Events),i.prototype.addLayer=function(e){return this.addLayers([e])},i.prototype.addLayers=function(e){return e.forEach(this._addLayer,this),this._reload()},i.prototype.removeLayer=function(e){return this.removeLayers([e])},i.prototype.removeLayers=function(e){return e.slice(0).forEach(this._removeLayer,this),this._reload()},i.prototype.moveLayer=function(e,t){var n=this._layers.indexOf(e);return this._moveLayer(e,t),n===t?Promise.resolve():this._reload()},i.prototype.getLayers=function(){return this._layers.toArray()},i.prototype.addDataview=function(e){return this.addDataviews([e])},i.prototype.addDataviews=function(e){return e.forEach(this._addDataview,this),this._reload()},i.prototype.removeDataview=function(e){var t=this._dataviews.indexOf(e);return-1===t?Promise.resolve():(this._dataviews.splice(t,1),this._engine.removeDataview(e.$getInternalModel()),e.disable(),this._reload())},i.prototype.getDataviews=function(){return this._dataviews},i.prototype.getLeafletLayer=function(e){if(b.isLeafletLoaded(),!this._leafletLayer){var t=n(84);this._leafletLayer=new t(this._layers,this._engine,e)}return this._leafletLayer},i.prototype.getGoogleMapsMapType=function(e){if(b.isGoogleMapsLoaded(),!this._gmapsMapType){var t=n(107);this._gmapsMapType=new t(this._layers,this._engine,e)}return this._gmapsMapType},i.prototype._reload=function(){return this._engine.reload().then(function(){return Promise.resolve()}).catch(function(e){return Promise.reject(new p(e))})},i.prototype._addLayer=function(e,t){o(e),this._checkDuplicatedLayerId(e),this._layers.add(e),e.$setClient(this),e.$setEngine(this._engine),this._engine.addLayer(e.$getInternalModel())},i.prototype._removeLayer=function(e){o(e),this._layers.remove(e),this._engine.removeLayer(e.$getInternalModel())},i.prototype._moveLayer=function(e,t){o(e),a(t,this._layers.size()),this._layers.move(e,t),this._engine.moveLayer(e.$getInternalModel(),t)},i.prototype._addDataview=function(e,t){this._dataviews.push(e),e.$setEngine(this._engine),this._engine.addDataview(e.$getInternalModel())},i.prototype._bindEngine=function(e){e.on(d.Events.RELOAD_SUCCESS,function(){this.trigger(m.SUCCESS)}.bind(this)),e.on(d.Events.RELOAD_ERROR,function(e){this.trigger(m.ERROR,new p(e,{layers:this._layers}))}.bind(this)),e.on(d.Events.LAYER_ERROR,function(e){this.trigger(m.ERROR,new p(e))}.bind(this))},i.prototype._checkDuplicatedLayerId=function(e){if(this._layers.findById(e.getId()))throw r("duplicatedLayerId")},e.exports=i},function(e,t,n){"use strict";function r(e){var t=i(e),n=o(e,t);return{friendlyMessage:n.friendlyMessage,errorCode:n.errorCode}}function i(e){return c[e.origin]&&c[e.origin][e.type]}function o(e,t){for(var n,r=u.keys(t),i=0;i<r.length;i++){if(n=r[i],!(t[n].messageRegex instanceof RegExp))throw new Error("MessageRegex on "+n+" is not a RegExp.");if(t[n].messageRegex.test(e.message))return{friendlyMessage:a(e,t[n]),errorCode:s(e,n)}}return{friendlyMessage:e.message||"",errorCode:s(e,"unknown-error")}}function a(e,t){if(!t.friendlyMessage)return e.message;var n=e.message&&e.message.match(t.messageRegex);if(n&&n.length>1){var r=t.friendlyMessage.replace("$0",n[1]);return n.length>2&&(r=r.replace("$1",n[2])),r}return t.friendlyMessage}function s(e,t){var n=[];return n.push(e&&e.origin),n.push(e&&e.type),n.push(t),n=u.compact(n),n.join(":")}var u=n(0),c=n(52);e.exports={getExtraFields:r}},function(e,t,n){"use strict";var r=n(53),i=n(54),o=n(55);e.exports={ajax:i,windshaft:r,validation:o}},function(e,t,n){"use strict";e.exports={analysis:{"sql-syntax-error":{messageRegex:/^syntax error/},"invalid-dataset":{messageRegex:/relation (.+) does not exist/,friendlyMessage:"Invalid dataset name used. Dataset $0 does not exist."},"column-does-not-exist":{messageRegex:/column (.+) does not exist/,friendlyMessage:"Invalid column name. Column $0 does not exist."},"analysis-requires-authentication":{messageRegex:/^Analysis requires authentication with API key/}},generic:{},limit:{"over-platform-limits":{messageRegex:/^You are over platform's limits/},"generic-limit-error":{messageRegex:/.*/,friendlyMessage:"The server is taking too long to respond, due to poor conectivity or a temporary error with our servers. Please try again soon."}},tile:{"generic-tile-error":{messageRegex:/.*/,friendlyMessage:"Some tiles might not be rendering correctly."}},layer:{"column-does-not-exist":{messageRegex:/column (.+) does not exist/,friendlyMessage:"Invalid column name. Column $0 does not exist."},"unrecognized-rule":{messageRegex:/Unrecognized rule: (.+)/,friendlyMessage:'Unrecognized rule "$0"'},"generic-layer-error":{messageRegex:/.*/}},dataview:{"formula-does-not-support-operation":{messageRegex:/Formula does not support (.+) operation/},"column-does-not-exist":{messageRegex:/column (.+) does not exist/},"permission-denied":{messageRegex:/permission denied for (.+)/},"wrong-type-column-used-in-time-series":{messageRegex:/function date_part\(unknown, (.+)\) does not exist/,friendlyMessage:"Your time series column type is $0. Please use a date type."},"invalid-aggregation-value":{messageRegex:/Invalid aggregation value. Valid ones: auto, minute, hour, day, week, month, quarter, year, decade, century, millennium/}},auth:{forbidden:{messageRegex:/^Forbidden$/,friendlyMessage:"Forbidden. API key does not grant access."}}}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";e.exports={layer:{"non-valid-source":{messageRegex:/nonValidSource/,friendlyMessage:'The given object is not a valid source. See "carto.source.Base".'},"non-valid-style":{messageRegex:/nonValidStyle/,friendlyMessage:'The given object is not a valid style. See "carto.style.Base".'},"non-valid-columns":{messageRegex:/nonValidColumns/,friendlyMessage:"The given object is not a valid array of string columns."},"source-with-different-client":{messageRegex:/differentSourceClient/,friendlyMessage:"A layer can't have a source which belongs to a different client."},"style-with-different-client":{messageRegex:/differentStyleClient/,friendlyMessage:"A layer can't have a style which belongs to a different client."},"wrong-interactivity-columns":{messageRegex:/wrongInteractivityColumns\[(.+)\]#(.+)$/,friendlyMessage:"Columns [$0] set on `$1` do not match the columns set in aggregation options."}},source:{"query-required":{messageRegex:/requiredQuery/,friendlyMessage:"SQL Source must have a SQL query."},"query-string":{messageRegex:/requiredString/,friendlyMessage:"SQL Query must be a string."},"no-dataset-name":{messageRegex:/noDatasetName/,friendlyMessage:"Table name is required."},"dataset-string":{messageRegex:/requiredDatasetString$/,friendlyMessage:"Table name must be a string."},"dataset-required":{messageRegex:/requiredDataset$/,friendlyMessage:"Table name must be not empty."}},style:{"required-css":{messageRegex:/requiredCSS$/,friendlyMessage:"CartoCSS is required."},"css-string":{messageRegex:/requiredCSSString$/,friendlyMessage:"CartoCSS must be a string."}},client:{"bad-layer-type":{messageRegex:/badLayerType/,friendlyMessage:"The given object is not a layer."},"index-number":{messageRegex:/indexNumber/,friendlyMessage:"index property must be a number."},"index-out-of-range":{messageRegex:/indexOutOfRange/,friendlyMessage:"index is out of range."},"api-key-required":{messageRegex:/apiKeyRequired/,friendlyMessage:"apiKey property is required."},"api-key-string":{messageRegex:/apiKeyString/,friendlyMessage:"apiKey property must be a string."},"username-required":{messageRegex:/usernameRequired/,friendlyMessage:"username property is required."},"username-string":{messageRegex:/usernameString/,friendlyMessage:"username property must be a string."},"non-valid-server-url":{messageRegex:/nonValidServerURL/,friendlyMessage:"serverUrl is not a valid URL."},"non-matching-server-url":{messageRegex:/serverURLDoesntMatchUsername/,friendlyMessage:"serverUrl doesn't match the username."},"duplicated-layer-id":{messageRegex:/duplicatedLayerId/,friendlyMessage:"A layer with the same ID already exists in the client."}},dataview:{"source-required":{messageRegex:/sourceRequired/,friendlyMessage:"Source property is required."},"column-required":{messageRegex:/columnRequired/,friendlyMessage:"Column property is required."},"column-string":{messageRegex:/columnString/,friendlyMessage:"Column property must be a string."},"empty-column":{messageRegex:/emptyColumn/,friendlyMessage:"Column property must be not empty."},"filter-required":{messageRegex:/filterRequired/,friendlyMessage:"Filter property is required."},"time-series-options-required":{messageRegex:/timeSeriesOptionsRequired/,friendlyMessage:"Options object to create a time series dataview is required."},"time-series-invalid-aggregation":{messageRegex:/timeSeriesInvalidAggregation/,friendlyMessage:"Time aggregation must be a valid value. Use carto.dataview.timeAggregation."},"time-series-invalid-offset":{messageRegex:/timeSeriesInvalidOffset/,friendlyMessage:"Offset must an integer value between -12 and 14."},"time-series-invalid-uselocaltimezone":{messageRegex:/timeSeriesInvalidUselocaltimezone/,friendlyMessage:"useLocalTimezone must be a boolean value."},"histogram-options-required":{messageRegex:/histogramOptionsRequired/,friendlyMessage:"Options object to create a histogram dataview is required."},"histogram-invalid-bins":{messageRegex:/histogramInvalidBins/,friendlyMessage:"Bins must be a positive integer value."},"histogram-invalid-start-end":{messageRegex:/histogramInvalidStartEnd/,friendlyMessage:"Both start and end values must be a number or null."},"formula-options-required":{messageRegex:/formulaOptionsRequired/,friendlyMessage:"Formula dataview options are not defined."},"formula-invalid-operation":{messageRegex:/formulaInvalidOperation/,friendlyMessage:"Operation for formula dataview is not valid. Use carto.operation"},"category-options-required":{messageRegex:/categoryOptionsRequired/,friendlyMessage:"Category dataview options are not defined."},"category-limit-required":{messageRegex:/categoryLimitRequired/,friendlyMessage:"Limit for category dataview is required."},"category-limit-number":{messageRegex:/categoryLimitNumber/,friendlyMessage:"Limit for category dataview must be a number."},"category-limit-positive":{messageRegex:/categoryLimitPositive/,friendlyMessage:"Limit for category dataview must be greater than 0."},"category-invalid-operation":{messageRegex:/categoryInvalidOperation/,friendlyMessage:"Operation for category dataview is not valid. Use carto.operation"},"category-operation-required":{messageRegex:/categoryOperationRequired/,friendlyMessage:"Operation column for category dataview is required."},"category-operation-string":{messageRegex:/categoryOperationString/,friendlyMessage:"Operation column for category dataview must be a string."},"category-operation-empty":{messageRegex:/categoryOperationEmpty/,friendlyMessage:"Operation column for category dataview must be not empty."}},filter:{"invalid-bounds-object":{messageRegex:/invalidBoundsObject/,friendlyMessage:"Bounds object is not valid. Use a carto.filter.Bounds object"},"column-required":{messageRegex:/columnRequired/,friendlyMessage:"Column property is required."},"column-string":{messageRegex:/columnString/,friendlyMessage:"Column property must be a string."},"empty-column":{messageRegex:/emptyColumn/,friendlyMessage:"Column property must be not empty."},"invalid-filter":{messageRegex:/invalidFilter(.+)/,friendlyMessage:"'$0' is not a valid filter. Please check documentation."},"invalid-option":{messageRegex:/invalidOption(.+)/,friendlyMessage:"'$0' is not a valid option for this filter."},"wrong-filter-type":{messageRegex:/wrongFilterType/,friendlyMessage:"Filters need to extend from carto.filter.SQLBase. Please use carto.filter.Category or carto.filter.Range."},"invalid-parameter-type":{messageRegex:/invalidParameterType(.+)/,friendlyMessage:"Invalid parameter type for '$0'. Please check filters documentation."}},aggregation:{"threshold-required":{messageRegex:/thresholdRequired/,friendlyMessage:"Aggregation threshold is required."},"invalid-threshold":{messageRegex:/invalidThreshold/,friendlyMessage:"Aggregation threshold must be an integer value greater than 0."},"resolution-required":{messageRegex:/resolutionRequired/,friendlyMessage:"Aggregation resolution is required."},"invalid-resolution":{messageRegex:/invalidResolution/,friendlyMessage:"Aggregation resolution must be 0.5, 1 or powers of 2 up to 256 (2, 4, 8, 16, 32, 64, 128, 256)."},"invalid-placement":{messageRegex:/invalidPlacement/,friendlyMessage:"Aggregation placement is not valid. Must be one of these values: `point-sample`, `point-grid`, `centroid`"},"column-function-required":{messageRegex:/columnFunctionRequired(.+)$/,friendlyMessage:"Aggregation function for column '$0' is required."},"invalid-column-function":{messageRegex:/invalidColumnFunction(.+)$/,friendlyMessage:"Aggregation function for column '$0' is not valid. Use carto.aggregation.function"},"column-aggregated-column-required":{messageRegex:/columnAggregatedColumnRequired(.+)$/,friendlyMessage:"Column to be aggregated to '$0' is required."},"invalid-column-aggregated-column":{messageRegex:/invalidColumnAggregatedColumn(.+)$/,friendlyMessage:"Column to be aggregated to '$0' must be a string."}}}},function(e,t,n){"use strict";function r(e){if(window.trackJs)try{var t=e?e.message+" - code: "+e.errorCode:JSON.stringify(e);window.trackJs.track(new Error(t))}catch(e){}}e.exports={track:r}},function(e,t,n){"use strict";function r(){this._pollers=[]}var i=n(0),o=n(58);r.CONFIG={START_DELAY:1e3,MAX_DELAY:1/0,DELAY_MULTIPLIER:1.5},r.prototype.resetAnalysisNodes=function(e){this.reset(),i.each(e,function(e){this._poll(e)},this)},r.prototype._poll=function(e){if(this._canBePolled(e)){this._createPoller(e).start()}},r.prototype._canBePolled=function(e){return e.url()&&!e.isDone()},r.prototype._findPoller=function(e){return i.find(this._pollers,function(t){return t.model===e})},r.prototype._createPoller=function(e){var t={delay:[r.CONFIG.START_DELAY,r.CONFIG.MAX_DELAY,r.CONFIG.DELAY_MULTIPLIER],condition:function(e){return!e.isDone()}},n=o.get(e,t);return this._pollers.push(n),n},r.prototype.reset=function(){o.reset(),this._pollers=[]},e.exports=r},function(e,t,n){var r,i,o;/*!
(c) 2012 Uzi Kilon, Splunk Inc.
Backbone Poller 1.1.4
https://github.com/uzikilon/backbone-poller
Backbone Poller may be freely distributed under the MIT license.
*/
!function(a,s){"use strict";i=[n(0),n(1)],r=s,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(e,t){"use strict";function n(t){return e.find(l,function(e){return e.model===t})}function r(n,r){this.model=n,this.cid=e.uniqueId("poller"),this.set(r),this.model instanceof t.Model&&this.listenTo(this.model,"destroy",this.destroy)}function i(t){if(s(t)){var n=e.extend({},t.options,{success:function(e,n){t.trigger("success",e,n),a(t)},error:function(e,n){t.options.continueOnError?(t.trigger("error",e,n),a(t)):(t.stop({silent:!0}),t.trigger("error",e,n))}});t.trigger("fetch",t.model),t.xhr=t.model.fetch(n)}}function o(t){if(e.isNumber(t.options.delay))return t.options.delay;var n=t.options.delay[0],r=t.options.delay[1],i=t.options.delay[2]||2;h[t.cid]?e.isFunction(i)?h[t.cid]=i(h[t.cid]):h[t.cid]*=i:h[t.cid]=1;var o=Math.round(n*h[t.cid]);return r&&r>0&&(o=Math.min(o,r)),o}function a(t,n){s(t)&&(t.timeoutId=e.delay(i,n||o(t),t))}function s(e){return!!e.options.active&&(!0===e.options.condition(e.model)||(e.stop({silent:!0}),e.trigger("complete",e.model),!1))}var u={delay:1e3,condition:function(){return!0}},c=["start","stop","fetch","success","error","complete"],l=[],f={get:function(e,t){var i=n(e);return i?i.set(t):(i=new r(e,t),l.push(i)),t&&!0===t.autostart&&i.start({silent:!0}),i},size:function(){return l.length},reset:function(){for(;l.length;)l[0].destroy()}};e.extend(r.prototype,t.Events,{set:function(t){return this.options=e.extend({},u,t||{}),this.options.flush&&this.off(),e.each(c,e.bind(function(t){var n=this.options[t];e.isFunction(n)&&(this.off(t,n,this),this.on(t,n,this))},this)),this.stop({silent:!0})},start:function(t){return this.active()||(t&&t.silent||this.trigger("start",this.model),this.options.active=!0,this.options.delayed?a(this,e.isNumber(this.options.delayed)&&this.options.delayed):i(this)),this},stop:function(e){return e&&e.silent||this.trigger("stop",this.model),this.options.active=!1,this.xhr&&this.xhr.abort&&this.xhr.abort(),this.xhr=null,clearTimeout(this.timeoutId),this.timeoutId=null,this},active:function(){return!0===this.options.active},destroy:function(){var t=e.indexOf(l,this);t>-1&&(this.stop().stopListening().off(),l.splice(t,1))}});var h={};return f.getDelay=o,f.prototype=r.prototype,f})},function(e,t,n){"use strict";function r(e,t){return{buffersize:{mvt:0},layers:a.serialize(e),dataviews:o.serialize(t),analyses:i.serialize(e,t)}}var i=n(60),o=n(66),a=n(67);e.exports={serialize:r}},function(e,t,n){"use strict";function r(e,t){return i(s.getAnalysisList(e,t))}function i(e){var t={};return a.reduce(e,function(n,r){return t[r.get("id")]||o(r,e)||(t[r.get("id")]=!0,n.push(r.toJSON())),n},[])}function o(e,t){return a.any(t,function(t){return!e.equals(t)&&t.findAnalysisById(e.get("id"))})}var a=n(0),s=n(18);e.exports={serialize:r}},function(e,t,n){"use strict";var r=n(31),i=n(65);e.exports.getVersion=r.getVersion,e.exports.versions=r.versions,e.exports.AnalysisGraph=i},function(e,t){e.exports.versions=["0.1.0","0.2.0","0.3.0","0.4.0","0.6.0","0.7.0","0.9.0","0.10.0","0.14.0","0.15.0","0.16.0","0.17.0","0.18.0","0.19.0","0.20.0","0.21.0","0.22.0","0.23.0","0.26.0","0.27.0","0.29.0","0.33.0","0.34.0","0.37.0","0.37.1","0.38.0","0.40.0","0.41.0","0.43.0","0.44.0","0.47.0","0.51.0","0.52.0","0.54.0","0.55.0","0.55.1","0.58.1","0.59.3","0.59.4"],e.exports.target="0.59.4"},function(e,t,n){function r(e){var t=i(e);return n(t)}function i(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}var o={"./0.59.4/reference.json":64};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=63},function(e){e.exports={version:"0.59.4",analyses:{"aggregate-intersection":{params:{source:{type:"node",geometry:["*"]},target:{type:"node",geometry:["*"]},aggregate_function:{type:"enum",values:["avg","count","max","min","sum"]},aggregate_column:{type:"string",optional:!0}}},"bounding-box":{params:{source:{type:"node",geometry:["*"]},category_column:{type:"string",optional:!0},aggregation:{type:"enum",values:["avg","count","max","min","sum"],optional:!0,"default-value":"count"},aggregation_column:{type:"string",optional:!0}}},"bounding-circle":{params:{source:{type:"node",geometry:["*"]},category_column:{type:"string",optional:!0},aggregation:{type:"enum",values:["avg","count","max","min","sum"],optional:!0,"default-value":"count"},aggregation_column:{type:"string",optional:!0}}},buffer:{params:{source:{type:"node",geometry:["*"]},radius:{type:"number"},isolines:{type:"number",optional:!0},dissolved:{type:"boolean",optional:!0}}},centroid:{params:{source:{type:"node",geometry:["*"]},category_column:{type:"string",optional:!0},aggregation:{type:"string",optional:!0,"default-value":"count"},aggregation_column:{type:"string",optional:!0}}},closest:{params:{source:{type:"node",geometry:["*"]},target:{type:"node",geometry:["*"]},responses:{type:"number",optional:!0,"default-value":1},category:{type:"string",optional:!0}}},"concave-hull":{params:{source:{type:"node",geometry:["*"]},category_column:{type:"string",optional:!0},target_percent:{type:"number",optional:!0,"default-value":.7},allow_holes:{type:"boolean",optional:!0,"default-value":!1},aggregation:{type:"enum",values:["avg","count","max","min","sum"],optional:!0,"default-value":"count"},aggregation_column:{type:"string",optional:!0}}},contour:{params:{source:{type:"node",geometry:["point"]},column:{type:"string"},buffer:{type:"number",optional:!0,"default-value":.2},method:{type:"enum",values:["nearest_neighbor","barymetric","IDW"],optional:!0,"default-value":"barymetric"},class_method:{type:"enum",values:["equals","headstails","jenks","quantiles"],optional:!0,"default-value":"quantiles"},steps:{type:"number",optional:!0,"default-value":7},resolution:{type:"number",optional:!0,"default-value":-90}}},"convex-hull":{params:{source:{type:"node",geometry:["*"]},category_column:{type:"string",optional:!0},aggregation:{type:"enum",values:["avg","count","max","min","sum"],optional:!0,"default-value":"count"},aggregation_column:{type:"string",optional:!0}}},"data-observatory-measure":{params:{source:{type:"node",geometry:["point","polygon"]},final_column:{type:"string"},segment_name:{type:"string"},percent:{type:"boolean",optional:!0}}},"data-observatory-multiple-measures":{params:{source:{type:"node",geometry:["point","polygon"]},numerators:{type:"array"},normalizations:{type:"array"},denominators:{type:"array"},geom_ids:{type:"array"},numerator_timespans:{type:"array"},column_names:{type:"array"}}},"deprecated-sql-function":{params:{function_name:{type:"string"},primary_source:{type:"node",geometry:["*"]},secondary_source:{type:"node",geometry:["*"],optional:!0},function_args:{type:"array",optional:!0}}},"filter-by-node-column":{params:{source:{type:"node",geometry:["*"]},column:{type:"string"},filter_source:{type:"node",geometry:["*"]},filter_column:{type:"string"}}},"filter-category":{params:{source:{type:"node",geometry:["*"]},column:{type:"string"},accept:{type:"array",optional:!0},reject:{type:"array",optional:!0}}},"filter-grouped-rank":{params:{source:{type:"node",geometry:["*"]},column:{type:"string"},rank:{type:"enum",values:["top","bottom"]},group:{type:"string"},min:{type:"number",optional:!0},max:{type:"number",optional:!0}}},"filter-range":{params:{source:{type:"node",geometry:["*"]},column:{type:"string"},min:{type:"number",optional:!0},max:{type:"number",optional:!0},greater_than:{type:"number",optional:!0},greater_than_or_equal:{type:"number",optional:!0},less_than:{type:"number",optional:!0},less_than_or_equal:{type:"number",optional:!0}}},"filter-rank":{params:{source:{type:"node",geometry:["*"]},column:{type:"string"},rank:{type:"enum",values:["top","bottom"]},limit:{type:"number"},action:{type:"enum",values:["show","hide"],optional:!0,"default-value":"show"}}},"georeference-admin-region":{params:{source:{type:"node",geometry:["*"]},admin_region_column:{type:"string"},country:{type:"string",optional:!0},country_column:{type:"string",optional:!0}}},"georeference-city":{params:{source:{type:"node",geometry:["*"]},city_column:{type:"string"},admin_region:{type:"string",optional:!0},admin_region_column:{type:"string",optional:!0},country:{type:"string",optional:!0},country_column:{type:"string",optional:!0}}},"georeference-country":{params:{source:{type:"node",geometry:["*"]},country_column:{type:"string"}}},"georeference-ip-address":{params:{source:{type:"node",geometry:["*"]},ip_address:{type:"string"}}},"georeference-long-lat":{params:{source:{type:"node",geometry:["*"]},longitude:{type:"string"},latitude:{type:"string"}}},"georeference-postal-code":{params:{source:{type:"node",geometry:["*"]},output_geometry_type:{type:"enum",values:["point","polygon"],optional:!0,"default-value":"point"},postal_code_column:{type:"string"},country:{type:"string",optional:!0},country_column:{type:"string",optional:!0}}},"georeference-street-address":{params:{source:{type:"node",geometry:["*"]},street_address_column:{type:"string",optional:!0},street_address_template:{type:"string",optional:!0},city:{type:"string",optional:!0},city_column:{type:"string",optional:!0},state:{type:"string",optional:!0},state_column:{type:"string",optional:!0},country:{type:"string",optional:!0},country_column:{type:"string",optional:!0}}},gravity:{params:{source:{type:"node",geometry:["*"]},target:{type:"node",geometry:["*"]},weight_column:{type:"string"},weight_threshold:{type:"number",optional:!0,"default-value":-1e308},pop_column:{type:"string"},max_distance:{type:"number"},target_id:{type:"number"}}},intersection:{params:{source:{type:"node",geometry:["*"]},source_columns:{type:"array",optional:!0,"default-value":[]},target:{type:"node",geometry:["*"]}}},kmeans:{params:{source:{type:"node",geometry:["point"]},clusters:{type:"number"}}},"line-sequential":{params:{source:{type:"node",geometry:["point"]},order_column:{type:"string"},order_type:{type:"enum",values:["asc","desc"]},category_column:{type:"string",optional:!0}}},"line-source-to-target":{params:{source:{type:"node",geometry:["point"]},source_column:{type:"string",optional:!0},target:{type:"node",geometry:["point"]},target_column:{type:"string",optional:!0},closest:{type:"boolean"}}},"line-to-column":{params:{source:{type:"node",geometry:["point"]},target_column:{type:"string"}}},"line-to-single-point":{params:{source:{type:"node",geometry:["point"]},destination_longitude:{type:"number"},destination_latitude:{type:"number"}}},"link-by-line":{params:{source_points:{type:"node",geometry:["point"]},destination_points:{type:"node",geometry:["point"]},source_column:{type:"string"},destination_column:{type:"string"},use_great_circle:{type:"boolean",optional:!0,"default-value":!1}}},merge:{params:{left_source:{type:"node",geometry:["*"]},right_source:{type:"node",geometry:["*"]},left_source_column:{type:"string"},right_source_column:{type:"string"},join_operator:{type:"enum",values:["inner","left","right"],optional:!0,"default-value":"inner"},source_geometry:{type:"enum",values:["left_source","right_source"],optional:!0,"default-value":"left_source"},left_source_columns:{type:"array",optional:!0},right_source_columns:{type:"array",optional:!0,"default-value":[]}}},moran:{params:{source:{type:"node",geometry:["polygon","point"]},numerator_column:{type:"string"},denominator_column:{type:"string",optional:!0},significance:{type:"number"},neighbours:{type:"number",optional:!0},permutations:{type:"number",optional:!0},w_type:{type:"enum",values:["knn","queen"],optional:!0,"default-value":"knn"}}},"point-in-polygon":{params:{points_source:{type:"node",geometry:["point"]},polygons_source:{type:"node",geometry:["polygon"]}}},"population-in-area":{params:{source:{type:"node",geometry:["polygon"]},final_column:{type:"string"}}},"routing-sequential":{params:{source:{type:"node",geometry:["point"]},mode:{type:"enum",values:["car","walk","bicycle","public_transport"]},units:{type:"enum",values:["kilometers","miles"],optional:!0,"default-value":"kilometers"},order_column:{type:"string",optional:!0,"default-value":"cartodb_id"},order_type:{type:"enum",values:["asc","desc"],optional:!0,"default-value":"asc"}}},"routing-to-layer-all-to-all":{params:{source:{type:"node",geometry:["point"]},source_column:{type:"string"},target:{type:"node",geometry:["point"]},target_column:{type:"string"},mode:{type:"enum",values:["car","walk","bicycle","public_transport"]},units:{type:"enum",values:["kilometers","miles"],optional:!0,"default-value":"kilometers"},closest:{type:"boolean"}}},"routing-to-single-point":{params:{source:{type:"node",geometry:["point"]},mode:{type:"enum",values:["car","walk","bicycle","public_transport"]},destination_longitude:{type:"number"},destination_latitude:{type:"number"},units:{type:"enum",values:["kilometers","miles"],optional:!0,"default-value":"kilometers"}}},sampling:{params:{source:{type:"node",geometry:["*"]},sampling:{type:"number"},seed:{type:"number",optional:!0}}},source:{params:{query:{type:"string"}}},"spatial-markov-trend":{params:{source:{type:"node",geometry:["*"]},time_columns:{type:"array"},num_classes:{type:"number",optional:!0,"default-value":5},weight_type:{type:"string",optional:!0,"default-value":"knn"},num_ngbrs:{type:"number",optional:!0,"default-value":5},permutations:{type:"number",optional:!0,"default-value":0},geom_col:{type:"string",optional:!0,"default-value":"the_geom"},id_col:{type:"string",optional:!0,"default-value":"cartodb_id"}}},"trade-area":{params:{source:{type:"node",geometry:["point"]},kind:{type:"enum",values:["walk","car"]},time:{type:"number"},isolines:{type:"number"},dissolved:{type:"boolean"}}},"weighted-centroid":{params:{source:{type:"node",geometry:["*"]},weight_column:{type:"string"},category_column:{type:"string",optional:!0},aggregation:{type:"string",optional:!0,"default-value":"count"},aggregation_column:{type:"string",optional:!0}}}}}},function(e,t,n){"use strict";function r(e,t){t=t||"latest",this.definition=e,this.reference=l.getVersion(t)}function i(e,t,n,r){return e.id&&e.id===n&&Object.keys(r).forEach(function(t){e.params.hasOwnProperty(t)||(e.params[t]={});var n=r[t];Object.keys(n).forEach(function(r){e.params[t][r]=n[r]})}),s(e.type,t).filter(u(e,t)).forEach(function(o){i(e.params[o],t,n,r)}),e}function o(e,t,n){return e.push(t),s(t.type,n).filter(u(t,n)).forEach(function(r){o(e,t.params[r],n)}),e}function a(e,t,n){return t.id&&(e[t.id]=t),s(t.type,n).filter(u(t,n)).forEach(function(r){a(e,t.params[r],n)}),e}function s(e,t){var n=t.analyses[e];return Object.keys(n.params).reduce(function(e,t){return"node"===n.params[t].type&&e.push(t),e},[])}function u(e,t){return function(n){return!c(e.type,n,t)||!!e.params[n]}}function c(e,t,n){return n.analyses[e].params[t].optional}var l=n(31);e.exports=r,r.prototype.getNodesWithId=function(){return a({},this.definition,this.reference)},r.prototype.getChildNodesNames=function(){return s(this.definition.type,this.reference)},r.prototype.getNodesList=function(){return o([],this.definition,this.reference)},r.prototype.getDefinitionWith=function(e,t){return i(this.definition,this.reference,e,t)}},function(e,t,n){"use strict";function r(e){return e.reduce(function(e,t){return e[t.get("id")]=t.toJSON(),e},{})}e.exports={serialize:r}},function(e,t,n){"use strict";function r(e){return e.chain().map(i).compact().value()}function i(e){return h.isTiledLayer(e)?o(e):h.isPlainLayer(e)?s(e):h.isWMSLayer(e)?a(e):h.isCartoDBLayer(e)?u(e):h.isTorqueLayer(e)?c(e):void 0}function o(e){return{id:e.get("id"),type:d,options:{urlTemplate:e.get("urlTemplate"),subdomains:e.get("subdomains"),tms:e.get("tms")}}}function a(e){return{id:e.get("id"),type:d,options:{urlTemplate:e.get("urlTemplate"),tms:!0}}}function s(e){return{id:e.get("id"),type:m,options:{color:e.get("color"),imageUrl:e.get("image")}}}function u(e){var t=l(e);return t.interactivity=e.getInteractiveColumnNames(),e.infowindow&&e.infowindow.hasFields()&&(t.attributes={id:"cartodb_id",columns:e.infowindow.getFieldNames()}),isFinite(e.get("minzoom"))&&(t.minzoom=e.get("minzoom")),isFinite(e.get("maxzoom"))&&(t.maxzoom=e.get("maxzoom")),f.isEmpty(e.aggregation)||f.extend(t,{aggregation:e.aggregation}),{id:e.get("id"),type:g,options:t}}function c(e){var t=l(e);return{id:e.get("id"),type:y,options:t}}function l(e){var t={cartocss:e.get("cartocss"),cartocss_version:e.get("cartocss_version")||p};return t.source={id:e.getSourceId()},e.get("sql_wrap")&&(t.sql_wrap=e.get("sql_wrap")),t}var f=n(0),h=n(10),p="2.1.0",d="http",m="plain",g="mapnik",y="torque";e.exports={serialize:r}},function(e,t,n){"use strict";var r=n(0),i=n(9),o=n(1),a=n(10),s=n(6),u=o.Model.extend({defaults:{visible:!0,type:"layergroup"},initialize:function(e,t){if(t=t||{},!t.layersCollection)throw new Error("layersCollection option is required");this._layersCollection=t.layersCollection},addError:function(e){var t=e.type;if(!t)throw new Error("Error must have a type property.");this.trigger("error:"+t,e)},forEachGroupedLayer:function(e,t){r.each(this._getGroupedLayers(),e.bind(t||this))},_getGroupedLayers:function(){return this._layersCollection.getCartoDBLayers()},_getLayers:function(){return this._layersCollection.reject(a.isGoogleMapsBaseLayer)},getIndexOfLayerInLayerGroup:function(e){return this._getGroupedLayers().indexOf(e)},getLayerInLayerGroupAt:function(e){return this._getGroupedLayers()[e]},getCartoLayerById:function(e){return this._layersCollection.get(e)},isEqual:function(){return!1},hasURLs:function(){return!!this.get("urls")},getSubdomains:function(){return this.get("urls")&&this.get("urls").subdomains||[]},getTileURLTemplatesWithSubdomains:function(){var e=this.getTileURLTemplate(),t=this.getSubdomains();return t&&t.length?r.map(t,function(t){return e.replace("{s}",t)}):[e]},getTileURLTemplate:function(e){e=e||"png";var t=this.get("urls")&&this.get("urls").tiles;return t?"png"===e?this._areAllLayersHidden()?"":this._generatePNGTileURLTemplate(t):"mvt"===e?this._generateMTVTileURLTemplate(t):void 0:""},_generatePNGTileURLTemplate:function(e){var t=this._getIndexesOfVisibleMapnikLayers();return t?(e=e.replace("{layerIndexes}",t).replace("{format}","png"),this._appendAuthParamsToURL(e)):""},_generateMTVTileURLTemplate:function(e){return e=e.replace("{layerIndexes}","mapnik").replace("{format}","mvt"),this._appendAuthParamsToURL(e)},_areAllLayersHidden:function(){return r.all(this._getGroupedLayers(),function(e){return!e.isVisible()})},_getIndexesOfVisibleMapnikLayers:function(e){var t=this.get("indexOfLayersInWindshaft");return r.reduce(this._getGroupedLayers(),function(e,n,r){return n.isVisible()&&e.push(t[r]),e},[]).join(",")},_getIndexesOfVisibleLayers:function(e){return r.reduce(this._getLayers(),function(e,t,n){return t.isVisible()&&e.push(n),e},[]).join(",")},hasTileURLTemplates:function(){return!!this.getTileURLTemplate()},getGridURLTemplatesWithSubdomains:function(e){var t=this.get("urls")&&this.get("urls").grids&&this.get("urls").grids[e]||[];if(this.get("urls")&&this.get("urls").subdomains){var n=this.get("urls").subdomains;t=r.map(t,function(e,t){return e.replace("{s}",n[t])})}return r.map(t,this._appendAuthParamsToURL,this)},getAttributesBaseURL:function(e){return this.get("urls")&&this.get("urls").attributes&&this.get("urls").attributes[e]},getStaticImageURLTemplate:function(){var e=this.get("urls")&&this.get("urls").image;return e&&(e=this._appendParamsToURL(e,["layer="+this._getIndexesOfVisibleLayers()]),e=this._appendAuthParamsToURL(e),e=e.replace("{s}",this.getSubdomains()[0])),e},fetchAttributes:function(e,t,n){var r=this.getAttributesBaseURL(e);if(!r)throw new Error("Attributes cannot be fetched until urls are set");var o=this._appendAuthParamsToURL(r+"/"+t);i.ajax({dataType:"jsonp",url:o,jsonpCallback:"_cdbi_layer_attributes_"+s.uniqueCallbackName(this.toJSON()),cache:!0,success:function(e){n(e)},error:function(e){n(null)}})},_appendAuthParamsToURL:function(e){var t=[];if(this.get("apiKey"))t.push("api_key="+this.get("apiKey"));else if(this.get("authToken")){var n=this.get("authToken");n instanceof Array?r.each(n,function(e){t.push("auth_token[]="+e)}):t.push("auth_token="+n)}return this._appendParamsToURL(e,t)},_appendParamsToURL:function(e,t){if(t.length){var n="?";return-1!==e.indexOf("?")&&(n="&"),e+n+t.join("&")}return e},onLayerVisibilityChanged:function(e){this._layersCollection.on("change:visible",function(t){this._isLayerGrouped(t)&&e(t)},this)},onLayerAdded:function(e){this._layersCollection.on("add",function(t){this._isLayerGrouped(t)&&e(t,this.getLayerInLayerGroupAt(t))},this)},_isLayerGrouped:function(e){return this._getGroupedLayers().indexOf(e)>=0}});e.exports=u},function(e,t,n){"use strict";var r=n(0),i=n(1),o=i.Collection.extend({isAnyDataviewFiltered:function(){return this.any(function(e){var t=e.filter;return t&&!t.isEmpty()})},getFilters:function(){return this.reduce(function(e,t){var n=t.filter;return n&&!n.isEmpty()&&(e.dataviews=e.dataviews||{},r.extend(e.dataviews,n.toJSON())),e},{})}});e.exports=o},function(e,t,n){"use strict";var r=n(0),i=n(1),o=i.Collection.extend({initialize:function(){this.comparator=function(e){return parseInt(e.get("order"),10)},this.bind("add",this._assignIndexes),this.bind("remove",this._assignIndexes)},_assignIndexes:function(e,t,n){if(this.size()>0&&(this.at(0).set({order:0}),this.size()>1)){var i=this.reduce(function(e,t,n){var r=t.get("type");return 0===n&&"Tiled"===r?e:(e[r]=e[r]||[],e[r].push(t),e)},{}),o=1,a=["CartoDB","torque","Tiled"];r.each(a,function(e){var t=i[e]||[];r.each(t,function(e){e.set({order:o}),o+=1})})}this.sort()},getCartoDBLayers:function(){return this._getLayersByType("CartoDB")},getTiledLayers:function(){return this._getLayersByType("Tiled")},getTorqueLayers:function(){return this._getLayersByType("torque")},_getLayersByType:function(e){return this.select(function(t){return t.get("type")===e})},getLayersWithLegends:function(){return this.select(function(e){return!!e.legends})},moveCartoDBLayer:function(e,t){if(e===t)return!1;var n=this.at(e);return!(!n||"CartoDB"!==n.get("type"))&&(this.remove(n,{silent:!0}),this.add(n,{at:t,silent:!0}),this.trigger("layerMoved",n),n)}});e.exports=o},function(e,t,n){"use strict";function r(e,t){return e[a.crc32(t)%e.length]}var i=n(0),o=n(20),a=n(6),s=n(73),u=n(18),c=n(1),l=function(e){if(!e.layerGroupModel)throw new Error("layerGroupModel is required");if(!e.layersCollection)throw new Error("layersCollection is required");if(!e.dataviewsCollection)throw new Error("dataviewsCollection is required");this._layerGroupModel=e.layerGroupModel,this._layersCollection=e.layersCollection,this._dataviewsCollection=e.dataviewsCollection};l.prototype.updateModels=function(e,t,n){this._updateLayerModels(e),this._updateLayerGroupModel(e),this._updateDataviewModels(e,t,n),this._updateAnalysisModels(e)},l.prototype._updateLayerGroupModel=function(e){var t={tiles:this._generateTileURLTemplate(e),subdomains:e.getSupportedSubdomains(),grids:this._calculateGridURLTemplatesForCartoDBLayers(e),attributes:this._calculateAttributesBaseURLsForCartoDBLayers(e),image:this._calculateStaticMapURL(e)};this._layerGroupModel.set({indexOfLayersInWindshaft:e.getLayerIndexesByType("mapnik"),urls:t})},l.prototype._calculateStaticMapURL=function(e){return[e.getStaticBaseURL(),"{z}/{lat}/{lng}/{width}/{height}.{format}"].join("/")},l.prototype._generateTileURLTemplate=function(e){return e.getBaseURL()+"/{layerIndexes}/{z}/{x}/{y}.{format}"},l.prototype._calculateGridURLTemplatesForCartoDBLayers=function(e){var t=[],n=e.getLayerIndexesByType("mapnik");return n.length>0&&i.each(n,function(n){var r=[],o=this._generateGridURLTemplate(e,n),a=e.getSupportedSubdomains();a.length?i.each(a,function(e){r.push(o.replace("{s}",e))}):r.push(o),t.push(r)},this),t},l.prototype._generateGridURLTemplate=function(e,t){return e.getBaseURL()+"/"+t+"/{z}/{x}/{y}.grid.json"},l.prototype._calculateAttributesBaseURLsForCartoDBLayers=function(e){var t=[],n=e.getLayerIndexesByType("mapnik");return n.length>0&&i.each(n,function(n){t.push(this._generateAttributesBaseURL(e,n))},this),t},l.prototype._generateAttributesBaseURL=function(e,t){var n=e.getBaseURL()+"/"+t+"/attributes";if(n.indexOf("{s}")>=0){var i=r(e.getSupportedSubdomains(),n);n=n.replace("{s}",i)}return n},l.prototype._updateLayerModels=function(e){var t=e.getLayerIndexesByType("mapnik");i.each(this._layersCollection.getCartoDBLayers(),function(n,r){var i=t[r];n.set("meta",e.getLayerMetadata(i)),this._updateLegendModels(n,i,e),n.setOk()},this);var n=e.getLayerIndexesByType("torque");i.each(this._layersCollection.getTorqueLayers(),function(t,r){var i=n[r],o=e.getLayerMetadata(i);t.set("meta",o),t.set(o),t.set("subdomains",e.getSupportedSubdomains()),t.set("tileURLTemplates",this._calculateTileURLTemplatesForTorqueLayers(e)),this._updateLegendModels(t,i,e),t.setOk()},this)},l.prototype._calculateTileURLTemplatesForTorqueLayers=function(e){var t=[],n=e.getLayerIndexesByType("torque");return n.length>0&&t.push(this._generateTorqueTileURLTemplate(e,n)),t},l.prototype._generateTorqueTileURLTemplate=function(e,t){return e.getBaseURL()+"/"+t.join(",")+"/{z}/{x}/{y}.json.torque"},l.prototype._updateLegendModels=function(e,t,n){var r=n.getLayerMetadata(t);i.each(this._getLayerLegends(e),function(e){this._updateLegendModel(e,r)},this)},l.prototype._updateLegendModel=function(e,t){var n=t&&t.cartocss_meta&&t.cartocss_meta.rules;try{var r={state:"success"};if(n){var a=s.getAdapterForLegend(e),u=i.filter(n,a.canAdapt);i.isEmpty(u)||(r=i.extend(r,a.adapt(u)))}e.set(r)}catch(t){e.set({state:"error"}),o.error("legend of type '"+e.get("type")+"' couldn't be updated: "+t.message)}},l.prototype._updateDataviewModels=function(e,t,n){this._dataviewsCollection.each(function(r){var i=e.getDataviewMetadata(r.get("id"));i&&r.set({url:i.url[this._getProtocol()]},{sourceId:t,forceFetch:n})},this)},l.prototype._updateAnalysisModels=function(e){this._getUniqueAnalysisNodesCollection().each(function(t){var n,r=e.getAnalysisNodeMetadata(t.get("id"));r&&(n={status:r.status,url:r.url[this._getProtocol()],query:r.query},n=i.omit(n,t.getParamNames()),r.error_message?(n=i.extend(n,{error:{message:r.error_message}}),t.set(n)):(t.set(n),t.setOk()))},this)},l.prototype._getProtocol=function(){return"file:"===window.location.protocol?"http":window.location.protocol.replace(":","")},l.prototype.setErrors=function(e){i.each(e,this._setError,this),this._setLegendErrors()},l.prototype._setError=function(e){if(e.isLayerError()){var t=this._layersCollection.get(e.layerId);t&&t.setError(e)}else if(e.isAnalysisError()){var n=this._getUniqueAnalysisNodesCollection(),r=n.get(e.analysisId);r&&r.setError(e)}},l.prototype._setLegendErrors=function(){var e=this._layersCollection.chain().map(this._getLayerLegends).compact().flatten().value();i.each(e,function(e){e.set("state","error")})},l.prototype._getLayerLegends=function(e){return e.legends&&[e.legends.bubble,e.legends.category,e.legends.choropleth]},l.prototype._getUniqueAnalysisNodesCollection=function(){var e=u.getUniqueAnalysisNodes(this._layersCollection,this._dataviewsCollection);return new c.Collection(e)},e.exports=l},function(e,t,n){"use strict";var r={};r.VERSION=n(21).version,r.DEBUG=!1,r.helpers={},e.exports=r},function(e,t,n){"use strict";var r={bubble:n(74),choropleth:n(75),category:n(76)};e.exports={getAdapterForLegend:function(e){return r[e.get("type")]}}},function(e,t,n){"use strict";var r=n(0),i=n(11),o=["marker-width","line-width"],a=function(e){var t=e.getBucketsWithRangeFilter();return r.every(t,function(e){return null!=e.filter.start&&null!=e.filter.end})},s=function(e){var t=r.last(e);return r.chain(e).map("filter").map("start").concat(t.filter.end).value()};e.exports={canAdapt:function(e){return e=new i(e),e.matchesAnyProperty(o)&&a(e)},adapt:function(e){var t=new i(e[0]),n=t.getBucketsWithRangeFilter();return{values:s(n),sizes:r.map(n,"value"),avg:t.getFilterAvg()}}}},function(e,t,n){"use strict";var r=n(0),i=n(11),o=["line-color","marker-fill","polygon-fill"],a=[">",">=","<","<="],s=function(e){var t=e.getBucketsWithRangeFilter();return r.every(t,function(e){return null!=e.filter.start&&null!=e.filter.end})},u=function(e){if(1===e.length){var t=e[0],n=t.filter.start,i=t.filter.end;return[{value:t.value,label:n.toString()},{value:t.value,label:i.toString()}]}return r.map(e,function(t,n){var r="";return 0===n?r=t.filter.start:n===e.length-1&&(r=t.filter.end),{value:t.value,label:r.toString()}})};e.exports={canAdapt:function(e){return e=new i(e),e.matchesAnyProperty(o)&&e.matchesAnyMapping(a)&&s(e)},adapt:function(e){var t=new i(e[0]),n=t.getBucketsWithRangeFilter(),o=r.last(n),a=r.first(n);return{colors:u(n),avg:t.getFilterAvg(),max:o.filter.end,min:a.filter.start}}}},function(e,t,n){"use strict";var r=n(0),i=n(11),o=["line-color","marker-fill","polygon-fill","marker-file"],a=["="],s=function(e){var t=e.getBucketsWithCategoryFilter();return r.every(t,function(e){return null!=e.filter.name&&null!=e.value})},u=function(e,t){return r.map(e,function(e){var n=r.find(t,function(t){return t.filter.name===e.filter.name});return{title:e.filter.name,icon:n&&n.value?c(n.value):"",color:e.value}})},c=function(e){var t="",n=/(http|https):\/\/\S+\.(?:gif|jpeg|jpg|png|webp|svg)/g,r=e.match(n);return r&&(t=r[0]),t};e.exports={canAdapt:function(e){return e=new i(e),e.matchesAnyProperty(o)&&e.matchesAnyMapping(a)&&s(e)},adapt:function(e){var t=new i(e[0]),n=new i(e[1]),o=t.getBucketsWithCategoryFilter(),a=n.getBucketsWithCategoryFilter(),s=t.getBucketsWithDefaultFilter(),l=n.getBucketsWithDefaultFilter();return{categories:u(o,a),default:{icon:r.isEmpty(l)?"":c(l[0].value),color:r.isEmpty(s)?"":s[0].value}}}}},function(e,t,n){"use strict";function r(e,t){return{buffersize:{mvt:0},styles:i(e.filter(function(e){return!a.isGoogleMapsBaseLayer(e)}))}}function i(e){return o.reduce(e,function(e,t,n){return t.get("cartocss")&&(e[n]=t.get("cartocss")),e},{})}var o=n(0),a=n(10);e.exports={serialize:r}},function(e,t,n){"use strict";var r=function(e,t,n){this.payload=e,this.params=t,this.options=n};r.prototype.toHashCode=function(){return JSON.stringify(this.payload)+JSON.stringify(this.params)+JSON.stringify(this.options)},r.prototype.equals=function(e){return this.toHashCode()===e.toHashCode()},e.exports=r},function(e,t,n){"use strict";function r(e,t){this._windshaftSettings=e,this._layerGroupId=t.layergroupid,this._layers=t.metadata.layers,this._dataviews=t.metadata.dataviews,this._analyses=t.metadata.analyses,this._cdnUrl=t.cdn_url}var i=n(0),o=n(32);r.prototype.getLayerIndexesByType=function(e){return i.reduce(this._getLayers(),function(t,n,r){return n.type===e&&t.push(r),t},[])},r.prototype.getBaseURL=function(){return[this._getHost(),o.MAPS_API_BASE_URL,this._layerGroupId].join("/")},r.prototype.getStaticBaseURL=function(){return[this._getHost(),o.MAPS_API_BASE_URL,"static/center",this._layerGroupId].join("/")},r.prototype._getHost=function(){var e=this._windshaftSettings.urlTemplate,t=this._windshaftSettings.userName,n=this.getProtocol(),r=this._cdnUrl,i=r&&r[n],o=r&&r.templates;if(o&&o[n]){return o[n].url+"/"+t}return i?[n,"://",i,"/",t].join(""):e.replace("{user}",t)},r.prototype.getProtocol=function(){return this._isHttps()?"https":"http"},r.prototype._isHttps=function(){return 0===this._windshaftSettings.urlTemplate.indexOf("https")},r.prototype.getSupportedSubdomains=function(){var e=this._cdnUrl&&this._cdnUrl.templates,t=this.getProtocol();return e&&e[t]?e[t].subdomains:[]},r.prototype.getLayerMetadata=function(e){var t={},n=this._getLayers();return n&&n[e]&&(t=n[e].meta||{}),t},r.prototype.getDataviewMetadata=function(e){var t=this._getDataviews();if(t&&t[e])return t[e];t={};var n=i.compact(i.map(this._getLayers(),function(e){return e.widgets}));return i.each(n,function(e){i.extend(t,e)}),t&&t[e]?t[e]:void 0},r.prototype.getAnalysisNodeMetadata=function(e){var t={},n=i.map(this._getAnalyses(),function(e){return e.nodes});return i.each(n,function(e){i.extend(t,e)}),t[e]},r.prototype._getLayers=function(){return this._layers},r.prototype._getDataviews=function(){return this._dataviews},r.prototype._getAnalyses=function(){return this._analyses},e.exports=r},function(e,t,n){"use strict";var r=n(9),i=n(0),o=n(81),a=n(6),s=n(32),u=n(82),c=n(20),l=n(22),f=function(e,t){var n=i.filter(t,function(t){return!e[t]});if(n.length)throw new Error("WindshaftClient could not be initialized. The following options are missing: "+n.join(", "))},h=function(e){f(e,["urlTemplate","userName"]),e.templateName?this.endpoints={get:[s.MAPS_API_BASE_URL,"named",e.templateName,"jsonp"].join("/"),post:[s.MAPS_API_BASE_URL,"named",e.templateName].join("/")}:this.endpoints={get:s.MAPS_API_BASE_URL,post:s.MAPS_API_BASE_URL},this.url=e.urlTemplate.replace("{user}",e.userName),this._requestTracker=new u(3)};h.prototype.instantiateMap=function(e){this._requestTracker.canRequestBePerformed(e)?this._performRequest(e,{success:function(t){if(this._requestTracker.track(e,t),t.errors){var n=l(t);e.options.error&&e.options.error(n)}else e.options.success&&e.options.success(t)}.bind(this),error:function(t,n){if("abort"!==n){var r={},i={};try{r=JSON.parse(t.responseText),i=l(r)}catch(e){}this._requestTracker.track(e,r),e.options.error&&e.options.error(i)}}.bind(this)}):(c.error("Maximum number of subsequent equal requests to the Maps API reached (3):",e.payload,e.params),e.options.error&&e.options.error({}))},h.prototype._performRequest=function(e,t){var n=e.payload,r=e.params,i=this._generateEncodedURL(n,r);this._isURLValid(i)?this._get(i,t):this._generateCompressedURL(n,r,function(e){if(this._isURLValid(e))this._get(e,t);else{var i=this._getURL(r,"post");this._post(i,n,t)}}.bind(this))},h.prototype._generateEncodedURL=function(e,t){return t=i.extend({config:JSON.stringify(e)},t),this._getURL(t)},h.prototype._generateCompressedURL=function(e,t,n){var r=JSON.stringify({config:JSON.stringify(e)});o.compress(r,3,function(e){t=i.extend({lzma:a.array2hex(e)},t),n(this._getURL(t))}.bind(this))},h.prototype._isURLValid=function(e){return e.length<2033},h.prototype._post=function(e,t,n){this._abortPreviousRequest(),this._previousRequest=r.ajax({url:e,crossOrigin:!0,method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(t),success:n.success,error:n.error})},h.prototype._get=function(e,t){this._abortPreviousRequest(),this._previousRequest=r.ajax({url:e,method:"GET",dataType:"jsonp",jsonpCallback:this._jsonpCallbackName(e),cache:!0,success:t.success,error:t.error})},h.prototype._abortPreviousRequest=function(){this._previousRequest&&this._previousRequest.abort()},h.prototype._getURL=function(e,t){t=t||"get";var n=this._convertParamsToQueryString(e),r=this.endpoints[t];return[this.url,r].join("/")+n},h.prototype._convertParamsToQueryString=function(e){var t=[];return i.each(e,function(e,n){e instanceof Array?i.each(e,function(e){t.push(n+"[]="+e)}):e instanceof Object?t.push(n+"="+encodeURIComponent(JSON.stringify(e))):t.push(n+"="+encodeURIComponent(e))}),t.length>0?"?"+t.join("&"):""},h.prototype._jsonpCallbackName=function(e){return"_cdbc_"+a.uniqueCallbackName(e)},e.exports=h},function(e,t){var n=function(){function e(e,t){postMessage({action:3,callback_num:t,result:e})}function t(){return Ki}function n(){}function r(){return Yi}function i(){}function o(){return Qi}function a(){}function s(e,t){return e.detailMessage=t,e}function u(){return Ji}function c(){}function l(e,t){return e}function f(){return Xi}function h(){}function p(e,t){e[e.explicitLength++]=t}function d(e,t){e[e.explicitLength++]=t}function m(e){var t,n;return n=e.join(""),e.length=e.explicitLength=0,t=n,e[e.explicitLength++]=t,t}function g(e,t){var n=new Array(t);if(e>0)for(var r=[null,0,!1,[0,0]][e],i=0;i<t;++i)n[i]=r;return n}function y(){return this.arrayClass$}function v(e,t,n,r,i){var o;return o=g(i,r),x(),E(o,ji,Ni),o.arrayClass$=e,o.typeId$=t,o.queryId$=n,o}function _(e,t,n,r){return x(),E(r,ji,Ni),r.arrayClass$=e,r.typeId$=t,r.queryId$=n,r}function b(e,t,n){if(null!=n){if(e.queryId$>0&&!S(n.typeId$,e.queryId$))throw new ke;if(e.queryId$<0&&(n.typeMarker$==yi||2==n.typeId$))throw new ke}return e[t]=n}function w(){}function x(){x=yi,ji=[],Ni=[],C(new w,ji,Ni)}function C(e,t,n){var r,i=0;for(var o in e)(r=e[o])&&(t[i]=o,n[i]=r,++i)}function E(e,t,n){x();for(var r=0,i=t.length;r<i;++r)e[t[r]]=n[r]}function T(e,t){return e&&!!Wi[e][t]}function S(e,t){return e&&Wi[e][t]}function k(e,t){if(null!=e&&!S(e.typeId$,t))throw new Re;return e}function P(e,t){return null!=e&&T(e.typeId$,t)}function O(e){return~~Math.max(Math.min(e,2147483647),-2147483648)}function L(e){return null!=e&&T(e.typeId$,2)?e:l(new h,e)}function M(e,t){var n,r;return n=e[1]+t[1],r=e[0]+t[0],N(r,n)}function A(e,t,n){return 0==t?e:0==n?e:M(e,N(t*n,0))}function R(e,t){return q(~~Math.max(Math.min(e[1]/4294967296,2147483647),-2147483648)&~~Math.max(Math.min(t[1]/4294967296,2147483647),-2147483648),U(e)&U(t))}function j(e,t){var n,r;return e[0]==t[0]&&e[1]==t[1]?0:(n=e[1]<0,r=t[1]<0,n&&!r?-1:!n&&r?1:Y(e,t)[1]<0?-1:1)}function N(e,t){var n,r;for(t%=0x10000000000000000,e%=0x10000000000000000,n=t%4294967296,r=4294967296*Math.floor(e/4294967296),t=t-n+r,e=e-r+n;e<0;)e+=4294967296,t-=4294967296;for(;e>4294967295;)e-=4294967296,t+=4294967296;for(t%=0x10000000000000000;t>0x7fffffff00000000;)t-=0x10000000000000000;for(;t<-0x8000000000000000;)t+=0x10000000000000000;return[e,t]}function I(e,t){var n,r,i,o,a,s;if(0==t[0]&&0==t[1])throw xe(new Ee,"/ by zero");if(0==e[0]&&0==e[1])return te(),$i;if(B(e,(te(),Di)))return B(t,Ui)||B(t,zi)?Di:(o=G(e,1),n=V(I(o,t),1),a=Y(e,H(t,n)),M(n,I(a,t)));if(B(t,Di))return $i;if(e[1]<0)return t[1]<0?I(W(e),W(t)):W(I(W(e),t));if(t[1]<0)return W(I(e,W(t)));for(s=$i,a=e;j(a,t)>=0;)i=F(Math.floor(Q(a)/J(t))),0==i[0]&&0==i[1]&&(i=Ui),r=H(i,t),s=M(s,i),a=Y(a,r);return s}function B(e,t){return e[0]==t[0]&&e[1]==t[1]}function F(e){return isNaN(e)?(te(),$i):e<-0x8000000000000000?(te(),Di):e>=0x8000000000000000?(te(),Fi):e>0?N(Math.floor(e),0):N(Math.ceil(e),0)}function D(e){var t,n;return e>-129&&e<128?(t=e+128,n=(ee(),Ii)[t],null==n&&(n=Ii[t]=z(e)),n):z(e)}function z(e){return e>=0?[e,0]:[e+4294967296,-4294967296]}function U(e){return e[0]>=2147483648?~~Math.max(Math.min(e[0]-4294967296,2147483647),-2147483648):~~Math.max(Math.min(e[0],2147483647),-2147483648)}function q(e,t){var n,r;return n=4294967296*e,r=t,t<0&&(r+=4294967296),[r,n]}function H(e,t){var n,r,i,o,a,s,u,c,l;return 0==e[0]&&0==e[1]?(te(),$i):0==t[0]&&0==t[1]?(te(),$i):B(e,(te(),Di))?$(t):B(t,Di)?$(e):e[1]<0?t[1]<0?H(W(e),W(t)):W(H(W(e),t)):t[1]<0?W(H(e,W(t))):j(e,Hi)<0&&j(t,Hi)<0?N((e[1]+e[0])*(t[1]+t[0]),0):(i=e[1]%281474976710656,o=e[1]-i,n=e[0]%65536,r=e[0]-n,u=t[1]%281474976710656,c=t[1]-u,a=t[0]%65536,s=t[0]-a,l=$i,l=A(l,o,a),l=A(l,i,s),l=A(l,i,a),l=A(l,r,u),l=A(l,r,s),l=A(l,r,a),l=A(l,n,c),l=A(l,n,u),l=A(l,n,s),l=A(l,n,a))}function $(e){return 1==(1&U(e))?(te(),Di):(te(),$i)}function W(e){var t,n;return B(e,(te(),Di))?Di:(t=-e[1],n=-e[0],n>4294967295&&(n-=4294967296,t+=4294967296),n<0&&(n+=4294967296,t-=4294967296),[n,t])}function Z(e){return e<=30?1<<e:Z(30)*Z(e-30)}function V(e,t){var n,r,i,o;return t&=63,B(e,(te(),Di))?0==t?e:$i:e[1]<0?W(V(W(e),t)):(o=Z(t),r=e[1]*o%0x10000000000000000,i=e[0]*o,n=i-i%4294967296,r+=n,i-=n,r>=0x8000000000000000&&(r-=0x10000000000000000),[i,r])}function G(e,t){var n,r,i;return t&=63,i=Z(t),n=e[1]/i,r=Math.floor(e[0]/i),N(r,n)}function K(e,t){var n;return t&=63,n=G(e,t),e[1]<0&&(n=M(n,V((te(),qi),63-t))),n}function Y(e,t){var n,r;return n=e[1]-t[1],r=e[0]-t[0],N(r,n)}function Q(e){var t,n,r;return n=O(Math.log(e[1])/(te(),Bi)),n<=48?e[1]+e[0]:(t=n-48,r=(1<<t)-1,e[1]+(e[0]-r))}function J(e){var t,n,r;return n=O(Math.log(e[1])/(te(),Bi)),n<=48?e[1]+e[0]:(t=n-48,r=(1<<t)-1,e[1]+(e[0]+r))}function X(e){var t,n,r,i,o,a;if(0==e[0]&&0==e[1])return"0";if(B(e,(te(),Di)))return"-9223372036854775808";if(e[1]<0)return"-"+X(W(e));for(n=e,i="";0!=n[0]||0!=n[1];){if(o=D(1e9),r=I(n,o),t=""+U(Y(n,H(r,o))),n=r,0!=n[0]||0!=n[1])for(a=9-t.length;a>0;--a)t="0"+t;i=t+i}return i}function ee(){ee=yi,Ii=v(to,0,9,256,0)}function te(){te=yi,Bi=Math.log(2),Fi=Ri,Di=Ci,zi=D(-1),Ui=D(1),qi=D(2),Hi=Li,$i=D(0)}function ne(){return no}function re(){}function ie(e,t){return oe(e,t,0,t.length),e}function oe(e,t,n,r){return e.buf=t,e.pos=n,e.count=n+r,e.count>t.length&&(e.count=t.length),e}function ae(e){return e.pos>=e.count?-1:255&e.buf[e.pos++]}function se(e,t,n,r){return e.pos>=e.count?-1:(r=$e(r,e.count-e.pos),Xe(e.buf,e.pos,t,n,r),e.pos+=r,r)}function ue(){return ro}function ce(){}function le(){return oo}function fe(){}function he(e){return e.buf=v(io,0,-1,32,1),e}function pe(e,t){var n;t<=e.buf.length||(t=He(t,2*e.buf.length),n=v(io,0,-1,t,1),Xe(e.buf,0,n,0,e.buf.length),e.buf=n)}function de(e){var t;return t=v(io,0,-1,e.count,1),Xe(e.buf,0,t,0,e.count),t}function me(e,t){pe(e,e.count+1),e.buf[e.count++]=t<<24>>24}function ge(e,t,n,r){pe(e,e.count+r),Xe(t,n,e.buf,e.count,r),e.count+=r}function ye(){return ao}function ve(){}function _e(e,t){return e.detailMessage=t,e}function be(){return so}function we(){}function xe(e,t){return e.detailMessage=t,e}function Ce(){return co}function Ee(){}function Te(e,t){return e.detailMessage=t,e}function Se(){return lo}function ke(){}function Pe(e,t){var n;return n=new Me,n.typeName=e+t,n}function Oe(e,t){var n;return n=new Me,n.typeName=e+t,n}function Le(){return ho}function Me(){}function Ae(){return po}function Re(){}function je(){return uo}function Ne(){}function Ie(e,t){return e.detailMessage=t,e}function Be(){return mo}function Fe(){}function De(){return go}function ze(){}function Ue(){return yo}function qe(){}function He(e,t){return e>t?e:t}function $e(e,t){return e<t?e:t}function We(){return _o}function Ze(){}function Ve(e,t){return null!=t&&String(e)==t}function Ge(e,t,n,r,i){var o;for(o=t;o<n;++o)r[i++]=e.charCodeAt(o)}function Ke(){return bo}function Ye(e){var t;return e.data=(t=[],t.explicitLength=0,t),e}function Qe(){return wo}function Je(){}function Xe(e,t,n,r,i){var o,a,s,u,c,l,f,h;if(null==e||null==n)throw new Ze;if(f=(e.typeMarker$==yi||2==e.typeId$?e.getClass$():eo).typeName,s=(n.typeMarker$==yi||2==n.typeId$?n.getClass$():eo).typeName,91!=f.charCodeAt(0)||91!=s.charCodeAt(0))throw Te(new ke,"Must be array types");if(f.charCodeAt(1)!=s.charCodeAt(1))throw Te(new ke,"Array types must match");if(h=e.length,u=n.length,t<0||r<0||i<0||t+i>h||r+i>u)throw new qe;if(76!=f.charCodeAt(1)&&91!=f.charCodeAt(1)||Ve(f,s))for(c=0;c<i;++c)n[r+c]=e[t+c];else if(l=k(e,3),o=k(n,3),(null==e?null:e)===(null==n?null:n)&&t<r)for(t+=i,a=r+i;a-- >r;)b(o,a,l[--t]);else for(a=r+i;r<a;)b(o,r++,l[t++])}function et(e,t){if(!Vn(t,1<<e.dictionarySize))throw s(new c,"unexpected failure");if(!Yn(t,e.fb))throw s(new c,"unexpected failure");if(!Kn(t,e.matchFinder))throw s(new c,"unexpected failure");if(!Gn(t,e.lc,e.lp,e.pb))throw s(new c,"unexpected failure")}function tt(){return Go}function nt(){}function rt(e){try{return Qt(e.chunker)}catch(e){if(e=L(e),P(e,10))return!1;throw e}}function it(e,t,n,r,i){var o,a;if(!i)throw Ie(new Fe,"null mode");if(j(r,Ei)<0)throw Ie(new Fe,"invalid length "+X(r));for(e.length_0=r,o=jn(new nr),et(i,o),o._writeEndMark=!0,Qn(o,n),a=0;a<64;a+=8)me(n,255&U(G(r,a)));e.chunker=(o._needReleaseMFStream=!1,o._inStream=t,o._finished=!1,Rn(o),o._rangeEncoder.Stream=n,qn(o),In(o),Nn(o),o._lenEncoder._tableSize=o._numFastBytes+1-2,hr(o._lenEncoder,1<<o._posStateBits),o._repMatchLenEncoder._tableSize=o._numFastBytes+1-2,hr(o._repMatchLenEncoder,1<<o._posStateBits),o.nowPos64=Ti,Kt(new tn,o))}function ot(){return Ko}function at(){}function st(e,t,n){e.output=he(new ve);try{it(e,ie(new ce,t),e.output,D(t.length),n)}catch(e){throw e=L(e),P(e,10)?s(new c,"impossible exception"):e}return e}function ut(){return Yo}function ct(){}function lt(e){var t;try{return Qt(e.chunker)}catch(n){if(n=L(n),P(n,10))return t=n,e.exception=t,!1;throw n}}function ft(e,t,n){var r,i,o,a,s,u="";for(o=v(io,0,-1,5,1),i=0;i<o.length;++i){if(-1==(a=ae(t)))throw _e(new we,"truncated input");o[i]=a<<24>>24}if(r=an(new hn),!un(r,o))throw _e(new we,"corrupted input");for(i=0;i<64;i+=8){if(-1==(a=ae(t)))throw _e(new we,"truncated input");a=a.toString(16),1==a.length&&(a="0"+a),u=a+""+u}"ffffffffffffffffff"==u.toLowerCase()||0==u?e.length_0=Ei:(s=parseInt(u,16),e.length_0=s>4294967295?Ei:F(s)),e.chunker=rn(r,t,n,e.length_0)}function ht(){return Qo}function pt(){}function dt(e,t){return e.output=he(new ve),ft(e,ie(new ce,t),e.output),e}function mt(){return Jo}function gt(){}function yt(e,t,n,r){var i;e._keepSizeBefore=t,e._keepSizeAfter=n,i=t+n+r,null!=e._bufferBase&&e._blockSize==i||(e._bufferBase=null,e._blockSize=i,e._bufferBase=v(io,0,-1,e._blockSize,1)),e._pointerToLastSafePosition=e._blockSize-n}function vt(e,t){return e._bufferBase[e._bufferOffset+e._pos+t]}function _t(e,t,n,r){var i,o;for(e._streamEndWasReached&&e._pos+t+r>e._streamPos&&(r=e._streamPos-(e._pos+t)),++n,o=e._bufferOffset+e._pos+t,i=0;i<r&&e._bufferBase[o+i]==e._bufferBase[o+i-n];++i);return i}function bt(e){return e._streamPos-e._pos}function wt(e){var t,n,r;for(r=e._bufferOffset+e._pos-e._keepSizeBefore,r>0&&--r,n=e._bufferOffset+e._streamPos-r,t=0;t<n;++t)e._bufferBase[t]=e._bufferBase[r+t];e._bufferOffset-=r}function xt(e){var t;++e._pos>e._posLimit&&(t=e._bufferOffset+e._pos,t>e._pointerToLastSafePosition&&wt(e),Ct(e))}function Ct(e){var t,n,r;if(!e._streamEndWasReached)for(;;){if(0==(r=-e._bufferOffset+e._blockSize-e._streamPos))return;if(-1==(t=se(e._stream,e._bufferBase,e._bufferOffset+e._streamPos,r)))return e._posLimit=e._streamPos,n=e._bufferOffset+e._posLimit,n>e._pointerToLastSafePosition&&(e._posLimit=e._pointerToLastSafePosition-e._bufferOffset),void(e._streamEndWasReached=!0);e._streamPos+=t,e._streamPos>=e._pos+e._keepSizeAfter&&(e._posLimit=e._streamPos-e._keepSizeAfter)}}function Et(e,t){e._bufferOffset+=t,e._posLimit-=t,e._pos-=t,e._streamPos-=t}function Tt(){return xo}function St(){}function kt(){kt=yi;var e,t,n;for(Zi=v(vo,0,-1,256,1),e=0;e<256;++e){for(n=e,t=0;t<8;++t)0!=(1&n)?n=n>>>1^-306674912:n>>>=1;Zi[e]=n}}function Pt(e,t,n,r,i){var o,a,s;return!(t>1073741567)&&(e._cutValue=16+(r>>1),s=256+~~((t+n+r+i)/2),yt(e,t+n,r+i,s),e._matchMaxLen=r,o=t+1,e._cyclicBufferSize!=o&&(e._son=v(vo,0,-1,2*(e._cyclicBufferSize=o),1)),a=65536,e.HASH_ARRAY&&(a=t-1,a|=a>>1,a|=a>>2,a|=a>>4,a|=a>>8,a>>=1,a|=65535,a>16777216&&(a>>=1),e._hashMask=a,++a,a+=e.kFixHashSize),a!=e._hashSizeSum&&(e._hash=v(vo,0,-1,e._hashSizeSum=a,1)),!0)}function Ot(e,t){var n,r,i,o,a,s,u,c,l,f,h,p,d,m,g,y,v,_,b,w,x;if(e._pos+e._matchMaxLen<=e._streamPos)m=e._matchMaxLen;else if((m=e._streamPos-e._pos)<e.kMinMatchCheck)return Mt(e),0;for(v=0,g=e._pos>e._cyclicBufferSize?e._pos-e._cyclicBufferSize:0,r=e._bufferOffset+e._pos,y=1,c=0,l=0,e.HASH_ARRAY?(x=Zi[255&e._bufferBase[r]]^255&e._bufferBase[r+1],c=1023&x,x^=(255&e._bufferBase[r+2])<<8,l=65535&x,f=(x^Zi[255&e._bufferBase[r+3]]<<5)&e._hashMask):f=255&e._bufferBase[r]^(255&e._bufferBase[r+1])<<8,i=e._hash[e.kFixHashSize+f],e.HASH_ARRAY&&(o=e._hash[c],a=e._hash[1024+l],e._hash[c]=e._pos,e._hash[1024+l]=e._pos,o>g&&e._bufferBase[e._bufferOffset+o]==e._bufferBase[r]&&(t[v++]=y=2,t[v++]=e._pos-o-1),a>g&&e._bufferBase[e._bufferOffset+a]==e._bufferBase[r]&&(a==o&&(v-=2),t[v++]=y=3,t[v++]=e._pos-a-1,o=a),0!=v&&o==i&&(v-=2,y=1)),e._hash[e.kFixHashSize+f]=e._pos,b=1+(e._cyclicBufferPos<<1),w=e._cyclicBufferPos<<1,p=d=e.kNumHashDirectBytes,0!=e.kNumHashDirectBytes&&i>g&&e._bufferBase[e._bufferOffset+i+e.kNumHashDirectBytes]!=e._bufferBase[r+e.kNumHashDirectBytes]&&(t[v++]=y=e.kNumHashDirectBytes,t[v++]=e._pos-i-1),n=e._cutValue;;){if(i<=g||0==n--){e._son[b]=e._son[w]=0;break}if(u=e._pos-i,s=(u<=e._cyclicBufferPos?e._cyclicBufferPos-u:e._cyclicBufferPos-u+e._cyclicBufferSize)<<1,_=e._bufferOffset+i,h=p<d?p:d,e._bufferBase[_+h]==e._bufferBase[r+h]){for(;++h!=m&&e._bufferBase[_+h]==e._bufferBase[r+h];);if(y<h&&(t[v++]=y=h,t[v++]=u-1,h==m)){e._son[w]=e._son[s],e._son[b]=e._son[s+1];break}}(255&e._bufferBase[_+h])<(255&e._bufferBase[r+h])?(e._son[w]=i,w=s+1,i=e._son[w],d=h):(e._son[b]=i,b=s,i=e._son[b],p=h)}return Mt(e),v}function Lt(e){var t;for(e._bufferOffset=0,e._pos=0,e._streamPos=0,e._streamEndWasReached=!1,Ct(e),t=0;t<e._hashSizeSum;++t)e._hash[t]=0;e._cyclicBufferPos=0,Et(e,-1)}function Mt(e){var t;++e._cyclicBufferPos>=e._cyclicBufferSize&&(e._cyclicBufferPos=0),xt(e),1073741823==e._pos&&(t=e._pos-e._cyclicBufferSize,At(e._son,2*e._cyclicBufferSize,t),At(e._hash,e._hashSizeSum,t),Et(e,t))}function At(e,t,n){var r,i;for(r=0;r<t;++r)i=e[r],i<=n?i=0:i-=n,e[r]=i}function Rt(e,t){e.HASH_ARRAY=t>2,e.HASH_ARRAY?(e.kNumHashDirectBytes=0,e.kMinMatchCheck=4,e.kFixHashSize=66560):(e.kNumHashDirectBytes=2,e.kMinMatchCheck=3,e.kFixHashSize=0)}function jt(e,t){var n,r,i,o,a,s,u,c,l,f,h,p,d,m,g,y,v;do{if(e._pos+e._matchMaxLen<=e._streamPos)p=e._matchMaxLen;else if((p=e._streamPos-e._pos)<e.kMinMatchCheck){Mt(e);continue}for(d=e._pos>e._cyclicBufferSize?e._pos-e._cyclicBufferSize:0,r=e._bufferOffset+e._pos,e.HASH_ARRAY?(v=Zi[255&e._bufferBase[r]]^255&e._bufferBase[r+1],s=1023&v,e._hash[s]=e._pos,v^=(255&e._bufferBase[r+2])<<8,u=65535&v,e._hash[1024+u]=e._pos,c=(v^Zi[255&e._bufferBase[r+3]]<<5)&e._hashMask):c=255&e._bufferBase[r]^(255&e._bufferBase[r+1])<<8,i=e._hash[e.kFixHashSize+c],e._hash[e.kFixHashSize+c]=e._pos,g=1+(e._cyclicBufferPos<<1),y=e._cyclicBufferPos<<1,f=h=e.kNumHashDirectBytes,n=e._cutValue;;){if(i<=d||0==n--){e._son[g]=e._son[y]=0;break}if(a=e._pos-i,o=(a<=e._cyclicBufferPos?e._cyclicBufferPos-a:e._cyclicBufferPos-a+e._cyclicBufferSize)<<1,m=e._bufferOffset+i,l=f<h?f:h,e._bufferBase[m+l]==e._bufferBase[r+l]){for(;++l!=p&&e._bufferBase[m+l]==e._bufferBase[r+l];);if(l==p){e._son[y]=e._son[o],e._son[g]=e._son[o+1];break}}(255&e._bufferBase[m+l])<(255&e._bufferBase[r+l])?(e._son[y]=i,y=o+1,i=e._son[y],h=l):(e._son[g]=i,g=o,i=e._son[g],f=l)}Mt(e)}while(0!=--t)}function Nt(){return Co}function It(){}function Bt(e,t,n){var r;for(r=e._pos-t-1,r<0&&(r+=e._windowSize);0!=n;--n)r>=e._windowSize&&(r=0),e._buffer[e._pos++]=e._buffer[r++],e._pos>=e._windowSize&&Dt(e)}function Ft(e,t){null!=e._buffer&&e._windowSize==t||(e._buffer=v(io,0,-1,t,1)),e._windowSize=t,e._pos=0,e._streamPos=0}function Dt(e){var t;0!=(t=e._pos-e._streamPos)&&(ge(e._stream,e._buffer,e._streamPos,t),e._pos>=e._windowSize&&(e._pos=0),e._streamPos=e._pos)}function zt(e,t){var n;return n=e._pos-t-1,n<0&&(n+=e._windowSize),e._buffer[n]}function Ut(e,t){t||(e._streamPos=0,e._pos=0)}function qt(e,t){e._buffer[e._pos++]=t,e._pos>=e._windowSize&&Dt(e)}function Ht(e){Dt(e),e._stream=null}function $t(e,t){Dt(e),e._stream=null,e._stream=t}function Wt(){return Eo}function Zt(){}function Vt(e){return e-=2,e<4?e:3}function Gt(e){return e<4?0:e<10?e-3:e-6}function Kt(e,t){return e.encoder=t,e.decoder=null,e.alive=!0,e}function Yt(e,t){return e.decoder=t,e.encoder=null,e.alive=!0,e}function Qt(e){var t;if(!e.alive)throw new ze;t=!0;try{return e.encoder?Xt(e):Jt(e),t=!1,e.alive}finally{t&&(e.alive=!1)}}function Jt(e){var t;if(-1==(t=on(e.decoder)))throw _e(new we,"corrupted input");e.inBytesProcessed=Ei,e.outBytesProcessed=e.decoder.nowPos64,(1==t||j(e.decoder.outSize,Ti)>=0&&j(e.decoder.nowPos64,e.decoder.outSize)>=0)&&(nn(e.decoder),e.alive=!1)}function Xt(e){An(e.encoder,e.encoder.processedInSize,e.encoder.processedOutSize,e.encoder.finished),e.inBytesProcessed=e.encoder.processedInSize[0],e.encoder.finished[0]&&(Zn(e.encoder),e.alive=!1)}function en(){return To}function tn(){}function nn(e){Dt(e.m_OutWindow),Ht(e.m_OutWindow),e.m_RangeDecoder.Stream=null}function rn(e,t,n,r){return e.m_RangeDecoder.Stream=t,$t(e.m_OutWindow,n),sn(e),e.state=0,e.rep0=0,e.rep1=0,e.rep2=0,e.rep3=0,e.outSize=r,e.nowPos64=Ti,e.prevByte=0,Yt(new tn,e)}function on(e){var t,n,r,i,o,a;if(a=U(e.nowPos64)&e.m_PosStateMask,0==Wr(e.m_RangeDecoder,e.m_IsMatchDecoders,(e.state<<4)+a))t=bn(e.m_LiteralDecoder,U(e.nowPos64),e.prevByte),e.state<7?e.prevByte=En(t,e.m_RangeDecoder):e.prevByte=Tn(t,e.m_RangeDecoder,zt(e.m_OutWindow,e.rep0)),qt(e.m_OutWindow,e.prevByte),e.state=Gt(e.state),e.nowPos64=M(e.nowPos64,Si);else{if(1==Wr(e.m_RangeDecoder,e.m_IsRepDecoders,e.state))r=0,0==Wr(e.m_RangeDecoder,e.m_IsRepG0Decoders,e.state)?0==Wr(e.m_RangeDecoder,e.m_IsRep0LongDecoders,(e.state<<4)+a)&&(e.state=e.state<7?9:11,r=1):(0==Wr(e.m_RangeDecoder,e.m_IsRepG1Decoders,e.state)?n=e.rep1:(0==Wr(e.m_RangeDecoder,e.m_IsRepG2Decoders,e.state)?n=e.rep2:(n=e.rep3,e.rep3=e.rep2),e.rep2=e.rep1),e.rep1=e.rep0,e.rep0=n),0==r&&(r=dn(e.m_RepLenDecoder,e.m_RangeDecoder,a)+2,e.state=e.state<7?8:11);else if(e.rep3=e.rep2,e.rep2=e.rep1,e.rep1=e.rep0,r=2+dn(e.m_LenDecoder,e.m_RangeDecoder,a),e.state=e.state<7?7:10,(o=Mr(e.m_PosSlotDecoder[Vt(r)],e.m_RangeDecoder))>=4){if(i=(o>>1)-1,e.rep0=(2|1&o)<<i,o<14)e.rep0+=Rr(e.m_PosDecoders,e.rep0-o-1,e.m_RangeDecoder,i);else if(e.rep0+=Zr(e.m_RangeDecoder,i-4)<<4,e.rep0+=Ar(e.m_PosAlignDecoder,e.m_RangeDecoder),e.rep0<0)return-1==e.rep0?1:-1}else e.rep0=o;if(j(D(e.rep0),e.nowPos64)>=0||e.rep0>=e.m_DictionarySizeCheck)return-1;Bt(e.m_OutWindow,e.rep0,r),e.nowPos64=M(e.nowPos64,D(r)),e.prevByte=zt(e.m_OutWindow,0)}return 0}function an(e){var t;for(e.m_OutWindow=new Zt,e.m_RangeDecoder=new Yr,e.m_IsMatchDecoders=v(So,0,-1,192,1),e.m_IsRepDecoders=v(So,0,-1,12,1),e.m_IsRepG0Decoders=v(So,0,-1,12,1),e.m_IsRepG1Decoders=v(So,0,-1,12,1),e.m_IsRepG2Decoders=v(So,0,-1,12,1),e.m_IsRep0LongDecoders=v(So,0,-1,192,1),e.m_PosSlotDecoder=v(ko,0,7,4,0),e.m_PosDecoders=v(So,0,-1,114,1),e.m_PosAlignDecoder=Lr(new Nr,4),e.m_LenDecoder=mn(new vn),e.m_RepLenDecoder=mn(new vn),e.m_LiteralDecoder=new Cn,t=0;t<4;++t)e.m_PosSlotDecoder[t]=Lr(new Nr,6);return e}function sn(e){var t;for(Ut(e.m_OutWindow,!1),Gr(e.m_IsMatchDecoders),Gr(e.m_IsRep0LongDecoders),Gr(e.m_IsRepDecoders),Gr(e.m_IsRepG0Decoders),Gr(e.m_IsRepG1Decoders),Gr(e.m_IsRepG2Decoders),Gr(e.m_PosDecoders),wn(e.m_LiteralDecoder),t=0;t<4;++t)Gr(e.m_PosSlotDecoder[t].Models);gn(e.m_LenDecoder),gn(e.m_RepLenDecoder),Gr(e.m_PosAlignDecoder.Models),Vr(e.m_RangeDecoder)}function un(e,t){var n,r,i,o,a,s,u;if(t.length<5)return!1;for(u=255&t[0],i=u%9,s=~~(u/9),o=s%5,a=~~(s/5),n=0,r=0;r<4;++r)n+=(255&t[1+r])<<8*r;return!!ln(e,i,o,a)&&cn(e,n)}function cn(e,t){return!(t<0)&&(e.m_DictionarySize!=t&&(e.m_DictionarySize=t,e.m_DictionarySizeCheck=He(e.m_DictionarySize,1),Ft(e.m_OutWindow,He(e.m_DictionarySizeCheck,4096))),!0)}function ln(e,t,n,r){var i;return!(t>8||n>4||r>4)&&(_n(e.m_LiteralDecoder,n,t),i=1<<r,pn(e.m_LenDecoder,i),pn(e.m_RepLenDecoder,i),e.m_PosStateMask=i-1,!0)}function fn(){return Po}function hn(){}function pn(e,t){for(;e.m_NumPosStates<t;++e.m_NumPosStates)e.m_LowCoder[e.m_NumPosStates]=Lr(new Nr,3),e.m_MidCoder[e.m_NumPosStates]=Lr(new Nr,3)}function dn(e,t,n){var r;return 0==Wr(t,e.m_Choice,0)?Mr(e.m_LowCoder[n],t):(r=8,0==Wr(t,e.m_Choice,1)?r+=Mr(e.m_MidCoder[n],t):r+=8+Mr(e.m_HighCoder,t),r)}function mn(e){return e.m_Choice=v(So,0,-1,2,1),e.m_LowCoder=v(ko,0,7,16,0),e.m_MidCoder=v(ko,0,7,16,0),e.m_HighCoder=Lr(new Nr,8),e}function gn(e){var t;for(Gr(e.m_Choice),t=0;t<e.m_NumPosStates;++t)Gr(e.m_LowCoder[t].Models),Gr(e.m_MidCoder[t].Models);Gr(e.m_HighCoder.Models)}function yn(){return Oo}function vn(){}function _n(e,t,n){var r,i;if(null==e.m_Coders||e.m_NumPrevBits!=n||e.m_NumPosBits!=t)for(e.m_NumPosBits=t,e.m_PosMask=(1<<t)-1,e.m_NumPrevBits=n,i=1<<e.m_NumPrevBits+e.m_NumPosBits,e.m_Coders=v(Lo,0,4,i,0),r=0;r<i;++r)e.m_Coders[r]=Sn(new Pn)}function bn(e,t,n){return e.m_Coders[((t&e.m_PosMask)<<e.m_NumPrevBits)+((255&n)>>>8-e.m_NumPrevBits)]}function wn(e){var t,n;for(n=1<<e.m_NumPrevBits+e.m_NumPosBits,t=0;t<n;++t)Gr(e.m_Coders[t].m_Decoders)}function xn(){return Mo}function Cn(){}function En(e,t){var n;n=1;do{n=n<<1|Wr(t,e.m_Decoders,n)}while(n<256);return n<<24>>24}function Tn(e,t,n){var r,i,o;o=1;do{if(i=n>>7&1,n<<=1,r=Wr(t,e.m_Decoders,(1+i<<8)+o),o=o<<1|r,i!=r){for(;o<256;)o=o<<1|Wr(t,e.m_Decoders,o);break}}while(o<256);return o<<24>>24}function Sn(e){return e.m_Decoders=v(So,0,-1,768,1),e}function kn(){return Ao}function Pn(){}function On(){On=yi;var e,t,n,r;for(Vi=v(io,0,-1,2048,1),e=2,Vi[0]=0,Vi[1]=1,r=2;r<22;++r)for(n=1<<(r>>1)-1,t=0;t<n;++t,++e)Vi[e]=r<<24>>24}function Ln(e,t){var n,r,i,o;e._optimumEndIndex=t,i=e._optimum[t].PosPrev,r=e._optimum[t].BackPrev;do{e._optimum[t].Prev1IsChar&&(Sr(e._optimum[i]),e._optimum[i].PosPrev=i-1,e._optimum[t].Prev2&&(e._optimum[i-1].Prev1IsChar=!1,e._optimum[i-1].PosPrev=e._optimum[t].PosPrev2,e._optimum[i-1].BackPrev=e._optimum[t].BackPrev2)),o=i,n=r,r=e._optimum[o].BackPrev,i=e._optimum[o].PosPrev,e._optimum[o].BackPrev=n,e._optimum[o].PosPrev=t,t=o}while(t>0);return e.backRes=e._optimum[0].BackPrev,e._optimumCurrentIndex=e._optimum[0].PosPrev,e._optimumCurrentIndex}function Mn(e){var t;for(e._state=0,e._previousByte=0,t=0;t<4;++t)e._repDistances[t]=0}function An(e,t,n,r){var i,o,a,s,u,c,l,f,h,p,d,m,g,y,v;if(t[0]=Ti,n[0]=Ti,r[0]=!0,e._inStream&&(e._matchFinder._stream=e._inStream,Lt(e._matchFinder),e._needReleaseMFStream=!0,e._inStream=null),!e._finished){if(e._finished=!0,y=e.nowPos64,B(e.nowPos64,Ti)){if(0==bt(e._matchFinder))return void Bn(e,U(e.nowPos64));$n(e),g=U(e.nowPos64)&e._posStateMask,Jr(e._rangeEncoder,e._isMatch,(e._state<<4)+g,0),e._state=Gt(e._state),a=vt(e._matchFinder,-e._additionalOffset),br(gr(e._literalEncoder,U(e.nowPos64),e._previousByte),e._rangeEncoder,a),e._previousByte=a,--e._additionalOffset,e.nowPos64=M(e.nowPos64,Si)}if(0==bt(e._matchFinder))return void Bn(e,U(e.nowPos64));for(;;){if(l=Fn(e,U(e.nowPos64)),p=e.backRes,g=U(e.nowPos64)&e._posStateMask,o=(e._state<<4)+g,1==l&&-1==p)Jr(e._rangeEncoder,e._isMatch,o,0),a=vt(e._matchFinder,-e._additionalOffset),v=gr(e._literalEncoder,U(e.nowPos64),e._previousByte),e._state<7?br(v,e._rangeEncoder,a):(h=vt(e._matchFinder,-e._repDistances[0]-1-e._additionalOffset),wr(v,e._rangeEncoder,h,a)),e._previousByte=a,e._state=Gt(e._state);else{if(Jr(e._rangeEncoder,e._isMatch,o,1),p<4){if(Jr(e._rangeEncoder,e._isRep,e._state,1),0==p?(Jr(e._rangeEncoder,e._isRepG0,e._state,0),1==l?Jr(e._rangeEncoder,e._isRep0Long,o,0):Jr(e._rangeEncoder,e._isRep0Long,o,1)):(Jr(e._rangeEncoder,e._isRepG0,e._state,1),1==p?Jr(e._rangeEncoder,e._isRepG1,e._state,0):(Jr(e._rangeEncoder,e._isRepG1,e._state,1),Jr(e._rangeEncoder,e._isRepG2,e._state,p-2))),1==l?e._state=e._state<7?9:11:(cr(e._repMatchLenEncoder,e._rangeEncoder,l-2,g),e._state=e._state<7?8:11),s=e._repDistances[p],0!=p){for(c=p;c>=1;--c)e._repDistances[c]=e._repDistances[c-1];e._repDistances[0]=s}}else{for(Jr(e._rangeEncoder,e._isRep,e._state,0),e._state=e._state<7?7:10,cr(e._lenEncoder,e._rangeEncoder,l-2,g),p-=4,m=Xn(p),f=Vt(l),Br(e._posSlotEncoder[f],e._rangeEncoder,m),m>=4&&(u=(m>>1)-1,i=(2|1&m)<<u,d=p-i,m<14?Ur(e._posEncoders,i-m-1,e._rangeEncoder,u,d):(Xr(e._rangeEncoder,d>>4,u-4),Dr(e._posAlignEncoder,e._rangeEncoder,15&d),++e._alignPriceCount)),s=p,c=3;c>=1;--c)e._repDistances[c]=e._repDistances[c-1];e._repDistances[0]=s,++e._matchPriceCount}e._previousByte=vt(e._matchFinder,l-1-e._additionalOffset)}if(e._additionalOffset-=l,e.nowPos64=M(e.nowPos64,D(l)),0==e._additionalOffset){if(e._matchPriceCount>=128&&In(e),e._alignPriceCount>=16&&Nn(e),t[0]=e.nowPos64,n[0]=ti(e._rangeEncoder),0==bt(e._matchFinder))return void Bn(e,U(e.nowPos64));if(j(Y(e.nowPos64,y),Pi)>=0)return e._finished=!1,void(r[0]=!1)}}}}function Rn(e){var t,n;e._matchFinder||(kt(),t=new It,n=4,0==e._matchFinderType&&(n=2),Rt(t,n),e._matchFinder=t),mr(e._literalEncoder,e._numLiteralPosStateBits,e._numLiteralContextBits),e._dictionarySize==e._dictionarySizePrev&&e._numFastBytesPrev==e._numFastBytes||(Pt(e._matchFinder,e._dictionarySize,4096,e._numFastBytes,274),e._dictionarySizePrev=e._dictionarySize,e._numFastBytesPrev=e._numFastBytes)}function jn(e){var t;for(On(),e._repDistances=v(vo,0,-1,4,1),e._optimum=v(Ro,0,6,4096,0),e._rangeEncoder=(Qr(),new si),e._isMatch=v(So,0,-1,192,1),e._isRep=v(So,0,-1,12,1),e._isRepG0=v(So,0,-1,12,1),e._isRepG1=v(So,0,-1,12,1),e._isRepG2=v(So,0,-1,12,1),e._isRep0Long=v(So,0,-1,192,1),e._posSlotEncoder=v(jo,0,8,4,0),e._posEncoders=v(So,0,-1,114,1),e._posAlignEncoder=Ir(new $r,4),e._lenEncoder=lr(new dr),e._repMatchLenEncoder=lr(new dr),e._literalEncoder=new _r,e._matchDistances=v(vo,0,-1,548,1),e._posSlotPrices=v(vo,0,-1,256,1),e._distancesPrices=v(vo,0,-1,512,1),e._alignPrices=v(vo,0,-1,16,1),e.reps=v(vo,0,-1,4,1),e.repLens=v(vo,0,-1,4,1),e.processedInSize=v(No,0,-1,1,3),e.processedOutSize=v(No,0,-1,1,3),e.finished=v(Io,0,-1,1,2),e.properties=v(io,0,-1,5,1),e.tempPrices=v(vo,0,-1,128,1),t=0;t<4096;++t)e._optimum[t]=new Or;for(t=0;t<4;++t)e._posSlotEncoder[t]=Ir(new $r,6);return e}function Nn(e){var t;for(t=0;t<16;++t)e._alignPrices[t]=zr(e._posAlignEncoder,t);e._alignPriceCount=0}function In(e){var t,n,r,i,o,a,s,u;for(i=4;i<128;++i)a=Xn(i),r=(a>>1)-1,t=(2|1&a)<<r,e.tempPrices[i]=qr(e._posEncoders,t-a-1,r,i-t);for(o=0;o<4;++o){for(n=e._posSlotEncoder[o],s=o<<6,a=0;a<e._distTableSize;++a)e._posSlotPrices[s+a]=Fr(n,a);for(a=14;a<e._distTableSize;++a)e._posSlotPrices[s+a]+=(a>>1)-1-4<<6;for(u=128*o,i=0;i<4;++i)e._distancesPrices[u+i]=e._posSlotPrices[s+i];for(;i<128;++i)e._distancesPrices[u+i]=e._posSlotPrices[s+Xn(i)]+e.tempPrices[i]}e._matchPriceCount=0}function Bn(e,t){Wn(e),Jn(e,t&e._posStateMask),ei(e._rangeEncoder)}function Fn(e,t){var n,r,i,o,a,s,u,c,l,f,h,p,d,m,g,y,v,_,b,w,x,C,E,T,S,k,P,O,L,M,A,R,j,N,I,B,F,D,z,U,q,H,$,W,Z;if(e._optimumEndIndex!=e._optimumCurrentIndex)return d=e._optimum[e._optimumCurrentIndex].PosPrev-e._optimumCurrentIndex,e.backRes=e._optimum[e._optimumCurrentIndex].BackPrev,e._optimumCurrentIndex=e._optimum[e._optimumCurrentIndex].PosPrev,d;if(e._optimumCurrentIndex=e._optimumEndIndex=0,e._longestMatchWasFound?(p=e._longestMatchLength,e._longestMatchWasFound=!1):p=$n(e),P=e._numDistancePairs,(S=bt(e._matchFinder)+1)<2)return e.backRes=-1,1;for(S>273&&(S=273),U=0,l=0;l<4;++l)e.reps[l]=e._repDistances[l],e.repLens[l]=_t(e._matchFinder,-1,e.reps[l],273),e.repLens[l]>e.repLens[U]&&(U=l);if(e.repLens[U]>=e._numFastBytes)return e.backRes=U,d=e.repLens[U],Hn(e,d-1),d;if(p>=e._numFastBytes)return e.backRes=e._matchDistances[P-1]+4,Hn(e,p-1),p;if(u=vt(e._matchFinder,-1),v=vt(e._matchFinder,-e._repDistances[0]-1-1),p<2&&u!=v&&e.repLens[U]<2)return e.backRes=-1,1;if(e._optimum[0].State=e._state,N=t&e._posStateMask,e._optimum[1].Price=(Qr(),Gi[e._isMatch[(e._state<<4)+N]>>>2]+Cr(gr(e._literalEncoder,t,e._previousByte),e._state>=7,v,u)),Sr(e._optimum[1]),_=Gi[2048-e._isMatch[(e._state<<4)+N]>>>2],z=_+Gi[2048-e._isRep[e._state]>>>2],v==u&&(q=z+Un(e,e._state,N))<e._optimum[1].Price&&(e._optimum[1].Price=q,kr(e._optimum[1])),(h=p>=e.repLens[U]?p:e.repLens[U])<2)return e.backRes=e._optimum[1].BackPrev,1;e._optimum[1].PosPrev=0,e._optimum[0].Backs0=e.reps[0],e._optimum[0].Backs1=e.reps[1],e._optimum[0].Backs2=e.reps[2],e._optimum[0].Backs3=e.reps[3],f=h;do{e._optimum[f--].Price=268435455}while(f>=2);for(l=0;l<4;++l)if(!((D=e.repLens[l])<2)){B=z+zn(e,l,e._state,N);do{o=B+fr(e._repMatchLenEncoder,D-2,N),A=e._optimum[D],o<A.Price&&(A.Price=o,A.PosPrev=0,A.BackPrev=l,A.Prev1IsChar=!1)}while(--D>=2)}if(T=_+Gi[e._isRep[e._state]>>>2],(f=e.repLens[0]>=2?e.repLens[0]+1:2)<=p){for(O=0;f>e._matchDistances[O];)O+=2;for(;c=e._matchDistances[O+1],o=T+Dn(e,c,f,N),A=e._optimum[f],o<A.Price&&(A.Price=o,A.PosPrev=0,A.BackPrev=c+4,A.Prev1IsChar=!1),f!=e._matchDistances[O]||(O+=2)!=P;++f);}for(n=0;;){if(++n==h)return Ln(e,n);if(b=$n(e),P=e._numDistancePairs,b>=e._numFastBytes)return e._longestMatchLength=b,e._longestMatchWasFound=!0,Ln(e,n);if(++t,j=e._optimum[n].PosPrev,e._optimum[n].Prev1IsChar?(--j,e._optimum[n].Prev2?($=e._optimum[e._optimum[n].PosPrev2].State,$=e._optimum[n].BackPrev2<4?$<7?8:11:$<7?7:10):$=e._optimum[j].State,$=Gt($)):$=e._optimum[j].State,j==n-1?$=0==e._optimum[n].BackPrev?$<7?9:11:Gt($):(e._optimum[n].Prev1IsChar&&e._optimum[n].Prev2?(j=e._optimum[n].PosPrev2,R=e._optimum[n].BackPrev2,$=$<7?8:11):(R=e._optimum[n].BackPrev,$=R<4?$<7?8:11:$<7?7:10),M=e._optimum[j],R<4?0==R?(e.reps[0]=M.Backs0,e.reps[1]=M.Backs1,e.reps[2]=M.Backs2,e.reps[3]=M.Backs3):1==R?(e.reps[0]=M.Backs1,e.reps[1]=M.Backs0,e.reps[2]=M.Backs2,e.reps[3]=M.Backs3):2==R?(e.reps[0]=M.Backs2,e.reps[1]=M.Backs0,e.reps[2]=M.Backs1,e.reps[3]=M.Backs3):(e.reps[0]=M.Backs3,e.reps[1]=M.Backs0,e.reps[2]=M.Backs1,e.reps[3]=M.Backs2):(e.reps[0]=R-4,e.reps[1]=M.Backs0,e.reps[2]=M.Backs1,e.reps[3]=M.Backs2)),e._optimum[n].State=$,e._optimum[n].Backs0=e.reps[0],e._optimum[n].Backs1=e.reps[1],e._optimum[n].Backs2=e.reps[2],e._optimum[n].Backs3=e.reps[3],s=e._optimum[n].Price,u=vt(e._matchFinder,-1),v=vt(e._matchFinder,-e.reps[0]-1-1),N=t&e._posStateMask,r=s+Gi[e._isMatch[($<<4)+N]>>>2]+Cr(gr(e._literalEncoder,t,vt(e._matchFinder,-2)),$>=7,v,u),C=e._optimum[n+1],w=!1,r<C.Price&&(C.Price=r,C.PosPrev=n,C.BackPrev=-1,C.Prev1IsChar=!1,w=!0),_=s+Gi[2048-e._isMatch[($<<4)+N]>>>2],z=_+Gi[2048-e._isRep[$]>>>2],v!=u||C.PosPrev<n&&0==C.BackPrev||(q=z+(Gi[e._isRepG0[$]>>>2]+Gi[e._isRep0Long[($<<4)+N]>>>2]))<=C.Price&&(C.Price=q,C.PosPrev=n,C.BackPrev=0,C.Prev1IsChar=!1,w=!0),k=bt(e._matchFinder)+1,k=4095-n<k?4095-n:k,!((S=k)<2)){if(S>e._numFastBytes&&(S=e._numFastBytes),!w&&v!=u&&(Z=$e(k-1,e._numFastBytes),(g=_t(e._matchFinder,0,e.reps[0],Z))>=2)){for(W=Gt($),I=t+1&e._posStateMask,E=r+Gi[2048-e._isMatch[(W<<4)+I]>>>2]+Gi[2048-e._isRep[W]>>>2],L=n+1+g;h<L;)e._optimum[++h].Price=268435455;o=E+(fr(e._repMatchLenEncoder,g-2,I)+zn(e,0,W,I)),A=e._optimum[L],o<A.Price&&(A.Price=o,A.PosPrev=n+1,A.BackPrev=0,A.Prev1IsChar=!0,A.Prev2=!1)}for(H=2,F=0;F<4;++F)if(!((m=_t(e._matchFinder,-1,e.reps[F],S))<2)){y=m;do{for(;h<n+m;)e._optimum[++h].Price=268435455;o=z+(fr(e._repMatchLenEncoder,m-2,N)+zn(e,F,$,N)),A=e._optimum[n+m],o<A.Price&&(A.Price=o,A.PosPrev=n,A.BackPrev=F,A.Prev1IsChar=!1)}while(--m>=2);if(m=y,0==F&&(H=m+1),m<k&&(Z=$e(k-1-m,e._numFastBytes),(g=_t(e._matchFinder,m,e.reps[F],Z))>=2)){for(W=$<7?8:11,I=t+m&e._posStateMask,i=z+(fr(e._repMatchLenEncoder,m-2,N)+zn(e,F,$,N))+Gi[e._isMatch[(W<<4)+I]>>>2]+Cr(gr(e._literalEncoder,t+m,vt(e._matchFinder,m-1-1)),!0,vt(e._matchFinder,m-1-(e.reps[F]+1)),vt(e._matchFinder,m-1)),W=Gt(W),I=t+m+1&e._posStateMask,x=i+Gi[2048-e._isMatch[(W<<4)+I]>>>2],E=x+Gi[2048-e._isRep[W]>>>2],L=m+1+g;h<n+L;)e._optimum[++h].Price=268435455;o=E+(fr(e._repMatchLenEncoder,g-2,I)+zn(e,0,W,I)),A=e._optimum[n+L],o<A.Price&&(A.Price=o,A.PosPrev=n+m+1,A.BackPrev=0,A.Prev1IsChar=!0,A.Prev2=!0,A.PosPrev2=n,A.BackPrev2=F)}}if(b>S){for(b=S,P=0;b>e._matchDistances[P];P+=2);e._matchDistances[P]=b,P+=2}if(b>=H){for(T=_+Gi[e._isRep[$]>>>2];h<n+b;)e._optimum[++h].Price=268435455;for(O=0;H>e._matchDistances[O];)O+=2;for(m=H;;++m)if(a=e._matchDistances[O+1],o=T+Dn(e,a,m,N),A=e._optimum[n+m],o<A.Price&&(A.Price=o,A.PosPrev=n,A.BackPrev=a+4,A.Prev1IsChar=!1),m==e._matchDistances[O]){if(m<k&&(Z=$e(k-1-m,e._numFastBytes),(g=_t(e._matchFinder,m,a,Z))>=2)){for(W=$<7?7:10,I=t+m&e._posStateMask,i=o+Gi[e._isMatch[(W<<4)+I]>>>2]+Cr(gr(e._literalEncoder,t+m,vt(e._matchFinder,m-1-1)),!0,vt(e._matchFinder,m-(a+1)-1),vt(e._matchFinder,m-1)),W=Gt(W),I=t+m+1&e._posStateMask,x=i+Gi[2048-e._isMatch[(W<<4)+I]>>>2],E=x+Gi[2048-e._isRep[W]>>>2],L=m+1+g;h<n+L;)e._optimum[++h].Price=268435455;o=E+(fr(e._repMatchLenEncoder,g-2,I)+zn(e,0,W,I)),A=e._optimum[n+L],o<A.Price&&(A.Price=o,A.PosPrev=n+m+1,A.BackPrev=0,A.Prev1IsChar=!0,A.Prev2=!0,A.PosPrev2=n,A.BackPrev2=a+4)}if((O+=2)==P)break}}}}}function Dn(e,t,n,r){var i;return i=Vt(n),(t<128?e._distancesPrices[128*i+t]:e._posSlotPrices[(i<<6)+er(t)]+e._alignPrices[15&t])+fr(e._lenEncoder,n-2,r)}function zn(e,t,n,r){var i;return 0==t?(Qr(),i=Gi[e._isRepG0[n]>>>2],i+=Gi[2048-e._isRep0Long[(n<<4)+r]>>>2]):(Qr(),i=Gi[2048-e._isRepG0[n]>>>2],1==t?i+=Gi[e._isRepG1[n]>>>2]:(i+=Gi[2048-e._isRepG1[n]>>>2],i+=ii(e._isRepG2[n],t-2))),i}function Un(e,t,n){return Qr(),Gi[e._isRepG0[t]>>>2]+Gi[e._isRep0Long[(t<<4)+n]>>>2]}function qn(e){var t;for(Mn(e),ni(e._rangeEncoder),oi(e._isMatch),oi(e._isRep0Long),oi(e._isRep),oi(e._isRepG0),oi(e._isRepG1),oi(e._isRepG2),oi(e._posEncoders),yr(e._literalEncoder),t=0;t<4;++t)Gr(e._posSlotEncoder[t].Models);or(e._lenEncoder,1<<e._posStateBits),or(e._repMatchLenEncoder,1<<e._posStateBits),Gr(e._posAlignEncoder.Models),e._longestMatchWasFound=!1,e._optimumEndIndex=0,e._optimumCurrentIndex=0,e._additionalOffset=0}function Hn(e,t){t>0&&(jt(e._matchFinder,t),e._additionalOffset+=t)}function $n(e){var t;return t=0,e._numDistancePairs=Ot(e._matchFinder,e._matchDistances),e._numDistancePairs>0&&(t=e._matchDistances[e._numDistancePairs-2])==e._numFastBytes&&(t+=_t(e._matchFinder,t-1,e._matchDistances[e._numDistancePairs-1],273-t)),++e._additionalOffset,t}function Wn(e){e._matchFinder&&e._needReleaseMFStream&&(e._matchFinder._stream=null,e._needReleaseMFStream=!1)}function Zn(e){Wn(e),e._rangeEncoder.Stream=null}function Vn(e,t){var n;if(t<1||t>536870912)return!1;for(e._dictionarySize=t,n=0;t>1<<n;++n);return e._distTableSize=2*n,!0}function Gn(e,t,n,r){return!(n<0||n>4||t<0||t>8||r<0||r>4)&&(e._numLiteralPosStateBits=n,e._numLiteralContextBits=t,e._posStateBits=r,e._posStateMask=(1<<e._posStateBits)-1,!0)}function Kn(e,t){var n;return!(t<0||t>2)&&(n=e._matchFinderType,e._matchFinderType=t,e._matchFinder&&n!=e._matchFinderType&&(e._dictionarySizePrev=-1,e._matchFinder=null),!0)}function Yn(e,t){return!(t<5||t>273)&&(e._numFastBytes=t,!0)}function Qn(e,t){var n;for(e.properties[0]=9*(5*e._posStateBits+e._numLiteralPosStateBits)+e._numLiteralContextBits<<24>>24,n=0;n<4;++n)e.properties[1+n]=e._dictionarySize>>8*n<<24>>24;ge(t,e.properties,0,5)}function Jn(e,t){var n;e._writeEndMark&&(Jr(e._rangeEncoder,e._isMatch,(e._state<<4)+t,1),Jr(e._rangeEncoder,e._isRep,e._state,0),e._state=e._state<7?7:10,cr(e._lenEncoder,e._rangeEncoder,0,t),n=Vt(2),Br(e._posSlotEncoder[n],e._rangeEncoder,63),Xr(e._rangeEncoder,67108863,26),Dr(e._posAlignEncoder,e._rangeEncoder,15))}function Xn(e){return e<2048?Vi[e]:e<2097152?Vi[e>>10]+20:Vi[e>>20]+40}function er(e){return e<131072?Vi[e>>6]+12:e<134217728?Vi[e>>16]+32:Vi[e>>26]+52}function tr(){return Bo}function nr(){}function rr(e,t,n,r){n<8?(Jr(t,e._choice,0,0),Br(e._lowCoder[r],t,n)):(n-=8,Jr(t,e._choice,0,1),n<8?(Jr(t,e._choice,1,0),Br(e._midCoder[r],t,n)):(Jr(t,e._choice,1,1),Br(e._highCoder,t,n-8)))}function ir(e){var t;for(e._choice=v(So,0,-1,2,1),e._lowCoder=v(jo,0,8,16,0),e._midCoder=v(jo,0,8,16,0),e._highCoder=Ir(new $r,8),t=0;t<16;++t)e._lowCoder[t]=Ir(new $r,3),e._midCoder[t]=Ir(new $r,3);return e}function or(e,t){var n;for(oi(e._choice),n=0;n<t;++n)Gr(e._lowCoder[n].Models),Gr(e._midCoder[n].Models);Gr(e._highCoder.Models)}function ar(e,t,n,r,i){var o,a,s,u,c;for(Qr(),o=Gi[e._choice[0]>>>2],a=Gi[2048-e._choice[0]>>>2],s=a+Gi[e._choice[1]>>>2],u=a+Gi[2048-e._choice[1]>>>2],c=0,c=0;c<8;++c){if(c>=n)return;r[i+c]=o+Fr(e._lowCoder[t],c)}for(;c<16;++c){if(c>=n)return;r[i+c]=s+Fr(e._midCoder[t],c-8)}for(;c<n;++c)r[i+c]=u+Fr(e._highCoder,c-8-8)}function sr(){return Uo}function ur(){}function cr(e,t,n,r){rr(e,t,n,r),0==--e._counters[r]&&(ar(e,r,e._tableSize,e._prices,272*r),e._counters[r]=e._tableSize)}function lr(e){return ir(e),e._prices=v(vo,0,-1,4352,1),e._counters=v(vo,0,-1,16,1),e}function fr(e,t,n){return e._prices[272*n+t]}function hr(e,t){var n;for(n=0;n<t;++n)ar(e,n,e._tableSize,e._prices,272*n),e._counters[n]=e._tableSize}function pr(){return qo}function dr(){}function mr(e,t,n){var r,i;if(null==e.m_Coders||e.m_NumPrevBits!=n||e.m_NumPosBits!=t)for(e.m_NumPosBits=t,e.m_PosMask=(1<<t)-1,e.m_NumPrevBits=n,i=1<<e.m_NumPrevBits+e.m_NumPosBits,e.m_Coders=v(Fo,0,5,i,0),r=0;r<i;++r)e.m_Coders[r]=xr(new Tr)}function gr(e,t,n){return e.m_Coders[((t&e.m_PosMask)<<e.m_NumPrevBits)+((255&n)>>>8-e.m_NumPrevBits)]}function yr(e){var t,n;for(n=1<<e.m_NumPrevBits+e.m_NumPosBits,t=0;t<n;++t)oi(e.m_Coders[t].m_Encoders)}function vr(){return Do}function _r(){}function br(e,t,n){var r,i,o;for(i=1,o=7;o>=0;--o)r=n>>o&1,Jr(t,e.m_Encoders,i,r),i=i<<1|r}function wr(e,t,n,r){var i,o,a,s,u,c;for(o=1,u=!0,a=7;a>=0;--a)i=r>>a&1,c=o,u&&(s=n>>a&1,c+=1+s<<8,u=s==i),Jr(t,e.m_Encoders,c,i),o=o<<1|i}function xr(e){return e.m_Encoders=v(So,0,-1,768,1),e}function Cr(e,t,n,r){var i,o,a,s,u;if(u=0,o=1,a=7,t)for(;a>=0;--a)if(s=n>>a&1,i=r>>a&1,u+=ii(e.m_Encoders[(1+s<<8)+o],i),o=o<<1|i,s!=i){--a;break}for(;a>=0;--a)i=r>>a&1,u+=ii(e.m_Encoders[o],i),o=o<<1|i;return u}function Er(){return zo}function Tr(){}function Sr(e){e.BackPrev=-1,e.Prev1IsChar=!1}function kr(e){e.BackPrev=0,e.Prev1IsChar=!1}function Pr(){return Ho}function Or(){}function Lr(e,t){return e.NumBitLevels=t,e.Models=v(So,0,-1,1<<t,1),e}function Mr(e,t){var n,r;for(r=1,n=e.NumBitLevels;0!=n;--n)r=(r<<1)+Wr(t,e.Models,r);return r-(1<<e.NumBitLevels)}function Ar(e,t){var n,r,i,o;for(i=1,o=0,r=0;r<e.NumBitLevels;++r)n=Wr(t,e.Models,i),i<<=1,i+=n,o|=n<<r;return o}function Rr(e,t,n,r){var i,o,a,s;for(a=1,s=0,o=0;o<r;++o)i=Wr(n,e,t+a),a<<=1,a+=i,s|=i<<o;return s}function jr(){return $o}function Nr(){}function Ir(e,t){return e.NumBitLevels=t,e.Models=v(So,0,-1,1<<t,1),e}function Br(e,t,n){var r,i,o;for(o=1,i=e.NumBitLevels;0!=i;)--i,r=n>>>i&1,Jr(t,e.Models,o,r),o=o<<1|r}function Fr(e,t){var n,r,i,o;for(o=0,i=1,r=e.NumBitLevels;0!=r;)--r,n=t>>>r&1,o+=ii(e.Models[i],n),i=(i<<1)+n;return o}function Dr(e,t,n){var r,i,o;for(o=1,i=0;i<e.NumBitLevels;++i)r=1&n,Jr(t,e.Models,o,r),o=o<<1|r,n>>=1}function zr(e,t){var n,r,i,o;for(o=0,i=1,r=e.NumBitLevels;0!=r;--r)n=1&t,t>>>=1,o+=ii(e.Models[i],n),i=i<<1|n;return o}function Ur(e,t,n,r,i){var o,a,s;for(s=1,a=0;a<r;++a)o=1&i,Jr(n,e,t+s,o),s=s<<1|o,i>>=1}function qr(e,t,n,r){var i,o,a,s;for(s=0,a=1,o=n;0!=o;--o)i=1&r,r>>>=1,s+=(Qr(),Gi[(2047&(e[t+a]-i^-i))>>>2]),a=a<<1|i;return s}function Hr(){return Wo}function $r(){}function Wr(e,t,n){var r,i;return i=t[n],r=(e.Range>>>11)*i,(-2147483648^e.Code)<(-2147483648^r)?(e.Range=r,t[n]=i+(2048-i>>>5)<<16>>16,0==(-16777216&e.Range)&&(e.Code=e.Code<<8|ae(e.Stream),e.Range<<=8),0):(e.Range-=r,e.Code-=r,t[n]=i-(i>>>5)<<16>>16,0==(-16777216&e.Range)&&(e.Code=e.Code<<8|ae(e.Stream),e.Range<<=8),1)}function Zr(e,t){var n,r,i;for(r=0,n=t;0!=n;--n)e.Range>>>=1,i=e.Code-e.Range>>>31,e.Code-=e.Range&i-1,r=r<<1|1-i,0==(-16777216&e.Range)&&(e.Code=e.Code<<8|ae(e.Stream),e.Range<<=8);return r}function Vr(e){var t;for(e.Code=0,e.Range=-1,t=0;t<5;++t)e.Code=e.Code<<8|ae(e.Stream)}function Gr(e){var t;for(t=0;t<e.length;++t)e[t]=1024}function Kr(){return Zo}function Yr(){}function Qr(){Qr=yi;var e,t,n,r;for(Gi=v(vo,0,-1,512,1),t=8;t>=0;--t)for(r=1<<9-t-1,e=1<<9-t,n=r;n<e;++n)Gi[n]=(t<<6)+(e-n<<6>>>9-t-1)}function Jr(e,t,n,r){var i,o;o=t[n],i=(e.Range>>>11)*o,0==r?(e.Range=i,t[n]=o+(2048-o>>>5)<<16>>16):(e.Low=M(e.Low,R(D(i),Ai)),e.Range-=i,t[n]=o-(o>>>5)<<16>>16),0==(-16777216&e.Range)&&(e.Range<<=8,ri(e))}function Xr(e,t,n){var r;for(r=n-1;r>=0;--r)e.Range>>>=1,1==(t>>>r&1)&&(e.Low=M(e.Low,D(e.Range))),0==(-16777216&e.Range)&&(e.Range<<=8,ri(e))}function ei(e){var t;for(t=0;t<5;++t)ri(e)}function ti(e){return M(M(D(e._cacheSize),e._position),ki)}function ni(e){e._position=Ti,e.Low=Ti,e.Range=-1,e._cacheSize=1,e._cache=0}function ri(e){var t,n;if(0!=(t=U(K(e.Low,32)))||j(e.Low,Mi)<0){e._position=M(e._position,D(e._cacheSize)),n=e._cache;do{me(e.Stream,n+t),n=255}while(0!=--e._cacheSize);e._cache=U(e.Low)>>>24}++e._cacheSize,e.Low=V(R(e.Low,Oi),8)}function ii(e,t){return Qr(),Gi[(2047&(e-t^-t))>>>2]}function oi(e){Qr();var t;for(t=0;t<e.length;++t)e[t]=1024}function ai(){return Vo}function si(){}function ui(e){var t,n,r,i,o;for(t=Ye(new Je),n=0;n<e.length;++n)if(0==(128&(r=255&e[n]))){if(0==r)throw Ie(new Fe,"invalid UTF-8");d(t.data,String.fromCharCode(65535&r))}else if(192==(224&r)){if(n+1>=e.length)throw Ie(new Fe,"invalid UTF-8");if(128!=(192&(i=255&e[++n])))throw Ie(new Fe,"invalid UTF-8");p(t.data,String.fromCharCode((31&r)<<6&65535|63&i))}else{if(224!=(240&r))throw Ie(new Fe,"invalid UTF-8");if(n+2>=e.length)throw Ie(new Fe,"invalid UTF-8");if(128!=(192&(i=255&e[++n])))throw Ie(new Fe,"invalid UTF-8");if(128!=(192&(o=255&e[++n])))throw Ie(new Fe,"invalid UTF-8");d(t.data,String.fromCharCode(65535&((15&r)<<12|(63&i)<<6|63&o)))}return m(t.data)}function ci(e){var t,n,r,i,o,a,s;for(s=e.length,a=v(fo,0,-1,s,1),Ge(e,0,s,a,0),n=a,i=0,o=0;o<e.length;++o)t=n[o],t>=1&&t<=127?++i:i+=0==t||t>=128&&t<=2047?2:3;for(r=v(io,0,-1,i,1),i=0,o=0;o<e.length;++o)t=n[o],t>=1&&t<=127?r[i++]=t<<24>>24:0==t||t>=128&&t<=2047?(r[i++]=(192|t>>6&31)<<24>>24,r[i++]=(128|63&t)<<24>>24):(r[i++]=(224|t>>12&15)<<24>>24,r[i++]=(128|t>>6&63)<<24>>24,r[i++]=(128|63&t)<<24>>24);return r}function li(e){return e}function fi(e){return e[1]+e[0]}function hi(){function t(){var u;for(r=(new Date).getTime();rt(s.c);)if(n=fi(s.c.chunker.inBytesProcessed)/fi(s.c.length_0),(new Date).getTime()-r>200)return a?a(n):void 0!==i&&e(n,i),setTimeout(t,0),!1;a?a(1):void 0!==i&&e(1,i),u=de(s.c.output).slice(0),o?o(u):void 0!==i&&postMessage({action:wi,callback_num:i,result:u})}var n,r,i,o,a,s=li(new mi),u=arguments[0],c=arguments[1];"function"==typeof arguments[2]?(o=arguments[2],"function"==typeof arguments[3]&&(a=arguments[3])):i=arguments[2],s.mode=ea(c),s.c=st(new ct,ci(u),s.mode),a?a(0):void 0!==i&&e(0,i),setTimeout(t,1)}function pi(){function t(){var r;for(i=(new Date).getTime();lt(u.d);)if(n=fi(u.d.chunker.decoder.nowPos64)/fi(u.d.length_0),(new Date).getTime()-i>200)return s?s(n):void 0!==o&&e(n,o),setTimeout(t,0),!1;s?s(1):void 0!==o&&e(1,o),r=ui(de(u.d.output)),a?a(r):void 0!==o&&postMessage({action:xi,callback_num:o,result:r})}var n,r,i,o,a,s,u=li(new mi),c=arguments[0];"function"==typeof arguments[1]?(a=arguments[1],"function"==typeof arguments[2]&&(s=arguments[2])):o=arguments[1],r=_(io,0,-1,c),u.d=dt(new gt,r),s?s(0):void 0!==o&&e(0,o),setTimeout(t,0)}function di(){return Xo}function mi(){}function gi(){!!$stats&&$stats({moduleName:vi,subSystem:"startup",evtGroup:"moduleStartup",millis:(new Date).getTime(),type:"onModuleLoadStart",className:"org.dellroad.lzma.demo.client.LZMADemo"})}function yi(){}var vi,_i,bi,wi=1,xi=2,Ci=[0,-0x8000000000000000],Ei=[4294967295,-4294967296],Ti=[0,0],Si=[1,0],ki=[4,0],Pi=[4096,0],Oi=[16777215,0],Li=[16777216,0],Mi=[4278190080,0],Ai=[4294967295,0],Ri=[4294967295,0x7fffffff00000000];bi=n.prototype={},bi.getClass$=t,bi.typeMarker$=yi,bi.typeId$=1,bi=i.prototype=new n,bi.getClass$=r,bi.typeId$=3,bi.detailMessage=null,bi=a.prototype=new i,bi.getClass$=o,bi.typeId$=4,bi=c.prototype=new a,bi.getClass$=u,bi.typeId$=5,bi=h.prototype=new c,bi.getClass$=f,bi.typeId$=6,bi=w.prototype=new n,bi.getClass$=y,bi.typeId$=0,bi.arrayClass$=null,bi.length=0,bi.queryId$=0;var ji,Ni,Ii,Bi,Fi,Di,zi,Ui,qi,Hi,$i,Wi=[{},{},{1:1},{2:1},{2:1},{2:1},{2:1},{2:1,10:1},{2:1},{2:1},{2:1},{2:1},{2:1},{2:1,11:1},{2:1},{2:1},{2:1},{4:1},{5:1},{6:1},{7:1},{8:1},{9:1}];bi=re.prototype=new n,bi.getClass$=ne,bi.typeId$=0,bi=ce.prototype=new re,bi.getClass$=ue,bi.typeId$=0,bi.buf=null,bi.count=0,bi.pos=0,bi=fe.prototype=new n,bi.getClass$=le,bi.typeId$=0,bi=ve.prototype=new fe,bi.getClass$=ye,bi.typeId$=0,bi.buf=null,bi.count=0,bi=we.prototype=new a,bi.getClass$=be,bi.typeId$=7,bi=Ee.prototype=new c,bi.getClass$=Ce,bi.typeId$=8,bi=ke.prototype=new c,bi.getClass$=Se,bi.typeId$=9,bi=Me.prototype=new n,bi.getClass$=Le,bi.typeId$=0,bi.typeName=null,bi=Re.prototype=new c,bi.getClass$=Ae,bi.typeId$=12,bi=Ne.prototype=new n,bi.getClass$=je,bi.typeId$=0,bi=Fe.prototype=new c,bi.getClass$=Be,bi.typeId$=13,bi=ze.prototype=new c,bi.getClass$=De,bi.typeId$=14,bi=qe.prototype=new c,bi.getClass$=Ue,bi.typeId$=15,bi=Ze.prototype=new c,bi.getClass$=We,bi.typeId$=16,bi=String.prototype,bi.getClass$=Ke,bi.typeId$=2,bi=Je.prototype=new n,bi.getClass$=Qe,bi.typeId$=0,bi=nt.prototype=new Ne,bi.getClass$=tt,bi.typeId$=0,bi.dictionarySize=0,bi.fb=0,bi.lc=0,bi.lp=0,bi.matchFinder=0,bi.pb=0,bi=at.prototype=new n,bi.getClass$=ot,bi.typeId$=0,bi.chunker=null,bi=ct.prototype=new at,bi.getClass$=ut,bi.typeId$=0,bi.output=null,bi=pt.prototype=new n,bi.getClass$=ht,bi.typeId$=0,bi.chunker=null,bi.exception=null,bi.length_0=Ti,bi=gt.prototype=new pt,bi.getClass$=mt,bi.typeId$=0,bi.output=null,bi=St.prototype=new n,bi.getClass$=Tt,bi.typeId$=0,bi._blockSize=0,bi._bufferBase=null,bi._bufferOffset=0,bi._keepSizeAfter=0,bi._keepSizeBefore=0,bi._pointerToLastSafePosition=0,bi._pos=0,bi._posLimit=0,bi._stream=null,bi._streamEndWasReached=!1,bi._streamPos=0,bi=It.prototype=new St,bi.getClass$=Nt,bi.typeId$=0,bi.HASH_ARRAY=!0,bi._cutValue=255,bi._cyclicBufferPos=0,bi._cyclicBufferSize=0,bi._hash=null,bi._hashMask=0,bi._hashSizeSum=0,bi._matchMaxLen=0,bi._son=null,bi.kFixHashSize=66560,bi.kMinMatchCheck=4,bi.kNumHashDirectBytes=0;var Zi;bi=Zt.prototype=new n,bi.getClass$=Wt,bi.typeId$=0,bi._buffer=null,bi._pos=0,bi._stream=null,bi._streamPos=0,bi._windowSize=0,bi=tn.prototype=new n,bi.getClass$=en,bi.typeId$=0,bi.alive=!1,bi.decoder=null,bi.encoder=null,bi=hn.prototype=new n,bi.getClass$=fn,bi.typeId$=0,bi.m_DictionarySize=-1,bi.m_DictionarySizeCheck=-1,bi.m_PosStateMask=0,bi.nowPos64=Ti,bi.outSize=Ti,bi.prevByte=0,bi.rep0=0,bi.rep1=0,bi.rep2=0,bi.rep3=0,bi.state=0,bi=vn.prototype=new n,bi.getClass$=yn,bi.typeId$=0,bi.m_NumPosStates=0,bi=Cn.prototype=new n,bi.getClass$=xn,bi.typeId$=0,bi.m_Coders=null,bi.m_NumPosBits=0,bi.m_NumPrevBits=0,bi.m_PosMask=0,bi=Pn.prototype=new n,bi.getClass$=kn,bi.typeId$=17,bi=nr.prototype=new n,bi.getClass$=tr,bi.typeId$=0,bi._additionalOffset=0,bi._alignPriceCount=0,bi._dictionarySize=4194304,bi._dictionarySizePrev=-1,bi._distTableSize=44,bi._finished=!1,bi._inStream=null,bi._longestMatchLength=0,bi._longestMatchWasFound=!1,bi._matchFinder=null,bi._matchFinderType=1,bi._matchPriceCount=0,bi._needReleaseMFStream=!1,bi._numDistancePairs=0,bi._numFastBytes=32,bi._numFastBytesPrev=-1,bi._numLiteralContextBits=3,bi._numLiteralPosStateBits=0,bi._optimumCurrentIndex=0,bi._optimumEndIndex=0,bi._posStateBits=2,bi._posStateMask=3,bi._previousByte=0,bi._state=0,bi._writeEndMark=!1,bi.backRes=0,bi.nowPos64=Ti;var Vi;bi=ur.prototype=new n,bi.getClass$=sr,bi.typeId$=0,bi=dr.prototype=new ur,bi.getClass$=pr,bi.typeId$=0,bi._tableSize=0,bi=_r.prototype=new n,bi.getClass$=vr,bi.typeId$=0,bi.m_Coders=null,bi.m_NumPosBits=0,bi.m_NumPrevBits=0,bi.m_PosMask=0,bi=Tr.prototype=new n,bi.getClass$=Er,bi.typeId$=18,bi=Or.prototype=new n,bi.getClass$=Pr,bi.typeId$=19,bi.BackPrev=0,bi.BackPrev2=0,bi.Backs0=0,bi.Backs1=0,bi.Backs2=0,bi.Backs3=0,bi.PosPrev=0,bi.PosPrev2=0,bi.Prev1IsChar=!1,bi.Prev2=!1,bi.Price=0,bi.State=0,bi=Nr.prototype=new n,bi.getClass$=jr,bi.typeId$=20,bi.Models=null,bi.NumBitLevels=0,bi=$r.prototype=new n,bi.getClass$=Hr,bi.typeId$=21,bi.Models=null,bi.NumBitLevels=0,bi=Yr.prototype=new n,bi.getClass$=Kr,bi.typeId$=0,bi.Code=0,bi.Range=0,bi.Stream=null,bi=si.prototype=new n,bi.getClass$=ai,bi.typeId$=0,bi.Low=Ti,bi.Range=0,bi.Stream=null,bi._cache=0,bi._cacheSize=0,bi._position=Ti;var Gi;bi=mi.prototype=new n,bi.getClass$=di,bi.typeId$=0,bi.c=null,bi.d=null;var Ki=Oe("java.lang.","Object"),Yi=Oe("java.lang.","Throwable"),Qi=Oe("java.lang.","Exception"),Ji=Oe("java.lang.","RuntimeException"),Xi=Oe("com.google.gwt.core.client.","JavaScriptException"),eo=Oe("com.google.gwt.core.client.","JavaScriptObject$"),to=Pe("","[[D"),no=Oe("java.io.","InputStream"),ro=Oe("java.io.","ByteArrayInputStream"),io=Pe("","[B"),oo=Oe("java.io.","OutputStream"),ao=Oe("java.io.","ByteArrayOutputStream"),so=Oe("java.io.","IOException"),uo=Oe("java.lang.","Enum"),co=Oe("java.lang.","ArithmeticException"),lo=Oe("java.lang.","ArrayStoreException"),fo=Pe("","[C"),ho=Oe("java.lang.","Class"),po=Oe("java.lang.","ClassCastException"),mo=Oe("java.lang.","IllegalArgumentException"),go=Oe("java.lang.","IllegalStateException"),yo=Oe("java.lang.","IndexOutOfBoundsException"),vo=Pe("","[I"),_o=Oe("java.lang.","NullPointerException"),bo=Oe("java.lang.","String"),wo=Oe("java.lang.","StringBuilder"),xo=Oe("org.dellroad.lzma.client.SevenZip.Compression.LZ.","InWindow"),Co=Oe("org.dellroad.lzma.client.SevenZip.Compression.LZ.","BinTree"),Eo=Oe("org.dellroad.lzma.client.SevenZip.Compression.LZ.","OutWindow"),To=Oe("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Chunker"),So=Pe("","[S"),ko=Pe("[Lorg.dellroad.lzma.client.SevenZip.Compression.RangeCoder.","BitTreeDecoder;"),Po=Oe("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Decoder"),Oo=Oe("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Decoder$LenDecoder"),Lo=Pe("[Lorg.dellroad.lzma.client.SevenZip.Compression.LZMA.","Decoder$LiteralDecoder$Decoder2;"),Mo=Oe("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Decoder$LiteralDecoder"),Ao=Oe("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Decoder$LiteralDecoder$Decoder2"),Ro=Pe("[Lorg.dellroad.lzma.client.SevenZip.Compression.LZMA.","Encoder$Optimal;"),jo=Pe("[Lorg.dellroad.lzma.client.SevenZip.Compression.RangeCoder.","BitTreeEncoder;"),No=Pe("","[J"),Io=Pe("","[Z"),Bo=Oe("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Encoder"),Fo=Pe("[Lorg.dellroad.lzma.client.SevenZip.Compression.LZMA.","Encoder$LiteralEncoder$Encoder2;"),Do=Oe("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Encoder$LiteralEncoder"),zo=Oe("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Encoder$LiteralEncoder$Encoder2"),Uo=Oe("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Encoder$LenEncoder"),qo=Oe("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Encoder$LenPriceTableEncoder"),Ho=Oe("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Encoder$Optimal"),$o=Oe("org.dellroad.lzma.client.SevenZip.Compression.RangeCoder.","BitTreeDecoder"),Wo=Oe("org.dellroad.lzma.client.SevenZip.Compression.RangeCoder.","BitTreeEncoder"),Zo=Oe("org.dellroad.lzma.client.SevenZip.Compression.RangeCoder.","Decoder"),Vo=Oe("org.dellroad.lzma.client.SevenZip.Compression.RangeCoder.","Encoder"),Go=function(e,t){var n;return n=new Me,n.typeName=e+t,n}("org.dellroad.lzma.client.","CompressionMode"),Ko=Oe("org.dellroad.lzma.client.","LZMACompressor"),Yo=Oe("org.dellroad.lzma.client.","LZMAByteArrayCompressor"),Qo=Oe("org.dellroad.lzma.client.","LZMADecompressor"),Jo=Oe("org.dellroad.lzma.client.","LZMAByteArrayDecompressor"),Xo=Oe("org.dellroad.lzma.demo.client.","LZMADemo");!function(e,t,n){if(vi=t,_i=n,e)try{gi()}catch(n){e(t)}else gi()}(function(){},"lzma_demo","");var ea=function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}var t=[{dictionarySize:16,fb:64,matchFinder:0,lc:3,lp:0,pb:2},{dictionarySize:20,fb:64,matchFinder:0,lc:3,lp:0,pb:2},{dictionarySize:19,fb:64,matchFinder:1,lc:3,lp:0,pb:2},{dictionarySize:20,fb:64,matchFinder:1,lc:3,lp:0,pb:2},{dictionarySize:21,fb:128,matchFinder:1,lc:3,lp:0,pb:2},{dictionarySize:22,fb:128,matchFinder:1,lc:3,lp:0,pb:2},{dictionarySize:23,fb:128,matchFinder:1,lc:3,lp:0,pb:2},{dictionarySize:24,fb:255,matchFinder:1,lc:3,lp:0,pb:2},{dictionarySize:25,fb:255,matchFinder:1,lc:3,lp:0,pb:2}];return function(n){return e(n)?n<1?n=1:n>9&&(n=9):n=1,t[n-1]}}();return{compress:hi,decompress:pi}}();e.exports=n},function(e,t,n){"use strict";var r=n(0),i=function(e){this._maxNumberOfRequests=e||3,this.reset()};i.prototype.track=function(e,t){this.lastRequestEquals(e)&&this.lastResponseEquals(t)||this.reset(),this.maxNumberOfRequestsReached()||(this._lastRequest=e,this._lastResponse=t,this._numberOfRequests+=1)},i.prototype.reset=function(){this._lastRequest=void 0,this._lastResponse=void 0,this._numberOfRequests=0},i.prototype.canRequestBePerformed=function(e){return!this.maxNumberOfRequestsReached()||this.maxNumberOfRequestsReached()&&!this.lastRequestEquals(e)},i.prototype.maxNumberOfRequestsReached=function(){return this._numberOfRequests===this._maxNumberOfRequests},i.prototype.lastRequestEquals=function(e){return this._lastRequest&&this._lastRequest.equals(e)},i.prototype.lastResponseEquals=function(e){return r.isEqual(this._lastResponse,e)},e.exports=i},function(e,t,n){"use strict";function r(e){this._layers=e||[]}var i=n(0);r.prototype.add=function(e){return this._layers.push(e),e},r.prototype.remove=function(e){return this._layers.splice(this._layers.indexOf(e),1)},r.prototype.size=function(){return this._layers.length},r.prototype.indexOf=function(e){return this._layers.indexOf(e)},r.prototype.contains=function(e){return this._layers.indexOf(e)>=0},r.prototype.findById=function(e){return i.find(this._layers,function(t){return t.getId()===e},this)},r.prototype.toArray=function(){return this._layers},r.prototype.move=function(e,t){var n=this._layers.indexOf(e);n>=0&&n!==t&&this._layers.splice(t,0,this._layers.splice(n,1)[0])},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(24),o=n(5),a=n(38),s=n(105),u=n(3),c=L.TileLayer.extend({options:{opacity:.99,maxZoom:30,attribution:o.ATTRIBUTION},initialize:function(e,t,n){r.extend(this.options,n),this._layers=e,this._engine=t,this._internalView=null,this._hoveredLayers=[]},addTo:function(e){return this._internalView||(this._internalView=new s(this._engine._cartoLayerGroup,{nativeMap:e,nativeLayer:this}),this._internalView.on("featureClick",this._onFeatureClick,this),this._internalView.on("featureOver",this._onFeatureOver,this),this._internalView.on("featureOut",this._onFeatureOut,this),this._internalView.on("featureError",this._onFeatureError,this)),L.TileLayer.prototype.addTo.call(this,e)},removeFrom:function(e){return this._internalView&&(this._internalView.off("featureClick"),this._internalView.off("featureOver"),this._internalView.off("featureOut"),this._internalView.off("featureError"),this._internalView.notifyRemove()),this._internalView=null,L.TileLayer.prototype.removeFrom.call(this,e)},setUrl:void 0,_setUrl:function(e,t){return L.TileLayer.prototype.setUrl.call(this,e,t)},_onFeatureClick:function(e){var t=this._layers.findById(e.layer.id);a(i.events.FEATURE_CLICKED,e,t)},_onFeatureOver:function(e){var t=this._layers.findById(e.layer.id);t.isInteractive()&&(this._hoveredLayers[e.layerIndex]=!0,this._map.getContainer().style.cursor="pointer"),a(i.events.FEATURE_OVER,e,t)},_onFeatureOut:function(e){var t=this._layers.findById(e.layer.id);this._hoveredLayers[e.layerIndex]=!1,r.any(this._hoveredLayers)?this._map.getContainer().style.cursor="pointer":this._map.getContainer().style.cursor="auto",a(i.events.FEATURE_OUT,e,t)},_onFeatureError:function(e){var t=new u(e);r.each(this._layers.toArray(),function(e){e.isInteractive()&&e.trigger(i.events.TILE_ERROR,t)})}});e.exports=c},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d.apply(this,arguments),a(e),o(t),this._client=void 0,this._engine=void 0,this._internalModel=void 0,this._source=e,this._style=t,this._visible=!p.isBoolean(n.visible)||n.visible,this._featureClickColumns=n.featureClickColumns||[],this._featureOverColumns=n.featureOverColumns||[],this._minzoom=n.minzoom||0,this._maxzoom=n.maxzoom||void 0,this._aggregation=n.aggregation||{},f(this._aggregation.columns,this._featureClickColumns,this._featureOverColumns)}function i(e){return{fields:e.map(function(e,t){return{name:e,title:!0,position:t}})}}function o(e){if(!(e instanceof y))throw new _("layer","nonValidStyle")}function a(e){if(!(e instanceof g))throw new _("layer","nonValidSource")}function s(e){if(p.any(e,function(e){return!p.isString(e)}))throw new _("layer","nonValidColumns")}function u(e){return e.message&&e.message.indexOf("style")>=0}function c(e){var t=new v(e);return this.trigger(b.ERROR,t),Promise.reject(t)}function l(e,t){return e.length===t.length&&p.isEmpty(p.difference(e,t))}function f(e,t,n){var r=e&&Object.keys(e)||[];h(r,t,"featureClick"),h(r,n,"featureOver")}function h(e,t,n){if(t.length>0&&e.length>0){var r=p.filter(t,function(t){return!p.contains(e,t)});if(r.length>0)throw new _("layer","wrongInteractivityColumns["+r.join(", ")+"]#"+n)}}var p=n(0),d=n(34),m=n(86),g=n(14),y=n(36),v=n(3),_=n(4),b=n(12),w=n(100);r.prototype=Object.create(d.prototype),r.prototype.setStyle=function(e,t){var n=this._style;if(o(e),t=t||{},n===e)return Promise.resolve();if(!this._internalModel)return this._style=e,this.trigger("styleChanged",this),Promise.resolve();if(e.$getEngine()&&e.$getEngine()!==this._internalModel._engine)throw new _("layer","differentStyleClient");return e.$getEngine()||e.$setEngine(this._engine),this._internalModel.set("cartocss",e.getContent(),{silent:!0}),this._engine.reload().then(function(){this._style=e,this.trigger("styleChanged",this)}.bind(this)).catch(c.bind(this))},r.prototype.getStyle=function(){return this._style},r.prototype.setSource=function(e){var t=this._source;if(a(e),t===e)return Promise.resolve();if(!this._internalModel)return this._source=e,this.trigger("sourceChanged",this),Promise.resolve();if(e.$getEngine()&&e.$getEngine()!==this._internalModel._engine)throw new _("layer","differentSourceClient");return e.$getEngine()||e.$setEngine(this._engine),this._internalModel.set("source",e.$getInternalModel(),{silent:!0}),this._engine.reload().then(function(){this._source=e,this.trigger("sourceChanged",this)}.bind(this)).catch(c.bind(this))},r.prototype.getSource=function(){return this._source},r.prototype.setFeatureClickColumns=function(e){var t=this._featureClickColumns;return s(e),l(e,t)?Promise.resolve():this._internalModel?(this._internalModel.infowindow.fields.set(i(e).fields,{silent:!0}),this._engine.reload().then(function(){this._featureClickColumns=e}.bind(this)).catch(c.bind(this))):(this._featureClickColumns=e,Promise.resolve())},r.prototype.getFeatureClickColumns=function(){return this._featureClickColumns},r.prototype.setFeatureOverColumns=function(e){var t=this._featureOverColumns;return s(e),l(e,t)?Promise.resolve():this._internalModel?(this._internalModel.tooltip.fields.set(i(e).fields,{silent:!0}),this._engine.reload().then(function(){this._featureOverColumns=e}.bind(this)).catch(c.bind(this))):(this._featureOverColumns=e,Promise.resolve())},r.prototype.getFeatureOverColumns=function(){return this._featureOverColumns},r.prototype.hide=function(){var e=this._visible;return this._visible=!1,this._internalModel&&this._internalModel.set("visible",!1),e&&this.trigger("visibilityChanged",!1),this},r.prototype.show=function(){var e=this._visible;return this._visible=!0,this._internalModel&&this._internalModel.set("visible",!0),e||this.trigger("visibilityChanged",!1),this},r.prototype.toggle=function(){return this.isVisible()?this.hide():this.show()},r.prototype.isVisible=function(){return this._visible},r.prototype.isHidden=function(){return!this.isVisible()},r.prototype.isInteractive=function(){return this.getFeatureClickColumns().length>0||this.getFeatureOverColumns().length>0},r.prototype.setOrder=function(e){return this._client?this._client.moveLayer(this,e):Promise.resolve()},r.prototype.bringToBack=function(){return this.setOrder(0)},r.prototype.bringToFront=function(){return this.setOrder(this._client._layers.size()-1)},r.prototype._createInternalModel=function(e){var t=new m({id:this._id,source:this._source.$getInternalModel(),cartocss:this._style.getContent(),visible:this._visible,infowindow:i(this._featureClickColumns),tooltip:i(this._featureOverColumns),minzoom:this._minzoom,maxzoom:this._maxzoom},{engine:e,aggregation:this._aggregation});return t.on("change:meta",function(e,t){var n=t.cartocss_meta.rules,r=w.getMetadataFromRules(n),i={styles:r};this.trigger("metadataChanged",i)},this),t.on("change:error",function(e,t){t&&u(t)?this._style.$setError(new v(t)):t&&this.trigger(b.ERROR,new v(t))},this),t},r.prototype.$setClient=function(e){this._client||this._engine&&e._engine!==this._engine||(this._client=e)},r.prototype.$setEngine=function(e){this._engine||(this._engine=e,this._source.$setEngine(e),this._style.$setEngine(e),this._internalModel||(this._internalModel=this._createInternalModel(e),this._style.on("$changed",function(e){this._internalModel.set("cartocss",e.getContent(),{silent:!0})},this)))},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(87),o=n(89),a=n(90),s=n(91),u=n(92),c=n(8),l=["sql","source","sql_wrap","cartocss"],f=o.extend({defaults:{type:"CartoDB",attribution:i.get("cartodb_attributions"),visible:!0},initialize:function(e,t){if(e=e||{},t=t||{},!t.engine)throw new Error("engine is required");this._engine=t.engine,e&&e.cartocss&&this.set("initialStyle",e.cartocss),e.source&&this.setSource(e.source),this.infowindow=new a(e.infowindow),this.tooltip=new s(e.tooltip),this.unset("infowindow"),this.unset("tooltip"),this.legends=new u(e.legends,{engine:this._engine}),this.unset("legends"),this.bind("change",this._onAttributeChanged,this),this.infowindow.fields.bind("reset add remove",this._reload,this),this.tooltip.fields.bind("reset add remove",this._reload,this),this.aggregation=t.aggregation,o.prototype.initialize.apply(this,arguments)},_onAttributeChanged:function(){r.any(l,function(e){if(this.hasChanged(e))return!0},this)&&this._reload()},_reload:function(){this._engine.reload({sourceId:this.get("id")})},restoreCartoCSS:function(){this.set("cartocss",this.get("initialStyle"))},isVisible:function(){return this.get("visible")},isInteractive:function(){return this._hasInfowindowFields()||this._hasTooltipFields()},_hasInfowindowFields:function(){return this.infowindow.hasFields()},_hasTooltipFields:function(){return this.tooltip.hasFields()},getInteractiveColumnNames:function(){return r.chain(["cartodb_id"]).union(this.infowindow.getFieldNames()).union(this.tooltip.getFieldNames()).uniq().value()},isInfowindowEnabled:function(){return this.infowindow.hasTemplate()},isTooltipEnabled:function(){return this.tooltip.hasTemplate()},getName:function(){return this.get("layer_name")},getEstimatedFeatureCount:function(){var e=this.get("meta"),t=e&&e.stats;return t&&t.estimatedFeatureCount},getSourceId:function(){var e=this.getSource();return e&&e.id},getSource:function(){return this.get("source")},setSource:function(e,t){this.getSource()&&this.getSource().unmarkAsSourceOf(this),e.markAsSourceOf(this),this.set("source",e,t)},hasSource:function(e){return this.getSource().equals(e)},update:function(e){if(e.source)throw new Error('Use ".setSource" to update a layer\'s source instead of the update method');o.prototype.update.apply(this,arguments)},remove:function(){this.getSource().unmarkAsSourceOf(this),o.prototype.remove.apply(this,arguments)},getTableName:function(){if(this.get("source").has("options"))return this.get("source").get("options").table_name},getApiKey:function(){return this._engine.getApiKey()}},{_checkSourceAttribute:function(e){if(!(e instanceof c))throw new Error("Source must be an instance of AnalysisModel")}});e.exports=f},function(e,t,n){"use strict";var r=n(88),i=new r;i.set({cartodb_attributions:' <a href="https://carto.com/attributions" target="_blank">CARTO</a>',cartodb_logo_link:"http://www.carto.com"}),e.exports=i},function(e,t,n){"use strict";var r=n(1),i=r.Model.extend({VERSION:4,initialize:function(){},REPORT_ERROR_URL:"/api/v0/error",ERROR_TRACK_ENABLED:!1});e.exports=i},function(e,t,n){"use strict";var r=n(20),i=n(2),o=i.extend({initialize:function(){this.bind("change:type",function(){r.error("changing layer type is not allowed, remove it and add a new one instead")})},remove:function(e){e=e||{},this.trigger("destroy",this,this.collection,e)},update:function(e,t){t=t||{},this.set(e,{silent:t.silent})},show:function(){this.set("visible",!0)},hide:function(){this.set("visible",!1)},isVisible:function(){return!!this.get("visible")},isHidden:function(){return!this.isVisible()},toggle:function(){this.set("visible",!this.get("visible"))},setOk:function(){this.unset("error")},setError:function(e){this.set("error",e)},getSourceId:function(){throw new Error(".getSourceId called on a non torque/cartodb layer.")},hasSource:function(e){return!1}});e.exports=o},function(e,t,n){"use strict";var r=n(0),i=n(1),o=n(35),a=i.Model.extend({defaults:{offset:[28,0],maxHeight:180,alternative_names:{},template_type:"mustache"},initialize:function(e){e=e||{},this.fields=new o(e.fields||[]),this.unset("fields")},update:function(e){e=r.clone(e),this.fields.equals(e.fields)||this.fields.reset(e.fields),delete e.fields,e.alternative_names&&(e.alternative_names=JSON.parse(JSON.stringify(e.alternative_names))),this.set(e)},getFieldNames:function(){return this.fields.pluck("name")},hasFields:function(){return!this.fields.isEmpty()},hasTemplate:function(){return!!this.get("template")}});e.exports=a},function(e,t,n){"use strict";var r=n(0),i=n(1),o=n(35),a=i.Model.extend({defaults:{vertical_offset:0,horizontal_offset:0,position:"top|center",template:"",alternative_names:{}},initialize:function(e){e=e||{},this.fields=new o(e.fields||[]),this.unset("fields")},update:function(e){e=r.clone(e),this.fields.equals(e.fields)||this.fields.reset(e.fields),delete e.fields,e.alternative_names&&(e.alternative_names=JSON.parse(JSON.stringify(e.alternative_names))),this.set(e)},getFieldNames:function(){return this.fields.pluck("name")},hasFields:function(){return!this.fields.isEmpty()},hasTemplate:function(){return!!this.get("template")}});e.exports=a},function(e,t,n){"use strict";var r=n(0),i=n(93),o=n(94),a=n(95),s=n(96),u=n(97),c=n(98),l={bubble:{modelClass:o,definitionAttrs:[{fillColor:"color"},{topLabel:"top_label"},{bottomLabel:"bottom_label"}],dynamic:!0},category:{modelClass:i,definitionAttrs:["prefix","suffix"],dynamic:!0},choropleth:{modelClass:a,definitionAttrs:["prefix","suffix",{leftLabel:"left_label"},{rightLabel:"right_label"}],dynamic:!0},custom:{modelClass:s,definitionAttrs:[{items:"categories"},"html"]},html:{modelClass:s,definitionAttrs:[{items:"categories"},"html"]},custom_choropleth:{modelClass:u,definitionAttrs:["prefix","suffix",{leftLabel:"left_label"},{rightLabel:"right_label"},"colors"]},torque:{modelClass:c,definitionAttrs:[{items:"categories"},"html"]}},f=["title",{preHTMLSnippet:"pre_html"},{postHTMLSnippet:"post_html"}],h=function(e,t){if(!t.engine)throw new Error("engine is required");this._legendsData=e||[],this._engine=t.engine,r.each(l,function(e,t){this[t]=this._createLegendModel(t,e)},this),this._findDataForLegend("html")&&(this.custom=this.html),delete this.html};h.prototype._createLegendModel=function(e,t){var n=t.modelClass,i=f.concat(t.definitionAttrs),o=this._findDataForLegend(e);o=o&&r.extend({},r.omit(o,"definition"),o.definition);var a={};r.each(i,function(e){var t=e,n=e;r.isObject(e)&&(n=Object.keys(e)[0],t=e[n]),a[n]=o&&o[t]});var s=new n(a,{engine:this._engine});return o&&s.show(),s},h.prototype._findDataForLegend=function(e){return r.find(this._legendsData,{type:e})},h.prototype.hasAnyLegend=function(){var e=r.keys(l);return r.some(e,function(e){var t=this[e];return t&&t.isVisible()},this)},e.exports=h},function(e,t,n){"use strict";var r=n(0),i=n(13),o=i.extend({defaults:function(){return r.extend(i.prototype.defaults.apply(this),{type:"category",categories:[]})},getNonResettableAttrs:function(){return r.union(i.prototype.getNonResettableAttrs.apply(this),["categories"])},isAvailable:function(){return this.get("categories")&&this.get("categories").length>0}});e.exports=o},function(e,t,n){"use strict";var r=n(0),i=n(13),o=i.extend({defaults:function(){return r.extend(i.prototype.defaults.apply(this),{type:"bubble",fillColor:"",prefix:"",suffix:"",values:[]})},getNonResettableAttrs:function(){return r.union(i.prototype.getNonResettableAttrs.apply(this),["values"])},isAvailable:function(){return this.get("values")&&this.get("values").length>0}});e.exports=o},function(e,t,n){"use strict";var r=n(0),i=n(13),o=i.extend({defaults:function(){return r.extend(i.prototype.defaults.apply(this),{type:"choropleth",prefix:"",suffix:"",leftLabel:"",rightLabel:"",colors:[]})},getNonResettableAttrs:function(){return r.union(i.prototype.getNonResettableAttrs.apply(this),["colors"])},isAvailable:function(){return this.get("colors")&&this.get("colors").length>0}});e.exports=o},function(e,t,n){"use strict";var r=n(0),i=n(25),o=i.extend({defaults:function(){return r.extend(i.prototype.defaults.apply(this),{type:"custom",items:[],html:""})}});e.exports=o},function(e,t,n){"use strict";var r=n(0),i=n(25),o=i.extend({defaults:function(){return r.extend(i.prototype.defaults.apply(this),{type:"custom_choropleth",prefix:"",suffix:"",leftLabel:"",rightLabel:"",colors:[]})}});e.exports=o},function(e,t,n){"use strict";var r=n(0),i=n(25),o=i.extend({defaults:function(){return r.extend(i.prototype.defaults.apply(this),{type:"torque",items:[],html:""})}});e.exports=o},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){var i=t.split("."),o=i.reduce(function(e,t){return(e||{})[t]},e);return r.isUndefined(o)?n:o}},function(e,t,n){"use strict";function r(e){var t=[];return e.forEach(function(e){var n=new u(e);i(n)?t.push(new a(n)):o(n)&&t.push(new s(n))}),t}function i(e){return e.getBucketsWithRangeFilter().length>0}function o(e){return e.getBucketsWithCategoryFilter().length>0}var a=n(101),s=n(102),u=n(11);e.exports={getMetadataFromRules:r}},function(e,t,n){"use strict";function r(e){var t=e.getBucketsWithRangeFilter();this._buckets=t.map(function(e){return{min:e.filter.start,max:e.filter.end,value:e.value}}),this._avg=e.getFilterAvg(),this._min=t.length>0?t[0].filter.start:void 0,this._max=t.length>0?t[t.length-1].filter.end:void 0,i.call(this,"buckets",e)}var i=n(37);r.prototype=Object.create(i.prototype),r.prototype.getBuckets=function(){return this._buckets},r.prototype.getAverage=function(){return this._avg},r.prototype.getMin=function(){return this._min},r.prototype.getMax=function(){return this._max},e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getBucketsWithCategoryFilter(),n=e.getBucketsWithDefaultFilter();this._categories=t.map(function(e){return{name:e.filter.name,value:e.value}}),this._defaultValue=n.length>0?n[0].value:void 0,i.call(this,"categories",e)}var i=n(37);r.prototype=Object.create(i.prototype),r.prototype.getCategories=function(){return this._categories},r.prototype.getDefaultValue=function(){return this._defaultValue},e.exports=r},function(e,t,n){"use strict";var r={FEATURE_CLICKED:"featureClicked",FEATURE_OVER:"featureOver",FEATURE_OUT:"featureOut",TILE_ERROR:"featureError"};e.exports=r},function(e,t,n){"use strict";function r(e){if(!l.isFinite(e.threshold))throw a("thresholdRequired");if(!l.isFinite(e.threshold)||e.threshold<1||Math.floor(e.threshold)!==e.threshold)throw a("invalidThreshold");if(!l.isFinite(e.resolution))throw a("resolutionRequired");if(!l.contains(d,e.resolution))throw a("invalidResolution");c(e.placement);var t=s(e.columns),n={threshold:e.threshold,resolution:e.resolution,placement:e.placement,columns:t};return l.pick(n,l.identity)}function i(e){Object.keys(e).forEach(function(t){o(e,t)})}function o(e,t){if(!e[t].aggregatedColumn)throw a("columnAggregatedColumnRequired"+t);if(!l.isString(e[t].aggregatedColumn))throw a("invalidColumnAggregatedColumn"+t);if(!e[t].aggregateFunction)throw a("columnFunctionRequired"+t);if(!l.contains(l.values(h),e[t].aggregateFunction))throw a("invalidColumnFunction"+t)}function a(e){return new f("aggregation",e)}function s(e){var t=null;return e&&(i(e),t={},Object.keys(e).forEach(function(n){t[n]=u(e[n])})),t}function u(e){return{aggregate_function:e.aggregateFunction,aggregated_column:e.aggregatedColumn}}function c(e){if(e&&!l.contains(l.values(p),e))throw a("invalidPlacement")}var l=n(0),f=n(4),h={AVG:"avg",SUM:"sum",MIN:"min",MAX:"max",MODE:"mode"},p={SAMPLE:"point-sample",GRID:"point-grid",CENTROID:"centroid"},d=[.5,1,2,4,8,16,32,64,128,256];r.operation=h,r.placement=p,e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(23),o=n(106),a=n(39),s=n(40),u=function(e,t){o.apply(this,arguments),a.apply(this,arguments),this.leafletLayer.on("load",function(){this.trigger("load")}.bind(this)),this.leafletLayer.on("loading",function(){this.trigger("loading")}.bind(this)),this.leafletLayer.on("tileerror",function(e){this.model.addError({type:i.WINDSHAFT_ERRORS.TILE})}.bind(this))};u.prototype=r.extend({},o.prototype,a.prototype,{interactionClass:s.Interactive,_createLeafletLayer:function(){var e=new L.TileLayer(null,{opacity:.99,maxZoom:30});return e._setUrl=function(e,t){return L.TileLayer.prototype.setUrl.call(this,e,t)},e},_reload:function(){var e=this.model.getTileURLTemplate(),t=this.model.getSubdomains();e||(e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),t&&L.Util.setOptions(this.leafletLayer,{subdomains:t}),this.leafletLayer._setUrl(e),this._reloadInteraction()},_manageOffEvents:function(e,t){this._onFeatureOut(t.layer)},_manageOnEvents:function(e,t){var n=e.layerPointToContainerPoint(t.layerPoint);if(!n||isNaN(n.x)||isNaN(n.y))return!1;var r=e.containerPointToLatLng(n);switch(t.e.type.toLowerCase()){case"mousemove":this._onFeatureOver(r,n,t.data,t.layer);break;case"click":this._onFeatureClicked(r,n,t.data,t.layer)}},_onFeatureClicked:function(e,t,n,r){var i=this.model.getLayerInLayerGroupAt(r);i&&this.trigger("featureClick",{layer:i,layerIndex:r,latlng:[e.lat,e.lng],position:t,feature:n})},_onFeatureOver:function(e,t,n,r){var i=this.model.getLayerInLayerGroupAt(r);i&&this.trigger("featureOver",{layer:i,layerIndex:r,latlng:[e.lat,e.lng],position:t,feature:n})},_onFeatureOut:function(e){var t=this.model.getLayerInLayerGroupAt(e);t&&this.trigger("featureOut",{layer:t,layerIndex:e})}}),u.prototype.constructor=o,e.exports=u},function(e,t,n){"use strict";var r=n(0),i=n(1),o=function(e,t){t=t||{},this.model=e,this.mapModel=t.mapModel,this.leafletMap=t.nativeMap,this.leafletLayer=t.nativeLayer||this._createLeafletLayer(),this.showLimitErrors=t.showLimitErrors,this.setModel(e);var n=e.get("type")||e.get("kind");this.type=n&&n.toLowerCase()};r.extend(o.prototype,i.Events),r.extend(o.prototype,{setZIndex:function(e){this.leafletLayer.setZIndex(e)},setModel:function(e){this.model&&this.model.unbind("change",this._modelUpdated,this),this.model=e,this.model.bind("change",this._modelUpdated,this)},remove:function(){this.leafletMap.removeLayer(this.leafletLayer),this.notifyRemove()},notifyRemove:function(){this.trigger("remove",this),this.model.unbind(null,null,this),this.unbind()},reload:function(){this.leafletLayer.redraw()},_createLeafletLayer:function(){throw new Error("subclasses of LeafletLayerView must implement _createLeafletLayer")}}),e.exports=o},function(e,t,n){"use strict";function r(e,t,n){this._layers=e,this._engine=t,this._map=n,this._hoveredLayers=[],this.tileSize=new google.maps.Size(256,256),this._internalView=new s(this._engine._cartoLayerGroup,{nativeMap:n}),this._id=this._internalView._id,this._internalView.on("featureClick",this._onFeatureClick,this),this._internalView.on("featureOver",this._onFeatureOver,this),this._internalView.on("featureOut",this._onFeatureOut,this),this._internalView.on("featureError",this._onFeatureError,this)}var i=n(0),o=n(24),a=n(38),s=n(108),u=n(3);r.prototype.getTile=function(e,t,n){return this._internalView.getTile(e,t,n)},r.prototype._onFeatureClick=function(e){var t=this._layers.findById(e.layer.id);a(o.events.FEATURE_CLICKED,e,t)},r.prototype._onFeatureOver=function(e){var t=this._layers.findById(e.layer.id);t.isInteractive()&&(this._hoveredLayers[e.layerIndex]=!0,this._map.setOptions({draggableCursor:"pointer"})),a(o.events.FEATURE_OVER,e,t)},r.prototype._onFeatureOut=function(e){var t=this._layers.findById(e.layer.id);this._hoveredLayers[e.layerIndex]=!1,i.any(this._hoveredLayers)?this._map.setOptions({draggableCursor:"pointer"}):this._map.setOptions({draggableCursor:"auto"}),a(o.events.FEATURE_OUT,e,t)},r.prototype._onFeatureError=function(e){var t=new u(e);i.each(this._layers.toArray(),function(e){e.isInteractive()&&e.trigger(o.events.TILE_ERROR,t)})},e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=Math.round(100*t);e.style.filter=n>=99?h:"alpha(opacity="+t+");"}function i(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}var o=n(0),a=n(109),s=n(40),u=n(23),c=n(110),l=n(39),f=n(111),h="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF,endColorstr=#00FFFFFF)",p="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",d=function(e,t){var n=this,r=[],s=t.nativeMap;o.bindAll(this,"featureOut","featureOver","featureClick");var u=o.clone(e.attributes);u.map=s;var f,h=u.featureOver,p=u.featureOut,d=u.featureClick,m=-1;u.featureOver=function(e,t,i,o,a){r[a]||n.trigger("layerenter",e,t,i,o,a),r[a]=1,h&&h.apply(this,arguments),n.featureOver&&n.featureOver.apply(this,arguments),e.timeStamp===f&&clearTimeout(m),m=setTimeout(function(){n.trigger("mouseover",e,t,i,o,a),n.trigger("layermouseover",e,t,i,o,a)},0),f=e.timeStamp},u.featureOut=function(e,t){r[t]&&n.trigger("layermouseout",t),r[t]=0,o.any(r)||n.trigger("mouseout"),p&&p.apply(this,arguments),n.featureOut&&n.featureOut.apply(this,arguments)},u.featureClick=o.debounce(function(){d&&d.apply(this,arguments),n.featureClick&&n.featureClick.apply(u,arguments)},10),this.tiles=0,this.options={tiles:t.tiles,scheme:t.scheme||"xyz",blankImage:t.blankImage||"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},this._id=i(),this.interactive=!0,this.tileSize=new google.maps.Size(256,256),this.cache={},o.extend(this.options,u),a.apply(this,arguments),this.projector=new c(u.map),l.apply(this,arguments)};d.prototype.interactionClass=s.Interactive,o.extend(d.prototype,l.prototype,a.prototype,{addToMap:function(){this.gmapsMap.overlayMapTypes.setAt(0,this)},remove:function(){var e=this._getOverlayIndex();e>=0&&this.gmapsMap.overlayMapTypes.removeAt(e),this._clearInteraction(),this.finishLoading&&this.finishLoading()},reload:function(){this.model.invalidate()},featureOver:function(e,t,n,r,i){var o=this.model.getLayerInLayerGroupAt(i);o&&this.trigger("featureOver",{layer:o,layerIndex:i,latlng:[t.lat(),t.lng()],position:{x:n.x,y:n.y},feature:r})},featureOut:function(e,t){var n=this.model.getLayerInLayerGroupAt(t);n&&this.trigger("featureOut",{layer:n,layerIndex:t})},featureClick:function(e,t,n,r,i){var o=this.model.getLayerInLayerGroupAt(i);o&&this.trigger("featureClick",{layer:o,layerIndex:i,latlng:[t.lat(),t.lng()],position:{x:n.x,y:n.y},feature:r})},error:function(e){this.model&&(this.model.trigger("error",e?e.errors:"unknown error"),this.model.trigger("tileError",e?e.errors:"unknown error"))},ok:function(e){this.model.trigger("tileOk")},tilesOk:function(e){this.model.trigger("tileOk")},loading:function(){this.trigger("loading")},finishLoading:function(){this.trigger("load")},setOpacity:function(e){if(isNaN(e)||e>1||e<0)throw new Error(e+" is not a valid value, should be in [0, 1] range");this.opacity=this.options.opacity=e;for(var t in this.cache){var n=this.cache[t];n.style.opacity=e,r(n,e)}},getTile:function(e,t,n){var i=this,o="ActiveXObject"in window,a=o&&!document.addEventListener;if(this.options.added=!0,!this.model.hasTileURLTemplates()){var s=t+"/"+e.x+"/"+e.y,c=this.cache[s]=new Image(256,256);return c.src=p,c.setAttribute("gTileKey",s),c.style.opacity=this.options.opacity,c}var l=this._getTile(e,t,n);a&&r(l,this.options.opacity),l.style.opacity=this.options.opacity,0===this.tiles&&this.loading&&this.loading(),this.tiles++;var h=f.metric("cartodb-js.tile.png.load.time").start(),d=function(){h.end(),0===--i.tiles&&i.finishLoading&&i.finishLoading()};return l.onload=d,l.onerror=function(){f.metric("cartodb-js.tile.png.error").inc(),i.model.addError({type:u.WINDSHAFT_ERRORS.TILE}),d()},l},_getTile:function(e,t,n){var r=t+"/"+e.x+"/"+e.y;if(!this.cache[r]){var i=this.cache[r]=new Image(256,256);this.cache[r].src=this._getTileUrl(e,t),this.cache[r].setAttribute("gTileKey",r),this.cache[r].onerror=function(){i.style.display="none"}}return this.cache[r]},_getTileUrl:function(e,t){var n=Math.pow(2,t),r="tms"===this.options.scheme?n-1-e.y:e.y,i=e.x%n;return i=i<0?e.x%n+n:i,r<0?this.options.blankImage:this.options.tiles[parseInt(i+r,10)%this.options.tiles.length].replace(/\{z\}/g,t).replace(/\{x\}/g,i).replace(/\{y\}/g,r)},_reload:function(){var e;e=this.model.hasTileURLTemplates()?[this.model.getTileURLTemplatesWithSubdomains()[0]]:[p],this.options.tiles=e,this.tiles=0,this.cache={},this._reloadInteraction(),this._refreshView()},_refreshView:function(){var e=this.gmapsMap.overlayMapTypes,t=this._getOverlayIndex();t>=0&&e.setAt(t,e.getAt(t))},_checkLayer:function(){if(!this.options.added)throw new Error("the layer is not still added to the map")},_getOverlayIndex:function(){var e=this.gmapsMap.overlayMapTypes.getArray();return o.findIndex(e,function(e){return e&&e._id===this._id},this)},_newPoint:function(e,t){return new google.maps.Point(e,t)},_manageOffEvents:function(e,t){if(this.options.featureOut)return this.options.featureOut&&this.options.featureOut(t.e,t.layer)},_manageOnEvents:function(e,t){var n=t.pixel,r=this.projector.pixelToLatLng(n);switch(t.e.type.toLowerCase()){case"mousemove":if(this.options.featureOver)return this.options.featureOver(t.e,r,n,t.data,t.layer);break;case"click":case"touchend":case"touchmove":case"mspointerup":case"pointerup":case"pointermove":this.options.featureClick&&this.options.featureClick(t.e,r,n,t.data,t.layer)}}}),e.exports=d},function(e,t,n){"use strict";var r=n(0),i=n(1),o=function(e,t){t=t||{},this.model=e,this.model.bind("change",this._onModelUpdated,this),this.mapModel=t.mapModel,this.gmapsMap=t.nativeMap,this.showLimitErrors=t.showLimitErrors};r.extend(o.prototype,i.Events),r.extend(o.prototype,{addToMap:function(){throw new Error("Subclasses of GMapsLayerView must implement addToMap")},remove:function(){throw new Error("Subclasses of GMapsLayerView must implement remove")},_onModelUpdated:function(){}}),e.exports=o},function(e,t,n){"use strict";function r(e){this.setMap(e)}r.prototype=new google.maps.OverlayView,r.prototype.draw=function(){},r.prototype.latLngToPixel=function(e){var t=this.getProjection();return t?t.fromLatLngToContainerPixel(e):(console.warn("Projector has no projection"),new google.maps.Point(0,0))},r.prototype.pixelToLatLng=function(e){var t=this.getProjection();return t?t.fromContainerPixelToLatLng(e):(console.warn("Projector has no projection"),new google.maps.LatLng(0,0))},e.exports=r},function(e,t,n){"use strict";function r(){}function i(e){this.t0=null,this.name=e,this.count=0}r.metrics={},r._backend=null,r.get=function(e){return r.metrics[e]||{max:0,min:Number.MAX_VALUE,avg:0,total:0,count:0,last:0,history:"undefined"!=typeof Float32Array?new Float32Array(1024):[]}},r.backend=function(e){r._backend=e},r.new_value=function(e,t,n,i){n=n||"i";var o=r.metrics[e]=r.get(e);if(o.max=Math.max(o.max,t),o.min=Math.min(o.min,t),o.total+=t,++o.count,o.avg=o.total/o.count,o.history[o.count%1024]=t,i){var a=performance.now();a-o.last>1e3&&(r._backend&&r._backend([n,e,o.avg]),o.last=a)}else r._backend&&r._backend([n,e,t])},r.print_stats=function(){for(var e in r.metrics){var t=r.metrics[e];console.log(" === "+e+" === "),console.log(" max: "+t.max),console.log(" min: "+t.min),console.log(" avg: "+t.avg),console.log(" count: "+t.count),console.log(" total: "+t.total)}},i.prototype={start:function(){return this.t0=performance.now(),this},_elapsed:function(){return performance.now()-this.t0},end:function(e){null!==this.t0&&(r.new_value(this.name,this._elapsed(),"t",e),this.t0=null)},inc:function(e){e=void 0===e?1:e,r.new_value(this.name,e,"i")},dec:function(e){e=void 0===e?1:e,r.new_value(this.name,e,"d")},mark:function(){if(++this.count,null===this.t0)return void this.start();this._elapsed()>1&&(r.new_value(this.name,this.count),this.count=0,this.start())}},r.metric=function(e){return new i(e)},e.exports=r},function(e,t,n){"use strict";var r=n(113),i=n(114);e.exports={Dataset:r,SQL:i}},function(e,t,n){"use strict";function r(e){var t=this;i(e),this._tableName=e,a.apply(this,arguments),this._appliedFilters.on("change:filters",function(){return t._updateInternalModelQuery(t._getQueryToApply())})}function i(e){if(o.isUndefined(e))throw new c("source","noDatasetName");if(!o.isString(e))throw new c("source","requiredDatasetString");if(o.isEmpty(e))throw new c("source","requiredDataset")}var o=n(0),a=n(14),s=n(8),u=n(19),c=n(4),l=n(3);r.prototype=Object.create(a.prototype),r.prototype.setTableName=function(e){return i(e),this._tableName=e,this._internalModel?this._updateInternalModelQuery(this._getQueryToApply()):(this._triggerTableNameChanged(this,e),Promise.resolve())},r.prototype.getTableName=function(){return this._tableName},r.prototype._createInternalModel=function(e){return new s({id:this.getId(),type:"source",query:this._getQueryToApply()},{camshaftReference:u,engine:e})},r.prototype._updateInternalModelQuery=function(e){var t=this;if(this._internalModel)return this._internalModel.set("query",e,{silent:!0}),this._internalModel._engine.reload().then(function(){return t._triggerTableNameChanged(t,t._tableName)}).catch(function(e){return Promise.reject(new l(e))})},r.prototype._getQueryToApply=function(){var e=this._appliedFilters.$getSQL(),t="SELECT * from "+this._tableName;return o.isEmpty(e)?t:"SELECT * FROM ("+t+") as datasetQuery WHERE "+e},r.prototype.addFilter=function(e){a.prototype.addFilter.apply(this,arguments),this._updateInternalModelQuery(this._getQueryToApply())},r.prototype.removeFilter=function(e){a.prototype.removeFilter.apply(this,arguments),this._updateInternalModelQuery(this._getQueryToApply())},r.prototype._triggerTableNameChanged=function(e,t){this.trigger("tableNameChanged",t)},e.exports=r},function(e,t,n){"use strict";function r(e){var t=this;i(e),this._query=e,a.apply(this,arguments),this._appliedFilters.on("change:filters",function(){return t._updateInternalModelQuery(t._getQueryToApply())})}function i(e){if(!e)throw new c("source","requiredQuery");if(!o.isString(e))throw new c("source","requiredString")}var o=n(0),a=n(14),s=n(8),u=n(19),c=n(4),l=n(3);r.prototype=Object.create(a.prototype),r.prototype.setQuery=function(e){i(e),this._query=e;var t=this._getQueryToApply();return this._internalModel?this._updateInternalModelQuery(t):(this._triggerQueryChanged(this,t),Promise.resolve())},r.prototype.getQuery=function(){return this._query},r.prototype._createInternalModel=function(e){var t=new s({id:this.getId(),type:"source",query:this._getQueryToApply()},{camshaftReference:u,engine:e});return t.on("change:query",this._triggerQueryChanged,this),t},r.prototype._updateInternalModelQuery=function(e){var t=this;if(this._internalModel)return this._internalModel.set("query",e,{silent:!0}),this._internalModel._engine.reload().then(function(){return t._triggerQueryChanged(t,e)}).catch(function(e){return Promise.reject(new l(e))})},r.prototype._getQueryToApply=function(){var e=this._appliedFilters.$getSQL();return!this._hasFiltersApplied||o.isEmpty(e)?this._query:"SELECT * FROM ("+this._query+") as originalQuery WHERE "+e},r.prototype.addFilter=function(e){a.prototype.addFilter.apply(this,arguments),this._updateInternalModelQuery(this._getQueryToApply())},r.prototype.removeFilter=function(e){a.prototype.removeFilter.apply(this,arguments),this._updateInternalModelQuery(this._getQueryToApply())},r.prototype._triggerQueryChanged=function(e,t){this.trigger("queryChanged",t)},e.exports=r},function(e,t,n){"use strict";var r=n(116);e.exports={CartoCSS:r}},function(e,t,n){"use strict";function r(e){o(e),this._content=e}function i(e){return this.trigger(l,this._content),Promise.resolve(this._content)}function o(e){if(!e)throw new u("style","requiredCSS");if(!a.isString(e))throw new u("style","requiredCSSString")}var a=n(0),s=n(36),u=n(4),c=n(3),l="contentChanged";r.prototype=Object.create(s.prototype),r.prototype.getContent=function(){return this._content},r.prototype.setContent=function(e){return o(e),this._content=e,this.trigger("$changed",this),this._engine?this._engine.reload().then(function(){return i.call(this,e)}.bind(this)).catch(function(e){return Promise.reject(new c(e))}):i.call(this,e)},e.exports=r},function(e,t,n){"use strict";var r=n(118),i=n(126),o=n(129),a=n(133),s=n(5).status,u=n(5).timeAggregation;e.exports={Category:r,Formula:i,Histogram:o,TimeSeries:a,status:s,timeAggregation:u}},function(e,t,n){"use strict";function r(e,t,n){this.DEFAULTS.operationColumn=t,this._initialize(e,t,n),this._limit=this._options.limit,this._operation=this._options.operation,this._operationColumn=this._options.operationColumn}var i=n(0),o=n(16),a=n(5),s=n(119),u=n(123),c=n(125);r.prototype=Object.create(o.prototype),r.prototype.setLimit=function(e){return this._checkLimit(e),this._changeProperty("limit",e,"categories"),this},r.prototype.getLimit=function(){return this._limit},r.prototype.setOperation=function(e){return this._checkOperation(e),this._changeProperty("operation",e,"aggregation"),this},r.prototype.getOperation=function(){return this._operation},r.prototype.setOperationColumn=function(e){return this._checkOperationColumn(e),this._changeProperty("operationColumn",e,"aggregation_column"),this},r.prototype.getOperationColumn=function(){return this._operationColumn},r.prototype.getData=function(){return this._internalModel?c(this._internalModel.get("data"),this._internalModel.get("count"),this._internalModel.get("max"),this._internalModel.get("min"),this._internalModel.get("nulls"),this._operation):null},r.prototype.DEFAULTS={limit:6,operation:a.operation.COUNT},r.prototype._checkOptions=function(e){if(i.isUndefined(e))throw this._getValidationError("categoryOptionsRequired");this._checkLimit(e.limit),this._checkOperation(e.operation),this._checkOperationColumn(e.operationColumn)},r.prototype._checkLimit=function(e){if(i.isUndefined(e))throw this._getValidationError("categoryLimitRequired");if(!i.isNumber(e))throw this._getValidationError("categoryLimitNumber");if(e<=0)throw this._getValidationError("categoryLimitPositive")},r.prototype._checkOperation=function(e){if(i.isUndefined(e)||!a.isValidOperation(e))throw this._getValidationError("categoryInvalidOperation")},r.prototype._checkOperationColumn=function(e){if(i.isUndefined(e))throw this._getValidationError("categoryOperationRequired");if(!i.isString(e))throw this._getValidationError("categoryOperationString");if(i.isEmpty(e))throw this._getValidationError("categoryOperationEmpty")},r.prototype._createInternalModel=function(e){this._internalModel=new s({source:this._source.$getInternalModel(),column:this._column,aggregation:this._operation,aggregation_column:this._operationColumn,categories:this._limit,sync_on_bbox_change:!!this._boundingBoxFilter,enabled:this._enabled},{engine:e,filter:new u,bboxFilter:this._boundingBoxFilter&&this._boundingBoxFilter.$getInternalModel()})},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(27),o=n(120),a=n(122),s=n(41);e.exports=i.extend({defaults:r.extend({type:"category",filterEnabled:!1,categories:6,allCategoryNames:[]},i.prototype.defaults),_getDataviewSpecificURLParams:function(){return["own_filter="+(this.get("filterEnabled")?1:0),"categories="+this.get("categories")]},initialize:function(e,t){i.prototype.initialize.call(this,e,t),this._rangeModel=new a({apiKey:this._engine.getApiKey(),authToken:this._engine.getAuthToken()}),this._data=new s(null,{aggregationModel:this}),this._searchModel=new o({apiKey:this._engine.getApiKey(),authToken:this._engine.getAuthToken()},{aggregationModel:this}),this.on("change:column change:aggregation change:aggregation_column",this._reloadAndForceFetch,this),this.on("change:categories",this.refresh,this),this.bind("change:url",function(){this._searchModel.set({url:this.get("url")})},this),this.once("change:url",function(){this._rangeModel.setUrl(this.get("url"))},this),this._rangeModel.bind("change:totalCount change:categoriesCount",function(){this.set({totalCount:this._rangeModel.get("totalCount"),categoriesCount:this._rangeModel.get("categoriesCount")})},this),this._bindSearchModelEvents(),e&&e.acceptedCategories&&this.filter.accept(e.acceptedCategories)},_onMapBoundsChanged:function(){i.prototype._onMapBoundsChanged.apply(this,arguments),this._searchModel.fetchIfSearchIsApplied()},_bindSearchModelEvents:function(){this.listenTo(this._searchModel,"loading",function(){this.trigger("loading",this)},this),this.listenTo(this._searchModel,"loaded",function(){this.trigger("loaded",this)},this),this.listenTo(this._searchModel,"error",function(e,t){(!t||t&&"abort"!==t.statusText)&&this.trigger("error",e,t)},this),this.listenTo(this._searchModel,"change:data",this._onSearchDataChange,this)},_onSearchDataChange:function(){this.getSearchResult().each(function(e){var t=this.filter.isAccepted(e.get("name"));e.set("selected",t)},this),this.trigger("change:searchData",this)},_shouldFetchOnBoundingBoxChange:function(){return i.prototype._shouldFetchOnBoundingBoxChange.call(this)&&!this.isSearchApplied()},enableFilter:function(){this.set("filterEnabled",!0)},disableFilter:function(){this.set("filterEnabled",!1)},getSearchQuery:function(){return this._searchModel.getSearchQuery()},setSearchQuery:function(e){this._searchModel.set("q",e)},isSearchValid:function(){return this._searchModel.isValid()},getSearchResult:function(){return this._searchModel.getData()},getSearchCount:function(){return this._searchModel.getCount()},applySearch:function(){this._searchModel.fetch()},isSearchApplied:function(){return this._searchModel.isSearchApplied()},cleanSearch:function(){this._searchModel.resetData()},setupSearch:function(){this.isSearchApplied()||this._searchModel.setData(this._data.toJSON())},getData:function(){return this._data},getSize:function(){return this._data.size()},getCount:function(){return this.get("categoriesCount")},isOtherAvailable:function(){return this._data.isOtherAvailable()},numberOfAcceptedCategories:function(){var e=this.filter.acceptedCategories,t=this.numberOfRejectedCategories(),n=this.getData(),r=n.size(),i=n.reduce(function(t,n){return t+(e.where({name:n.get("name")}).length>0?1:0)},0);return t?r-t:i},numberOfRejectedCategories:function(){var e=this.filter.rejectedCategories;return this.getData().reduce(function(t,n){return t+(e.where({name:n.get("name")}).length>0?1:0)},0)},refresh:function(){this.isSearchApplied()?this._searchModel.fetch():this.fetch()},parse:function(e){var t=[],n={},i=e.categories,o=[],a=[];return r.each(i,function(e){var r=e.category;o.push(r);var i=this.filter.isRejected(r);n[r]=!0,t.push({selected:!i,name:r,agg:e.agg,value:e.value})},this),this.get("filterEnabled")&&this.filter.acceptedCategories.each(function(e){var r=e.get("name");a.push(r),n[r]||t.push({selected:!0,name:r,agg:!1,value:0})},this),this._data.reset(t),{allCategoryNames:r.chain(o).union(a).unique().value(),data:t,nulls:e.nulls,min:e.min,max:e.max,count:e.count}},toJSON:function(){return{type:"aggregation",source:{id:this.getSourceId()},options:{column:this.get("column"),aggregation:this.get("aggregation"),aggregationColumn:this.get("aggregation_column")}}}},{ATTRS_NAMES:i.ATTRS_NAMES.concat(["column","aggregation","aggregation_column","acceptedCategories","categories"])})},function(e,t,n){"use strict";var r=n(0),i=n(2),o=n(28),a=n(41);e.exports=i.extend({defaults:{q:"",data:[],url:""},url:function(){var e=this.get("url")+"/search?q="+encodeURIComponent(this.get("q"));if(this.get("apiKey"))e+="&api_key="+this.get("apiKey");else if(this.get("authToken")){var t=this.get("authToken");t instanceof Array?r.each(t,function(t){e+="&auth_token[]="+t}):e+="&auth_token="+t}return e},initialize:function(e,t){this._data=new a(null,{aggregationModel:t.aggregationModel}),this.sync=o.bind(this)},fetchIfSearchIsApplied:function(){this.isSearchApplied()&&this.fetch()},setData:function(e){var t=this._parseData(e);this._data.reset(t),this.set("data",t)},getData:function(){return this._data},getSize:function(){return this._data.size()},getCount:function(){return this.getSize()},isValid:function(){return!!this.get("q")},resetData:function(){this.setData([]),this.set("q","")},getSearchQuery:function(){return this.get("q")},isSearchApplied:function(){return this.isValid()&&this.getSize()>0},_parseData:function(e){var t=[];return r.each(e,function(e){e.agg||t.push({selected:!1,name:(e.category||e.name).toString(),agg:e.agg,value:e.value})},this),t},parse:function(e){var t=this._parseData(e.categories);return this._data.reset(t),{data:t}},fetch:function(e){if(e=e||{},this.trigger("loading",this),e.success)var t=e&&e.success;return i.prototype.fetch.call(this,r.extend(e,{success:function(){t&&t(arguments),this.trigger("loaded",this)}.bind(this),error:function(e,t){(!t||t&&"abort"!==t.statusText)&&this.trigger("error",e,t)}.bind(this)}))}})},function(e,t,n){"use strict";var r=n(2);e.exports=r.extend({defaults:{name:"",agg:!1,value:0}})},function(e,t,n){"use strict";var r=n(0),i=n(2);e.exports=i.extend({defaults:{url:"",totalCount:0,categoriesCount:0},url:function(){var e=this.get("url"),t=[];if(this.get("apiKey"))e+="?api_key="+this.get("apiKey");else if(this.get("authToken")){var n=this.get("authToken");n instanceof Array?r.each(n,function(e){t.push("auth_token[]="+e)}):t.push("auth_token="+n),e+="?"+t.join("&")}return e},initialize:function(){this.bind("change:url",function(){this.fetch()},this)},setUrl:function(e){this.set("url",e)},parse:function(e){return{categoriesCount:e.categoriesCount,totalCount:r.reduce(r.pluck(e.categories,"value"),function(e,t){return e+t},0)}}})},function(e,t,n){"use strict";var r=n(0),i=n(1),o=n(124);e.exports=o.extend({defaults:{rejectAll:!1},initialize:function(){this.rejectedCategories=new i.Collection,this.acceptedCategories=new i.Collection,this._initBinds()},_initBinds:function(){this.listenTo(this.rejectedCategories,"add remove",function(){this.set("rejectAll",!1)}),this.listenTo(this.acceptedCategories,"add remove",function(){this.set("rejectAll",!1)})},isEmpty:function(){return 0===this.rejectedCategories.size()&&0===this.acceptedCategories.size()&&!this.get("rejectAll")},accept:function(e,t){e=r.isArray(e)?e:[e],r.each(e,function(e){var t={name:e},n=this.rejectedCategories.where(t),r=this.acceptedCategories.where(t);n.length>0?this.rejectedCategories.remove(n):r.length||this.acceptedCategories.add(t)},this),!1!==t&&this.applyFilter()},acceptAll:function(){this.set("rejectAll",!1),this.cleanFilter()},isAccepted:function(e){return this.acceptedCategories.where({name:e}).length>0},reject:function(e,t){e=r.isArray(e)?e:[e],r.each(e,function(e){var t={name:e},n=this.acceptedCategories.where(t),r=this.rejectedCategories.where(t);n.length>0?this.acceptedCategories.remove(n):r.length||this.rejectedCategories.add(t)},this),!1!==t&&this.applyFilter()},isRejected:function(e){var t=this.acceptedCategories.size();return this.rejectedCategories.where({name:e}).length>0||(t>0&&0===this.acceptedCategories.where({name:e}).length||!!this.get("rejectAll"))},rejectAll:function(){this.set("rejectAll",!0),this.cleanFilter()},cleanFilter:function(e){this.acceptedCategories.reset(),this.rejectedCategories.reset(),!1!==e&&this.applyFilter()},applyFilter:function(){this.trigger("change",this)},areAllRejected:function(){return this.get("rejectAll")},toJSON:function(){var e={},t=this.rejectedCategories.size(),n=this.acceptedCategories.size(),i={accept:r.pluck(this.acceptedCategories.toJSON(),"name")},o={reject:r.pluck(this.rejectedCategories.toJSON(),"name")};this.get("rejectAll")?e={accept:[]}:n>0?e=i:t>0&&0===n&&(e=o);var a={};return a[this.get("dataviewId")]=e,a},getAcceptedCategoryNames:function(){return this.acceptedCategories.map(function(e){return e.get("name")})},getRejectedCategoryNames:function(){return this.rejectedCategories.map(function(e){return e.get("name")})}})},function(e,t,n){"use strict";var r=n(2);e.exports=r.extend({isEmpty:function(){throw new Error("Filters must implement the .isEmpty method")},toJSON:function(){throw new Error("Filters must implement the .toJSON method")},remove:function(){this.trigger("destroy",this),this.stopListening()}})},function(e,t,n){"use strict";function r(e,t,n,r,o,a){return e?{count:t,max:n,min:r,nulls:o,operation:a,categories:i(e)}:null}function i(e){return o.map(e,function(e){return{group:e.agg,name:e.name,value:e.value}})}var o=n(0);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){this._initialize(e,t,n),this._operation=this._options.operation}var i=n(0),o=n(16),a=n(5),s=n(127),u=n(128);r.prototype=Object.create(o.prototype),r.prototype.setOperation=function(e){return this._checkOperation(e),this._changeProperty("operation",e),this},r.prototype.getOperation=function(){return this._operation},r.prototype.getData=function(){return this._internalModel?u(this._internalModel.get("nulls"),this._operation,this._internalModel.get("data")):null},r.prototype.DEFAULTS={operation:a.operation.COUNT},r.prototype._checkOptions=function(e){if(i.isUndefined(e))throw this._getValidationError("formulaOptionsRequired");this._checkOperation(e.operation)},r.prototype._checkOperation=function(e){if(i.isUndefined(e)||!a.isValidOperation(e))throw this._getValidationError("formulaInvalidOperation")},r.prototype._createInternalModel=function(e){this._internalModel=new s({source:this._source.$getInternalModel(),column:this._column,operation:this._operation,sync_on_bbox_change:!!this._boundingBoxFilter,enabled:this._enabled},{engine:e,bboxFilter:this._boundingBoxFilter&&this._boundingBoxFilter.$getInternalModel()})},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(27);e.exports=i.extend({defaults:r.extend({type:"formula",data:""},i.prototype.defaults),initialize:function(){i.prototype.initialize.apply(this,arguments),this.on("change:column change:operation",this._reloadAndForceFetch,this)},parse:function(e){return{data:e.result,nulls:e.nulls}},toJSON:function(){return{type:"formula",source:{id:this.getSourceId()},options:{column:this.get("column"),operation:this.get("operation")}}}},{ATTRS_NAMES:i.ATTRS_NAMES.concat(["column","operation"])})},function(e,t,n){"use strict";function r(e,t,n){return{nulls:e,operation:t,result:n}}e.exports=r},function(e,t,n){"use strict";function r(e,t,n){this._initialize(e,t,n),this._bins=this._options.bins,this._start=this._options.start,this._end=this._options.end}var i=n(0),o=n(16),a=n(42),s=n(132);r.prototype=Object.create(o.prototype),r.prototype.DEFAULTS={bins:10},r.prototype.getData=function(){return this._internalModel?s(this._internalModel.get("data"),this._internalModel.get("nulls"),this._internalModel.get("totalAmount")):null},r.prototype.setColumn=function(e){o.prototype.setColumn.apply(this,arguments),this._start=null,this._end=null},r.prototype.setBins=function(e){return this._validateBins(e),this._changeProperty("bins",e),this},r.prototype.getBins=function(){return this._bins},r.prototype.setStartEnd=function(e,t){return this._validateStartEnd(e,t),this._changeProperties({start:e,end:t}),this},r.prototype.getStart=function(){return this._start||this._internalModel.get("start")},r.prototype.getEnd=function(){return this._end||this._internalModel.get("end")},r.prototype.getDistributionType=function(){if(this._internalModel){var e=this._internalModel.getData();return this._internalModel.getDistributionType(e)}return null},r.prototype._validateBins=function(e){if(!i.isFinite(e)||e<1||Math.floor(e)!==e)throw this._getValidationError("histogramInvalidBins")},r.prototype._validateStartEnd=function(e,t){var n=[e,t];if(!i.every(n,i.isUndefined)){var r=i.every(n,function(e){return i.isNumber(e)&&!i.isNaN(e)}),o=i.every(n,i.isNull);if(!r&&!o)throw this._getValidationError("histogramInvalidStartEnd")}},r.prototype._checkOptions=function(e){if(i.isUndefined(e))throw this._getValidationError("histogramOptionsRequired");this._validateBins(e.bins),this._validateStartEnd(e.start,e.end)},r.prototype._createInternalModel=function(e){this._internalModel=new a({source:this._source.$getInternalModel(),column:this._column,bins:this._bins,start:this._start,end:this._end,sync_on_bbox_change:!!this._boundingBoxFilter,enabled:this._enabled,column_type:"number"},{engine:e,bboxFilter:this._boundingBoxFilter&&this._boundingBoxFilter.$getInternalModel()})},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(28),o=n(2),a=n(43);e.exports=o.extend({defaults:{url:"",data:[],localTimezone:!1,localOffset:0,hasBeenFetched:!1},url:function(){var e=[],t=this.get("column_type"),n=this._getCurrentOffset(),i=this.get("aggregation")||"auto";if(e.push("no_filters=1"),"number"===t&&this.get("bins")?e.push("bins="+this.get("bins")):"date"===t&&(e.push("aggregation="+i),r.isFinite(n)&&e.push("offset="+n)),this.get("apiKey"))e.push("api_key="+this.get("apiKey"));else if(this.get("authToken")){var o=this.get("authToken");o instanceof Array?r.each(o,function(t){e.push("auth_token[]="+t)}):e.push("auth_token="+o)}var a=this.get("start"),s=this.get("end");return r.isFinite(a)&&r.isFinite(s)&&(e.push("start="+a),e.push("end="+s)),this.get("url")+"?"+e.join("&")},initialize:function(){this.sync=i.bind(this),this._initBinds()},_initBinds:function(){this.on("change:url",function(){this.refresh()},this),this.on("change:aggregation change:offset",function(){"date"===this.get("column_type")&&this.get("aggregation")&&this.refresh()},this),this.on("change:bins",function(){"number"===this.get("column_type")&&this.refresh()},this),this.on("change:localTimezone",function(){this.refresh()},this),this.on("change:column",function(){this.set("aggregation","auto",{silent:!0})}),this.on("sync",function(){this.set("hasBeenFetched",!0)})},setUrl:function(e){if(!e)throw new Error("url not specified");this.set("url",e)},setBins:function(e){this.set("bins",e,{silent:void 0===e})},getData:function(){return this.get("data")},parse:function(e){var t=e.aggregation||this.get("aggregation"),n=e.bins_count||0,i=e.bin_width,o="date"===this.get("column_type")?e.timestamp_start:e.bins_start,s={};return s.data=new Array(n),t&&(s.aggregation=t,this.set("aggregation",t,{silent:!0})),r.each(e.bins,function(e){s.data[e.bin]=e}),"date"===this.get("column_type")?(s.data=a.fillTimestampBuckets(s.data,o,t,n,"totals"),n=s.data.length):a.fillNumericBuckets(s.data,o,i,n),s.data.length>0&&(s.start=s.data[0].start,s.end=s.data[s.data.length-1].end),s.bins=n,s},refresh:function(){this.fetch()},_getCurrentOffset:function(){return this.get("localTimezone")?this.get("localOffset"):this.get("offset")}})},function(e,t,n){"use strict";var r={};r.getLocalOffset=function(){return-60*(new Date).getTimezoneOffset()},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){if(!e)return null;var r=o.compact(e),a=o.max(r,function(e){return e.freq||0});return{bins:i(r,o.isFinite(a.freq)&&0!==a.freq?a.freq:null),nulls:t||0,totalAmount:n}}function i(e,t){return e.map(function(e){return o.extend(e,{normalized:o.isFinite(e.freq)&&t>0?e.freq/t:0})})}var o=n(0);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){this._initialize(e,t,n),this._aggregation=this._options.aggregation,this._offset=i(this._options.offset),this._localTimezone=this._options.useLocalTimezone}function i(e){return 3600*e}function o(e){return e/3600}var a=n(0),s=n(16),u=n(42),c=n(134),l=n(5).timeAggregation,f=n(5).isValidTimeAggregation;r.prototype=Object.create(s.prototype),r.prototype.DEFAULTS={aggregation:l.AUTO,offset:0,useLocalTimezone:!1},r.prototype.getData=function(){return this._internalModel?c(this._internalModel.get("data"),this._internalModel.get("nulls"),this._internalModel.get("totalAmount"),this._internalModel.getCurrentOffset()):null},r.prototype.setAggregation=function(e){return this._validateAggregation(e),this._changeProperty("aggregation",e),this},r.prototype.getAggregation=function(){return this._aggregation},r.prototype.setOffset=function(e){return this._validateOffset(e),this._changeProperty("offset",i(e)),this},r.prototype.getOffset=function(){return o(this._offset)},r.prototype.useLocalTimezone=function(e){return this._validateLocalTimezone(e),this._changeProperty("localTimezone",e),this},r.prototype.isUsingLocalTimezone=function(){return this._localTimezone},r.prototype._checkOptions=function(e){if(a.isUndefined(e))throw this._getValidationError("timeSeriesOptionsRequired");this._validateAggregation(e.aggregation),this._validateOffset(e.offset),this._validateLocalTimezone(e.useLocalTimezone)},r.prototype._validateAggregation=function(e){if(!f(e))throw this._getValidationError("timeSeriesInvalidAggregation")},r.prototype._validateOffset=function(e){if(!a.isFinite(e)||Math.floor(e)!==e||e<-12||e>14)throw this._getValidationError("timeSeriesInvalidOffset")},r.prototype._validateLocalTimezone=function(e){if(!a.isBoolean(e))throw this._getValidationError("timeSeriesInvalidUselocaltimezone")},r.prototype._createInternalModel=function(e){this._internalModel=new u({source:this._source.$getInternalModel(),column:this._column,aggregation:this._aggregation,offset:this._offset,localTimezone:this._localTimezone,sync_on_bbox_change:!!this._boundingBoxFilter,enabled:this._enabled,column_type:"date"},{engine:e,bboxFilter:this._boundingBoxFilter&&this._boundingBoxFilter.$getInternalModel()})},e.exports=r},function(e,t,n){"use strict";function r(e){return e/3600}function i(e,t,n,i){if(!e)return null;var s=a.compact(e),u=a.max(s,function(e){return e.freq||0});return{bins:o(s,a.isFinite(u.freq)&&0!==u.freq?u.freq:null),nulls:t||0,offset:r(i),totalAmount:n}}function o(e,t){return e.map(function(e){return{index:e.bin,start:e.start,end:e.end,min:e.min,max:e.max,freq:e.freq,normalized:a.isFinite(e.freq)&&t>0?e.freq/t:0}})}var a=n(0);e.exports=i},function(e,t,n){"use strict";var r=n(136),i=n(137),o=n(139),a=n(141),s=n(142),u=n(143),c=n(144);e.exports={BoundingBox:r,BoundingBoxLeaflet:i,BoundingBoxGoogleMaps:o,Category:a,Range:s,AND:u,OR:c}},function(e,t,n){"use strict";function r(){this._internalModel=new a}var i=n(0),o=n(7),a=n(29),s=n(4);r.prototype=Object.create(o.prototype),r.prototype.setBounds=function(e){return this._checkBounds(e),this._internalModel.setBounds(e),this.trigger("boundsChanged",e),this},r.prototype.resetBounds=function(){return this.setBounds({west:0,south:0,east:0,north:0})},r.prototype.getBounds=function(){return this._internalModel.getBounds()},r.prototype._checkBounds=function(e){if(i.isUndefined(e)||i.isUndefined(e.west)||i.isUndefined(e.south)||i.isUndefined(e.east)||i.isUndefined(e.north)||!i.isNumber(e.west)||!i.isNumber(e.south)||!i.isNumber(e.east)||!i.isNumber(e.north))throw new s("filter","invalidBoundsObject")},r.prototype.$getInternalModel=function(){return this._internalModel},e.exports=r},function(e,t,n){"use strict";function r(e){if(!i(e))throw new Error("Bounding box requires a Leaflet map but got: "+e);var t=new a(e);this._internalModel=new s(t),this.listenTo(this._internalModel,"boundsChanged",this._onBoundsChanged)}function i(e){return u.isLeafletLoaded(),e instanceof L.Map}var o=n(7),a=n(138),s=n(29),u=n(6);r.prototype=Object.create(o.prototype),r.prototype.getBounds=function(){return this._internalModel.getBounds()},r.prototype._onBoundsChanged=function(e){this.trigger("boundsChanged",e)},r.prototype.$getInternalModel=function(){return this._internalModel},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(2);e.exports=i.extend({initialize:function(e){this._map=e,this._debouncedTriggerBoundsChanged=r.debounce(this._triggerBoundsChanged,200),this._map.on("move zoom",this._debouncedTriggerBoundsChanged,this)},getBounds:function(){var e=this._map.getBounds(),t=e.getSouthWest(),n=e.getNorthEast();return{west:t.lng,south:t.lat,east:n.lng,north:n.lat}},clean:function(){this._map.off("move zoom")},_triggerBoundsChanged:function(){this.trigger("boundsChanged",this.getBounds())}})},function(e,t,n){"use strict";function r(e){if(!i(e))throw new Error("Bounding box requires a Google Maps map but got: "+e);var t=new a(e);this._internalModel=new s(t),this.listenTo(this._internalModel,"boundsChanged",this._onBoundsChanged)}function i(e){return u.isGoogleMapsLoaded(),e instanceof google.maps.Map}var o=n(7),a=n(140),s=n(29),u=n(6);r.prototype=Object.create(o.prototype),r.prototype.getBounds=function(){return this._internalModel.getBounds()},r.prototype._onBoundsChanged=function(e){this.trigger("boundsChanged",e)},r.prototype.$getInternalModel=function(){return this._internalModel},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(2);e.exports=i.extend({initialize:function(e){this._isReady=!1,this._map=e,this._debouncedTriggerBoundsChanged=r.debounce(this._triggerBoundsChanged,200),google.maps.event.addListener(this._map,"bounds_changed",this._debouncedTriggerBoundsChanged.bind(this))},getBounds:function(){if(this._isReady){var e=this._map.getBounds(),t=e.getSouthWest(),n=e.getNorthEast();return{west:t.lng(),south:t.lat(),east:n.lng(),north:n.lat()}}return{west:0,south:0,east:0,north:0}},clean:function(){google.maps.event.clearListeners(this._map,"bounds_changed")},_triggerBoundsChanged:function(){this._isReady=!0,this.trigger("boundsChanged",this.getBounds())}})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(15),u={in:{parameters:[{name:"in",allowedTypes:["Array","String","Object"]}]},notIn:{parameters:[{name:"notIn",allowedTypes:["Array","String","Object"]}]},eq:{parameters:[{name:"eq",allowedTypes:["String","Number","Date","Object"]}]},notEq:{parameters:[{name:"notEq",allowedTypes:["String","Number","Date","Object"]}]},like:{parameters:[{name:"like",allowedTypes:["String"]}]},similarTo:{parameters:[{name:"similarTo",allowedTypes:["String"]}]}},c=Object.freeze(Object.keys(u)),l=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2];r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return a.SQL_TEMPLATES=a._getSQLTemplates(),a.ALLOWED_FILTERS=c,a.PARAMETER_SPECIFICATION=u,a._checkFilters(n),a._filters=n,a}return o(t,e),a(t,[{key:"_getSQLTemplates",value:function(){return{in:"<% if (value) { %><%= column %> IN (<%= value.query || value %>)<% } else { %>true = false<% } %>",notIn:"<% if (value) { %><%= column %> NOT IN (<%= value.query || value %>)<% } %>",eq:'<%= column %> = <%= value.query ? "(" + value.query + ")" : value %>',notEq:'<%= column %> != <%= value.query ? "(" + value.query + ")" : value %>',like:"<%= column %> LIKE <%= value %>",similarTo:"<%= column %> SIMILAR TO <%= value %>"}}}]),t}(s);e.exports=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(15),u={lt:{parameters:[{name:"lt",allowedTypes:["Number","Date","Object"]}]},lte:{parameters:[{name:"lte",allowedTypes:["Number","Date","Object"]}]},gt:{parameters:[{name:"gt",allowedTypes:["Number","Date","Object"]}]},gte:{parameters:[{name:"gte",allowedTypes:["Number","Date","Object"]}]},between:{parameters:[{name:"between.min",allowedTypes:["Number","Date"]},{name:"between.max",allowedTypes:["Number","Date"]}]},notBetween:{parameters:[{name:"notBetween.min",allowedTypes:["Number","Date"]},{name:"notBetween.max",allowedTypes:["Number","Date"]}]},betweenSymmetric:{parameters:[{name:"betweenSymmetric.min",allowedTypes:["Number","Date"]},{name:"betweenSymmetric.max",allowedTypes:["Number","Date"]}]},notBetweenSymmetric:{parameters:[{name:"notBetweenSymmetric.min",allowedTypes:["Number","Date"]},{name:"notBetweenSymmetric.max",allowedTypes:["Number","Date"]}]}},c=Object.freeze(Object.keys(u)),l=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2];r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return a.SQL_TEMPLATES=a._getSQLTemplates(),a.ALLOWED_FILTERS=c,a.PARAMETER_SPECIFICATION=u,a._checkFilters(n),a._filters=n,a}return o(t,e),a(t,[{key:"_getSQLTemplates",value:function(){return{lt:'<%= column %> < <%= value.query ? "(" + value.query + ")" : value %>',lte:'<%= column %> <= <%= value.query ? "(" + value.query + ")" : value %>',gt:'<%= column %> > <%= value.query ? "(" + value.query + ")" : value %>',gte:'<%= column %> >= <%= value.query ? "(" + value.query + ")" : value %>',between:"<%= column %> BETWEEN <%= value.min %> AND <%= value.max %>",notBetween:"<%= column %> NOT BETWEEN <%= value.min %> AND <%= value.max %>",betweenSymmetric:"<%= column %> BETWEEN SYMMETRIC <%= value.min %> AND <%= value.max %>",notBetweenSymmetric:"<%= column %> NOT BETWEEN SYMMETRIC <%= value.min %> AND <%= value.max %>"}}}]),t}(s);e.exports=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(26),s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.JOIN_OPERATOR="AND",n}return o(t,e),t}(a);e.exports=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(26),s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.JOIN_OPERATOR="OR",n}return o(t,e),t}(a);e.exports=s},function(e,t,n){"use strict";function r(e){return function(t,n){return u(e(t),n)}}function i(e,t){return[e,t]}function o(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=k?10:o>=P?5:o>=O?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=k?10:o>=P?5:o>=O?2:1)}function a(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=k?i*=10:o>=P?i*=5:o>=O&&(i*=2),t<e?-i:i}function s(e){return e.length}n.r(t);var u=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},c=function(e){return 1===e.length&&(e=r(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}},l=c(u),f=l.right,h=l.left,p=f,d=function(e,t){null==t&&(t=i);for(var n=0,r=e.length-1,o=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(o,o=e[++n]);return a},m=function(e,t,n){var r,o,a,s,u=e.length,c=t.length,l=new Array(u*c);for(null==n&&(n=i),r=a=0;r<u;++r)for(s=e[r],o=0;o<c;++o,++a)l[a]=n(s,t[o]);return l},g=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},y=function(e){return null===e?NaN:+e},v=function(e,t){var n,r,i=e.length,o=0,a=-1,s=0,u=0;if(null==t)for(;++a<i;)isNaN(n=y(e[a]))||(r=n-s,s+=r/++o,u+=r*(n-s));else for(;++a<i;)isNaN(n=y(t(e[a],a,e)))||(r=n-s,s+=r/++o,u+=r*(n-s));if(o>1)return u/(o-1)},_=function(e,t){var n=v(e,t);return n?Math.sqrt(n):n},b=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},w=Array.prototype,x=w.slice,C=w.map,E=function(e){return function(){return e}},T=function(e){return e},S=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o},k=Math.sqrt(50),P=Math.sqrt(10),O=Math.sqrt(2),L=function(e,t,n){var r,i,a,s,u=-1;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(s=o(e,t,n))||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),t=Math.floor(t/s),a=new Array(i=Math.ceil(t-e+1));++u<i;)a[u]=(e+u)*s;else for(e=Math.floor(e*s),t=Math.ceil(t*s),a=new Array(i=Math.ceil(e-t+1));++u<i;)a[u]=(e-u)/s;return r&&a.reverse(),a},M=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},A=function(){function e(e){var i,o,s=e.length,u=new Array(s);for(i=0;i<s;++i)u[i]=t(e[i],i,e);var c=n(u),l=c[0],f=c[1],h=r(u,l,f);Array.isArray(h)||(h=a(l,f,h),h=S(Math.ceil(l/h)*h,Math.floor(f/h)*h,h));for(var d=h.length;h[0]<=l;)h.shift(),--d;for(;h[d-1]>f;)h.pop(),--d;var m,g=new Array(d+1);for(i=0;i<=d;++i)m=g[i]=[],m.x0=i>0?h[i-1]:l,m.x1=i<d?h[i]:f;for(i=0;i<s;++i)o=u[i],l<=o&&o<=f&&g[p(h,o,0,d)].push(e[i]);return g}var t=T,n=b,r=M;return e.value=function(n){return arguments.length?(t="function"==typeof n?n:E(n),e):t},e.domain=function(t){return arguments.length?(n="function"==typeof t?t:E([t[0],t[1]]),e):n},e.thresholds=function(t){return arguments.length?(r="function"==typeof t?t:E(Array.isArray(t)?x.call(t):t),e):r},e},R=function(e,t,n){if(null==n&&(n=y),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}},j=function(e,t,n){return e=C.call(e,y).sort(u),Math.ceil((n-t)/(2*(R(e,.75)-R(e,.25))*Math.pow(e.length,-1/3)))},N=function(e,t,n){return Math.ceil((n-t)/(3.5*_(e)*Math.pow(e.length,-1/3)))},I=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r},B=function(e,t){var n,r=e.length,i=r,o=-1,a=0;if(null==t)for(;++o<r;)isNaN(n=y(e[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=y(t(e[o],o,e)))?--i:a+=n;if(i)return a/i},F=function(e,t){var n,r=e.length,i=-1,o=[];if(null==t)for(;++i<r;)isNaN(n=y(e[i]))||o.push(n);else for(;++i<r;)isNaN(n=y(t(e[i],i,e)))||o.push(n);return R(o.sort(u),.5)},D=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--a]=r[t];return n},z=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r},U=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},q=function(e,t){if(n=e.length){var n,r,i=0,o=0,a=e[o];for(null==t&&(t=u);++i<n;)(t(r=e[i],a)<0||0!==t(a,a))&&(a=r,o=i);return 0===t(a,a)?o:void 0}},H=function(e,t,n){for(var r,i,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},$=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o},W=function(e){if(!(i=e.length))return[];for(var t=-1,n=z(e,s),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r},Z=function(){return W(arguments)};n.d(t,"bisect",function(){return p}),n.d(t,"bisectRight",function(){return f}),n.d(t,"bisectLeft",function(){return h}),n.d(t,"ascending",function(){return u}),n.d(t,"bisector",function(){return c}),n.d(t,"cross",function(){return m}),n.d(t,"descending",function(){return g}),n.d(t,"deviation",function(){return _}),n.d(t,"extent",function(){return b}),n.d(t,"histogram",function(){return A}),n.d(t,"thresholdFreedmanDiaconis",function(){return j}),n.d(t,"thresholdScott",function(){return N}),n.d(t,"thresholdSturges",function(){return M}),n.d(t,"max",function(){return I}),n.d(t,"mean",function(){return B}),n.d(t,"median",function(){return F}),n.d(t,"merge",function(){return D}),n.d(t,"min",function(){return z}),n.d(t,"pairs",function(){return d}),n.d(t,"permute",function(){return U}),n.d(t,"quantile",function(){return R}),n.d(t,"range",function(){return S}),n.d(t,"scan",function(){return q}),n.d(t,"shuffle",function(){return H}),n.d(t,"sum",function(){return $}),n.d(t,"ticks",function(){return L}),n.d(t,"tickIncrement",function(){return o}),n.d(t,"tickStep",function(){return a}),n.d(t,"transpose",function(){return W}),n.d(t,"variance",function(){return v}),n.d(t,"zip",function(){return Z})}])})},function(e,t,n){"use strict";var r=n(97);n.d(t,"a",function(){return r.a});var i=n(103);n.d(t,"b",function(){return i.a});var o=n(104);n.d(t,"c",function(){return o.a});var a=n(42);n.d(t,"d",function(){return a.a});var s=n(22);n.d(t,"e",function(){return s.a});var u=n(107);n.d(t,"f",function(){return u.a});var c=n(108);n.d(t,"g",function(){return c.a});var l=n(23);n.d(t,"h",function(){return l.a});var f=n(109);n.d(t,"i",function(){return f.a})},function(e,t,n){"use strict";function r(e){return"[object Array]"===E.call(e)}function i(e){return"[object ArrayBuffer]"===E.call(e)}function o(e){return"undefined"!=typeof FormData&&e instanceof FormData}function a(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function s(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e){return void 0===e}function l(e){return null!==e&&"object"==typeof e}function f(e){return"[object Date]"===E.call(e)}function h(e){return"[object File]"===E.call(e)}function p(e){return"[object Blob]"===E.call(e)}function d(e){return"[object Function]"===E.call(e)}function m(e){return l(e)&&d(e.pipe)}function g(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function y(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function v(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function _(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),r(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function b(){function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=b(t[n],e):t[n]=e}for(var t={},n=0,r=arguments.length;n<r;n++)_(arguments[n],e);return t}function w(e,t,n){return _(t,function(t,r){e[r]=n&&"function"==typeof t?x(t,n):t}),e}var x=n(46),C=n(161),E=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:i,isBuffer:C,isFormData:o,isArrayBufferView:a,isString:s,isNumber:u,isObject:l,isUndefined:c,isDate:f,isFile:h,isBlob:p,isFunction:d,isStream:m,isURLSearchParams:g,isStandardBrowserEnv:v,forEach:_,merge:b,extend:w,trim:y}},function(e,t,n){e.exports=n(139)()},function(e,t,n){e.exports=n(98)()},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.STORE_LAYERS="@Layers/STORE",i=(t.storeLayers=function(e){return{type:r,layers:e}},t.SET_MAP="@Map/SET"),o=(t.setMap=function(e){return{type:i,map:e}},t.CHANGE_VIEWPORT="@Map/CHANGE_VIEWPORT"),a=(t.changeViewport=function(e){return{type:o,viewport:e}},t.CHANGE_CARTO_BOUNDINGBOX="@Map/CHANGE_CARTO_BOUNDINGBOX"),s=(t.changeCartoBBox=function(e){return{type:a,boundingbox:e}},t.SET_BBOX="@Filters/SET_BBOX"),u=(t.setBboxFilter=function(e){return{type:s,bbox:e}},t.TOGGLE_LAYER="@Layers/TOGGLE"),c=(t.toggleLayer=function(e){return{type:u,name:e}},t.TOGGLE_THEME="@Theme/TOGGLE");t.toggleTheme=function(e){return{type:c,active:e}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),l=n(1),f=n(7),h=(r(f),n(4));r(h),n(10);n(2);var p=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={checked:!0},a=n,o(r,a)}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.setupConfig(),this.setupChecked()}},{key:"setupConfig",value:function(){var e=this.state.checked;this.widget.checked=e}},{key:"setupChecked",value:function(){var e=this;this.widget.addEventListener("change",function(t){e.setState({checked:t.detail}),!0===t.detail?e.props.layer.layer.show():!1===t.detail&&e.props.layer.layer.hide()})}},{key:"render",value:function(){var e=this;return c.default.createElement("div",null,c.default.createElement("span",{className:"as-display--block"},c.default.createElement("p",{className:"as-body"},this.props.layer.name)),c.default.createElement("span",{className:"as-display--block"},c.default.createElement("as-switch",{checked:!0,ref:function(t){e.widget=t}})))}}]),t}(u.Component),d=function(e){return{client:e.client,map:e.map,filters:e.filters,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},m=function(e){return{}};t.default=(0,l.connect)(d,m)(p)},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;u=new Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},function(e,t,n){"use strict";t.__esModule=!0;var r=(t.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},t.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e},t.hasBasename=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)});t.stripBasename=function(e,t){return r(e,t)?e.substr(t.length):e},t.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},t.parsePath=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},t.createPath=function(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}},function(e,t,n){e.exports=n(90)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={SQL_API_URL:"https://mforrest.carto.com/api/v2/sql?q=",IMPORT_API_URL:"https://mforrest.carto/api/v1/imports",BASEMAP:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}.png",BASEMAP_LABELS:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}.png",USERNAME:"mforrest",API_KEY:"default_public",CENTER:[33.753707,-84.389363],ZOOM:6};t.default=r},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function r(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.a=r},function(e,t,n){"use strict";function r(e){if(!a.a(e)||i.a(e)!=s)return!1;var t=o.a(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==h}var i=n(69),o=n(74),a=n(76),s="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=l.call(Object);t.a=r},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.createLocation=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(95),a=r(o),s=n(96),u=r(s),c=n(13);t.createLocation=function(e,t,n,r){var o=void 0;"string"==typeof e?(o=(0,c.parsePath)(e),o.state=t):(o=i({},e),void 0===o.pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=(0,a.default)(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o},t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,u.default)(e.state,t.state)}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(){var e=null,t=function(t){return(0,i.default)(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},n=function(t,n,r,o){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof r?r(a,o):((0,i.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==a)}else o(!0)},r=[];return{setPrompt:t,confirmTransitionTo:n,appendListener:function(e){var t=!0,n=function(){t&&e.apply(void 0,arguments)};return r.push(n),function(){t=!1,r=r.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach(function(e){return e.apply(void 0,t)})}}};t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(9),s=n.n(a),u=n(12),c=n.n(u),l=n(0),f=n.n(l),h=n(8),p=n.n(h),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(u))),o.state={match:o.computeMatch(o.props.history.location.pathname)},a=n,i(o,a)}return o(t,e),t.prototype.getChildContext=function(){return{router:d({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;c.a(null==n||1===f.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){e.setState({match:e.computeMatch(r.location.pathname)})})},t.prototype.componentWillReceiveProps=function(e){s.a(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?f.a.Children.only(e):null},t}(f.a.Component);m.propTypes={history:p.a.object.isRequired,children:p.a.node},m.contextTypes={router:p.a.object},m.childContextTypes={router:p.a.object.isRequired},t.a=m},function(e,t,n){"use strict";var r=n(105),i=n.n(r),o={},a=0,s=function(e,t){var n=""+t.end+t.strict,r=o[n]||(o[n]={});if(r[e])return r[e];var s=[],u=i.a(e,s,t),c={re:u,keys:s};return a<1e4&&(r[e]=c,a++),c},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof t&&(t={path:t});var n=t,r=n.path,i=void 0===r?"/":r,o=n.exact,a=void 0!==o&&o,u=n.strict,c=void 0!==u&&u,l=s(i,{end:a,strict:c}),f=l.re,h=l.keys,p=f.exec(e);if(!p)return null;var d=p[0],m=p.slice(1),g=e===d;return a&&!g?null:{path:i,url:"/"===i&&""===d?"/":d,isExact:g,params:h.reduce(function(e,t,n){return e[t.name]=m[n],e},{})}};t.a=u},function(e,t,n){/* @preserve
 * Leaflet 1.3.1, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2017 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(e,n){n(t)}(0,function(e){"use strict";function t(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++){i=arguments[n];for(t in i)e[t]=i[t]}return e}function n(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}function r(e){return e._leaflet_id=e._leaflet_id||++dt,e._leaflet_id}function i(e,t,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(a,t),r=!0)}}function o(e,t,n){var r=t[1],i=t[0],o=r-i;return e===r&&n?e:((e-i)%o+o)%o+i}function a(){return!1}function s(e,t){var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function u(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function c(e){return u(e).split(/\s+/)}function l(e,t){e.hasOwnProperty("options")||(e.options=e.options?pt(e.options):{});for(var n in t)e.options[n]=t[n];return e.options}function f(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}function h(e,t){return e.replace(mt,function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"==typeof r&&(r=r(t)),r})}function p(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function d(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}function m(e){var t=+new Date,n=Math.max(0,16-(t-vt));return vt=t+n,window.setTimeout(e,n)}function g(e,t,r){if(!r||_t!==m)return _t.call(window,n(e,t));e.call(t)}function y(e){e&&bt.call(window,e)}function v(){}function _(e){if("undefined"!=typeof L&&L&&L.Mixin){e=gt(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}function b(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}function w(e,t,n){return e instanceof b?e:gt(e)?new b(e[0],e[1]):void 0===e||null===e?e:"object"==typeof e&&"x"in e&&"y"in e?new b(e.x,e.y):new b(e,t,n)}function x(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function C(e,t){return!e||e instanceof x?e:new x(e,t)}function E(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function T(e,t){return e instanceof E?e:new E(e,t)}function S(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function k(e,t,n){return e instanceof S?e:gt(e)&&"object"!=typeof e[0]?3===e.length?new S(e[0],e[1],e[2]):2===e.length?new S(e[0],e[1]):null:void 0===e||null===e?e:"object"==typeof e&&"lat"in e?new S(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new S(e,t,n)}function P(e,t,n,r){if(gt(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function O(e,t,n,r){return new P(e,t,n,r)}function M(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function A(e,t){var n,r,i,o,a,s,u="";for(n=0,i=e.length;n<i;n++){for(a=e[n],r=0,o=a.length;r<o;r++)s=a[r],u+=(r?"L":"M")+s.x+" "+s.y;u+=t?fn?"z":"x":""}return u||"M0 0"}function R(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}function j(e,t,n,r){return"touchstart"===t?I(e,n,r):"touchmove"===t?U(e,n,r):"touchend"===t&&q(e,n,r),this}function N(e,t,n){var r=e["_leaflet_"+t+n];return"touchstart"===t?e.removeEventListener(dn,r,!1):"touchmove"===t?e.removeEventListener(mn,r,!1):"touchend"===t&&(e.removeEventListener(gn,r,!1),e.removeEventListener(yn,r,!1)),this}function I(e,t,r){var i=n(function(e){if("mouse"!==e.pointerType&&e.MSPOINTER_TYPE_MOUSE&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if(!(vn.indexOf(e.target.tagName)<0))return;J(e)}z(e,t)});e["_leaflet_touchstart"+r]=i,e.addEventListener(dn,i,!1),bn||(document.documentElement.addEventListener(dn,B,!0),document.documentElement.addEventListener(mn,F,!0),document.documentElement.addEventListener(gn,D,!0),document.documentElement.addEventListener(yn,D,!0),bn=!0)}function B(e){_n[e.pointerId]=e,wn++}function F(e){_n[e.pointerId]&&(_n[e.pointerId]=e)}function D(e){delete _n[e.pointerId],wn--}function z(e,t){e.touches=[];for(var n in _n)e.touches.push(_n[n]);e.changedTouches=[e],t(e)}function U(e,t,n){var r=function(e){(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons)&&z(e,t)};e["_leaflet_touchmove"+n]=r,e.addEventListener(mn,r,!1)}function q(e,t,n){var r=function(e){z(e,t)};e["_leaflet_touchend"+n]=r,e.addEventListener(gn,r,!1),e.addEventListener(yn,r,!1)}function H(e,t,n){function r(e){var t;if(on){if(!Bt||"mouse"===e.pointerType)return;t=wn}else t=e.touches.length;if(!(t>1)){var n=Date.now(),r=n-(o||n);a=e.touches?e.touches[0]:e,s=r>0&&r<=u,o=n}}function i(e){if(s&&!a.cancelBubble){if(on){if(!Bt||"mouse"===e.pointerType)return;var n,r,i={};for(r in a)n=a[r],i[r]=n&&n.bind?n.bind(a):n;a=i}a.type="dblclick",t(a),o=null}}var o,a,s=!1,u=250;return e[En+xn+n]=r,e[En+Cn+n]=i,e[En+"dblclick"+n]=t,e.addEventListener(xn,r,!1),e.addEventListener(Cn,i,!1),e.addEventListener("dblclick",t,!1),this}function $(e,t){var n=e[En+xn+t],r=e[En+Cn+t],i=e[En+"dblclick"+t];return e.removeEventListener(xn,n,!1),e.removeEventListener(Cn,r,!1),Bt||e.removeEventListener("dblclick",i,!1),this}function W(e,t,n,r){if("object"==typeof t)for(var i in t)V(e,i,t[i],n);else{t=c(t);for(var o=0,a=t.length;o<a;o++)V(e,t[o],n,r)}return this}function Z(e,t,n,r){if("object"==typeof t)for(var i in t)G(e,i,t[i],n);else if(t){t=c(t);for(var o=0,a=t.length;o<a;o++)G(e,t[o],n,r)}else{for(var s in e[Tn])G(e,s,e[Tn][s]);delete e[Tn]}return this}function V(e,t,n,i){var o=t+r(n)+(i?"_"+r(i):"");if(e[Tn]&&e[Tn][o])return this;var a=function(t){return n.call(i||e,t||window.event)},s=a;on&&0===t.indexOf("touch")?j(e,t,a,o):!an||"dblclick"!==t||!H||on&&$t?"addEventListener"in e?"mousewheel"===t?e.addEventListener("onwheel"in e?"wheel":"mousewheel",a,!1):"mouseenter"===t||"mouseleave"===t?(a=function(t){t=t||window.event,ie(e,t)&&s(t)},e.addEventListener("mouseenter"===t?"mouseover":"mouseout",a,!1)):("click"===t&&Dt&&(a=function(e){oe(e,s)}),e.addEventListener(t,a,!1)):"attachEvent"in e&&e.attachEvent("on"+t,a):H(e,a,o),e[Tn]=e[Tn]||{},e[Tn][o]=a}function G(e,t,n,i){var o=t+r(n)+(i?"_"+r(i):""),a=e[Tn]&&e[Tn][o];if(!a)return this;on&&0===t.indexOf("touch")?N(e,t,o):!an||"dblclick"!==t||!$||on&&$t?"removeEventListener"in e?"mousewheel"===t?e.removeEventListener("onwheel"in e?"wheel":"mousewheel",a,!1):e.removeEventListener("mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,a,!1):"detachEvent"in e&&e.detachEvent("on"+t,a):$(e,o),e[Tn][o]=null}function K(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,re(e),this}function Y(e){return V(e,"mousewheel",K),this}function Q(e){return W(e,"mousedown touchstart dblclick",K),V(e,"click",ne),this}function J(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function X(e){return J(e),K(e),this}function ee(e,t){if(!t)return new b(e.clientX,e.clientY);var n=t.getBoundingClientRect(),r=n.width/t.offsetWidth||1,i=n.height/t.offsetHeight||1;return new b(e.clientX/r-n.left-t.clientLeft,e.clientY/i-n.top-t.clientTop)}function te(e){return Bt?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Sn:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function ne(e){kn[e.type]=!0}function re(e){var t=kn[e.type];return kn[e.type]=!1,t}function ie(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(e){return!1}return n!==e}function oe(e,t){var n=e.timeStamp||e.originalEvent&&e.originalEvent.timeStamp,r=Pt&&n-Pt;if(r&&r>100&&r<500||e.target._simulatedClick&&!e._simulated)return void X(e);Pt=n,t(e)}function ae(e){return"string"==typeof e?document.getElementById(e):e}function se(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function ue(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function ce(e){var t=e.parentNode;t&&t.removeChild(e)}function le(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function fe(e){var t=e.parentNode;t.lastChild!==e&&t.appendChild(e)}function he(e){var t=e.parentNode;t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function pe(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=ye(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function de(e,t){if(void 0!==e.classList)for(var n=c(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!pe(e,t)){var o=ye(e);ge(e,(o?o+" ":"")+t)}}function me(e,t){void 0!==e.classList?e.classList.remove(t):ge(e,u((" "+ye(e)+" ").replace(" "+t+" "," ")))}function ge(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function ye(e){return void 0===e.className.baseVal?e.className:e.className.baseVal}function ve(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&_e(e,t)}function _e(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(e){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function be(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function we(e,t,n){var r=t||new b(0,0);e.style[On]=(Yt?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function xe(e,t){e._leaflet_pos=t,Xt?we(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function Ce(e){return e._leaflet_pos||new b(0,0)}function Ee(){W(window,"dragstart",J)}function Te(){Z(window,"dragstart",J)}function Se(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(ke(),Rn=e,jn=e.style.outline,e.style.outline="none",W(window,"keydown",ke))}function ke(){Rn&&(Rn.style.outline=jn,Rn=void 0,jn=void 0,Z(window,"keydown",ke))}function Pe(e,t){return new Bn(e,t)}function Oe(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=je(e,n),e=Ae(e,n)}function Le(e,t,n){return Math.sqrt(De(e,t,n,!0))}function Me(e,t,n){return De(e,t,n)}function Ae(e,t){var n=e.length,r=typeof Uint8Array!=void 0+""?Uint8Array:Array,i=new r(n);i[0]=i[n-1]=1,Re(e,i,t,0,n-1);var o,a=[];for(o=0;o<n;o++)i[o]&&a.push(e[o]);return a}function Re(e,t,n,r,i){var o,a,s,u=0;for(a=r+1;a<=i-1;a++)(s=De(e[a],e[r],e[i],!0))>u&&(o=a,u=s);u>n&&(t[o]=1,Re(e,t,n,r,o),Re(e,t,n,o,i))}function je(e,t){for(var n=[e[0]],r=1,i=0,o=e.length;r<o;r++)Fe(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<o-1&&n.push(e[o-1]),n}function Ne(e,t,n,r,i){var o,a,s,u=r?Kn:Be(e,n),c=Be(t,n);for(Kn=c;;){if(!(u|c))return[e,t];if(u&c)return!1;o=u||c,a=Ie(e,t,o,n,i),s=Be(a,n),o===u?(e=a,u=s):(t=a,c=s)}}function Ie(e,t,n,r,i){var o,a,s=t.x-e.x,u=t.y-e.y,c=r.min,l=r.max;return 8&n?(o=e.x+s*(l.y-e.y)/u,a=l.y):4&n?(o=e.x+s*(c.y-e.y)/u,a=c.y):2&n?(o=l.x,a=e.y+u*(l.x-e.x)/s):1&n&&(o=c.x,a=e.y+u*(c.x-e.x)/s),new b(o,a,i)}function Be(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Fe(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function De(e,t,n,r){var i,o=t.x,a=t.y,s=n.x-o,u=n.y-a,c=s*s+u*u;return c>0&&(i=((e.x-o)*s+(e.y-a)*u)/c,i>1?(o=n.x,a=n.y):i>0&&(o+=s*i,a+=u*i)),s=e.x-o,u=e.y-a,r?s*s+u*u:new b(o,a)}function ze(e){return!gt(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function Ue(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ze(e)}function qe(e,t,n){var r,i,o,a,s,u,c,l,f,h=[1,4,2,8];for(i=0,c=e.length;i<c;i++)e[i]._code=Be(e[i],t);for(a=0;a<4;a++){for(l=h[a],r=[],i=0,c=e.length,o=c-1;i<c;o=i++)s=e[i],u=e[o],s._code&l?u._code&l||(f=Ie(u,s,l,t,n),f._code=Be(f,t),r.push(f)):(u._code&l&&(f=Ie(u,s,l,t,n),f._code=Be(f,t),r.push(f)),r.push(s));e=r}return e}function He(e){return new dr(e)}function $e(e,t){return new yr(e,t)}function We(e,t){return new _r(e,t)}function Ze(e,t,n){return new br(e,t,n)}function Ve(e,t){return new wr(e,t)}function Ge(e,t){return new xr(e,t)}function Ke(e,t){var n,r,i,o,a="Feature"===e.type?e.geometry:e,s=a?a.coordinates:null,u=[],c=t&&t.pointToLayer,l=t&&t.coordsToLatLng||Ye;if(!s&&!a)return null;switch(a.type){case"Point":return n=l(s),c?c(e,n):new yr(n);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=l(s[i]),u.push(c?c(e,n):new yr(n));return new hr(u);case"LineString":case"MultiLineString":return r=Qe(s,"LineString"===a.type?0:1,l),new wr(r,t);case"Polygon":case"MultiPolygon":return r=Qe(s,"Polygon"===a.type?1:2,l),new xr(r,t);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var f=Ke({geometry:a.geometries[i],type:"Feature",properties:e.properties},t);f&&u.push(f)}return new hr(u);default:throw new Error("Invalid GeoJSON object.")}}function Ye(e){return new S(e[1],e[0],e[2])}function Qe(e,t,n){for(var r,i=[],o=0,a=e.length;o<a;o++)r=t?Qe(e[o],t-1,n):(n||Ye)(e[o]),i.push(r);return i}function Je(e,t){return t="number"==typeof t?t:6,void 0!==e.alt?[s(e.lng,t),s(e.lat,t),s(e.alt,t)]:[s(e.lng,t),s(e.lat,t)]}function Xe(e,t,n,r){for(var i=[],o=0,a=e.length;o<a;o++)i.push(t?Xe(e[o],t-1,n,r):Je(e[o],r));return!t&&n&&i.push(i[0]),i}function et(e,n){return e.feature?t({},e.feature,{geometry:n}):tt(n)}function tt(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}function nt(e,t){return new Cr(e,t)}function rt(e,t,n){return new Pr(e,t,n)}function it(e){return new jr(e)}function ot(e){return new Nr(e)}function at(e,t){return new Ir(e,t)}function st(e,t){return new Br(e,t)}function ut(e){return ln?new Dr(e):null}function ct(e){return fn||hn?new Hr(e):null}function lt(e,t){return new $r(e,t)}function ft(){return window.L=Jr,this}var ht=Object.freeze;Object.freeze=function(e){return e};var pt=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),dt=0,mt=/\{ *([\w_-]+) *\}/g,gt=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},yt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",vt=0,_t=window.requestAnimationFrame||d("RequestAnimationFrame")||m,bt=window.cancelAnimationFrame||d("CancelAnimationFrame")||d("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)},wt=(Object.freeze||Object)({freeze:ht,extend:t,create:pt,bind:n,lastId:dt,stamp:r,throttle:i,wrapNum:o,falseFn:a,formatNum:s,trim:u,splitWords:c,setOptions:l,getParamString:f,template:h,isArray:gt,indexOf:p,emptyImageUrl:yt,requestFn:_t,cancelFn:bt,requestAnimFrame:g,cancelAnimFrame:y});v.extend=function(e){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=n.__super__=this.prototype,i=pt(r);i.constructor=n,n.prototype=i;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(n[o]=this[o]);return e.statics&&(t(n,e.statics),delete e.statics),e.includes&&(_(e.includes),t.apply(null,[i].concat(e.includes)),delete e.includes),i.options&&(e.options=t(pt(i.options),e.options)),t(i,e),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=i._initHooks.length;e<t;e++)i._initHooks[e].call(this)}},n},v.include=function(e){return t(this.prototype,e),this},v.mergeOptions=function(e){return t(this.prototype.options,e),this},v.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var xt={on:function(e,t,n){if("object"==typeof e)for(var r in e)this._on(r,e[r],t);else{e=c(e);for(var i=0,o=e.length;i<o;i++)this._on(e[i],t,n)}return this},off:function(e,t,n){if(e)if("object"==typeof e)for(var r in e)this._off(r,e[r],t);else{e=c(e);for(var i=0,o=e.length;i<o;i++)this._off(e[i],t,n)}else delete this._events;return this},_on:function(e,t,n){this._events=this._events||{};var r=this._events[e];r||(r=[],this._events[e]=r),n===this&&(n=void 0);for(var i={fn:t,ctx:n},o=r,a=0,s=o.length;a<s;a++)if(o[a].fn===t&&o[a].ctx===n)return;o.push(i)},_off:function(e,t,n){var r,i,o;if(this._events&&(r=this._events[e])){if(!t){for(i=0,o=r.length;i<o;i++)r[i].fn=a;return void delete this._events[e]}if(n===this&&(n=void 0),r)for(i=0,o=r.length;i<o;i++){var s=r[i];if(s.ctx===n&&s.fn===t)return s.fn=a,this._firingCount&&(this._events[e]=r=r.slice()),void r.splice(i,1)}}},fire:function(e,n,r){if(!this.listens(e,r))return this;var i=t({},n,{type:e,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var u=o[a];u.fn.call(u.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t){var n=this._events&&this._events[e];if(n&&n.length)return!0;if(t)for(var r in this._eventParents)if(this._eventParents[r].listens(e,t))return!0;return!1},once:function(e,t,r){if("object"==typeof e){for(var i in e)this.once(i,e[i],t);return this}var o=n(function(){this.off(e,t,r).off(e,o,r)},this);return this.on(e,t,r).on(e,o,r)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[r(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[r(e)],this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,t({layer:e.target,propagatedFrom:e.target},e),!0)}};xt.addEventListener=xt.on,xt.removeEventListener=xt.clearAllEventListeners=xt.off,xt.addOneTimeEventListener=xt.once,xt.fireEvent=xt.fire,xt.hasEventListeners=xt.listens;var Ct=v.extend(xt),Et=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};b.prototype={clone:function(){return new b(this.x,this.y)},add:function(e){return this.clone()._add(w(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(w(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new b(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new b(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Et(this.x),this.y=Et(this.y),this},distanceTo:function(e){e=w(e);var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return e=w(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=w(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+s(this.x)+", "+s(this.y)+")"}},x.prototype={extend:function(e){return e=w(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new b((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new b(this.min.x,this.max.y)},getTopRight:function(){return new b(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return e="number"==typeof e[0]||e instanceof b?w(e):C(e),e instanceof x?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=C(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>=t.x&&r.x<=n.x,a=i.y>=t.y&&r.y<=n.y;return o&&a},overlaps:function(e){e=C(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>t.x&&r.x<n.x,a=i.y>t.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)}},E.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof S)t=e,n=e;else{if(!(e instanceof E))return e?this.extend(k(e)||T(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new S(t.lat,t.lng),this._northEast=new S(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new E(new S(t.lat-r,t.lng-i),new S(n.lat+r,n.lng+i))},getCenter:function(){return new S((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new S(this.getNorth(),this.getWest())},getSouthEast:function(){return new S(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof S||"lat"in e?k(e):T(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof E?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=T(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>=t.lat&&r.lat<=n.lat,a=i.lng>=t.lng&&r.lng<=n.lng;return o&&a},overlaps:function(e){e=T(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>t.lat&&r.lat<n.lat,a=i.lng>t.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=T(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},S.prototype={equals:function(e,t){return!!e&&(e=k(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+s(this.lat,e)+", "+s(this.lng,e)+")"},distanceTo:function(e){return St.distance(this,k(e))},wrap:function(){return St.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return T([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new S(this.lat,this.lng,this.alt)}};var Tt={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new x(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?o(e.lng,this.wrapLng,!0):e.lng;return new S(this.wrapLat?o(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var o=e.getSouthWest(),a=e.getNorthEast();return new E(new S(o.lat-r,o.lng-i),new S(a.lat-r,a.lng-i))}},St=t({},Tt,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,o=Math.sin((t.lat-e.lat)*n/2),a=Math.sin((t.lng-e.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),kt={R:6378137,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new b(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new S((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=6378137*Math.PI;return new x([-e,-e],[e,e])}()};P.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new b((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var Pt,Ot,Lt,Mt,At=t({},St,{code:"EPSG:3857",projection:kt,transformation:function(){var e=.5/(Math.PI*kt.R);return O(e,.5,-e,.5)}()}),Rt=t({},At,{code:"EPSG:900913"}),jt=document.documentElement.style,Nt="ActiveXObject"in window,It=Nt&&!document.addEventListener,Bt="msLaunchUri"in navigator&&!("documentMode"in document),Ft=R("webkit"),Dt=R("android"),zt=R("android 2")||R("android 3"),Ut=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),qt=Dt&&R("Google")&&Ut<537&&!("AudioNode"in window),Ht=!!window.opera,$t=R("chrome"),Wt=R("gecko")&&!Ft&&!Ht&&!Nt,Zt=!$t&&R("safari"),Vt=R("phantom"),Gt="OTransition"in jt,Kt=0===navigator.platform.indexOf("Win"),Yt=Nt&&"transition"in jt,Qt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!zt,Jt="MozPerspective"in jt,Xt=!window.L_DISABLE_3D&&(Yt||Qt||Jt)&&!Gt&&!Vt,en="undefined"!=typeof orientation||R("mobile"),tn=en&&Ft,nn=en&&Qt,rn=!window.PointerEvent&&window.MSPointerEvent,on=!(!window.PointerEvent&&!rn),an=!window.L_NO_TOUCH&&(on||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),sn=en&&Ht,un=en&&Wt,cn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ln=function(){return!!document.createElement("canvas").getContext}(),fn=!(!document.createElementNS||!M("svg").createSVGRect),hn=!fn&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}(),pn=(Object.freeze||Object)({ie:Nt,ielt9:It,edge:Bt,webkit:Ft,android:Dt,android23:zt,androidStock:qt,opera:Ht,chrome:$t,gecko:Wt,safari:Zt,phantom:Vt,opera12:Gt,win:Kt,ie3d:Yt,webkit3d:Qt,gecko3d:Jt,any3d:Xt,mobile:en,mobileWebkit:tn,mobileWebkit3d:nn,msPointer:rn,pointer:on,touch:an,mobileOpera:sn,mobileGecko:un,retina:cn,canvas:ln,svg:fn,vml:hn}),dn=rn?"MSPointerDown":"pointerdown",mn=rn?"MSPointerMove":"pointermove",gn=rn?"MSPointerUp":"pointerup",yn=rn?"MSPointerCancel":"pointercancel",vn=["INPUT","SELECT","OPTION"],_n={},bn=!1,wn=0,xn=rn?"MSPointerDown":on?"pointerdown":"touchstart",Cn=rn?"MSPointerUp":on?"pointerup":"touchend",En="_leaflet_",Tn="_leaflet_events",Sn=Kt&&$t?2*window.devicePixelRatio:Wt?window.devicePixelRatio:1,kn={},Pn=(Object.freeze||Object)({on:W,off:Z,stopPropagation:K,disableScrollPropagation:Y,disableClickPropagation:Q,preventDefault:J,stop:X,getMousePosition:ee,getWheelDelta:te,fakeStop:ne,skipped:re,isExternalTarget:ie,addListener:W,removeListener:Z}),On=be(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),Ln=be(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Mn="webkitTransition"===Ln||"OTransition"===Ln?Ln+"End":"transitionend";if("onselectstart"in document)Ot=function(){W(window,"selectstart",J)},Lt=function(){Z(window,"selectstart",J)};else{var An=be(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ot=function(){if(An){var e=document.documentElement.style;Mt=e[An],e[An]="none"}},Lt=function(){An&&(document.documentElement.style[An]=Mt,Mt=void 0)}}var Rn,jn,Nn=(Object.freeze||Object)({TRANSFORM:On,TRANSITION:Ln,TRANSITION_END:Mn,get:ae,getStyle:se,create:ue,remove:ce,empty:le,toFront:fe,toBack:he,hasClass:pe,addClass:de,removeClass:me,setClass:ge,getClass:ye,setOpacity:ve,testProp:be,setTransform:we,setPosition:xe,getPosition:Ce,disableTextSelection:Ot,enableTextSelection:Lt,disableImageDrag:Ee,enableImageDrag:Te,preventOutline:Se,restoreOutline:ke}),In=Ct.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=Ce(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=g(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),xe(this._el,n),this.fire("step")},_complete:function(){y(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Bn=Ct.extend({options:{crs:At,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=l(this,t),this._initContainer(e),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(k(t.center),t.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=Ln&&Xt&&!sn&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),W(this._proxy,Mn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,n,r){if(n=void 0===n?this._zoom:this._limitZoom(n),e=this._limitCenter(k(e),n,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r){void 0!==r.animate&&(r.zoom=t({animate:r.animate},r.zoom),r.pan=t({animate:r.animate,duration:r.duration},r.pan));if(this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,r.zoom):this._tryAnimatedPan(e,r.pan))return clearTimeout(this._sizeTimer),this}return this._resetView(e,n),this},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Xt?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Xt?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),o=e instanceof b?e:this.latLngToContainerPoint(e),a=o.subtract(i).multiplyBy(1-1/r),s=this.containerPointToLatLng(i.add(a));return this.setView(s,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():T(e);var n=w(t.paddingTopLeft||t.padding||[0,0]),r=w(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"==typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(o),i),zoom:i}},fitBounds:function(e,t){if(e=T(e),!e.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(e=w(e).round(),t=t||{},!e.x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new In,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){de(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){function r(e){var t=e?-1:1,n=e?y:m,r=y*y-m*m+t*b*b*v*v,i=2*n*b*v,o=r/i,a=Math.sqrt(o*o+1)-o;return a<1e-9?-18:Math.log(a)}function i(e){return(Math.exp(e)-Math.exp(-e))/2}function o(e){return(Math.exp(e)+Math.exp(-e))/2}function a(e){return i(e)/o(e)}function s(e){return m*(o(w)/o(w+_*e))}function u(e){return m*(o(w)*a(w+_*e)-i(w))/b}function c(e){return 1-Math.pow(1-e,1.5)}function l(){var n=(Date.now()-x)/E,r=c(n)*C;n<=1?(this._flyToFrame=g(l,this),this._move(this.unproject(f.add(h.subtract(f).multiplyBy(u(r)/v)),d),this.getScaleZoom(m/s(r),d),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}if(n=n||{},!1===n.animate||!Xt)return this.setView(e,t,n);this._stop();var f=this.project(this.getCenter()),h=this.project(e),p=this.getSize(),d=this._zoom;e=k(e),t=void 0===t?d:t;var m=Math.max(p.x,p.y),y=m*this.getZoomScale(d,t),v=h.distanceTo(f)||1,_=1.42,b=_*_,w=r(0),x=Date.now(),C=(r(1)-w)/_,E=n.duration?1e3*n.duration:1e3*C*.8;return this._moveStart(!0,n.noMoveStart),l.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=T(e),e.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,T(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},invalidateSize:function(e){if(!this._loaded)return this;e=t({animate:!1,pan:!0},!0===e?{animate:!0}:e);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=r.divideBy(2).round(),a=i.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=t({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=n(this._handleGeolocationResponse,this),i=n(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,i,e):navigator.geolocation.getCurrentPosition(r,i,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(e){var t=e.coords.latitude,n=e.coords.longitude,r=new S(t,n),i=r.toBounds(e.coords.accuracy),o=this._locateOptions;if(o.setView){var a=this.getBoundsZoom(i);this.setView(r,o.maxZoom?Math.min(a,o.maxZoom):a)}var s={latlng:r,bounds:i,timestamp:e.timestamp};for(var u in e.coords)"number"==typeof e.coords[u]&&(s[u]=e.coords[u]);this.fire("locationfound",s)},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)ce(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),r=ue("div",n,t||this._mapPane);return e&&(this._panes[e]=r),r},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new E(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=T(e),n=w(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=e.getNorthWest(),s=e.getSouthEast(),u=this.getSize().subtract(n),c=C(this.project(s,r),this.project(a,r)).getSize(),l=Xt?this.options.zoomSnap:1,f=u.x/c.x,h=u.y/c.y,p=t?Math.max(f,h):Math.min(f,h);return r=this.getScaleZoom(p,r),l&&(r=Math.round(r/(l/100))*(l/100),r=t?Math.ceil(r/l)*l:Math.floor(r/l)*l),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new b(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new x(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(k(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(w(e),t)},layerPointToLatLng:function(e){var t=w(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(k(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(k(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(T(e))},distance:function(e,t){return this.options.crs.distance(k(e),k(t))},containerPointToLayerPoint:function(e){return w(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return w(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(w(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(k(e)))},mouseEventToContainerPoint:function(e){return ee(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ae(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");W(t,"scroll",this._onScroll,this),this._containerId=r(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Xt,de(e,"leaflet-container"+(an?" leaflet-touch":"")+(cn?" leaflet-retina":"")+(It?" leaflet-oldie":"")+(Zt?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=se(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),xe(this._mapPane,new b(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(de(e.markerPane,"leaflet-zoom-hide"),de(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){xe(this._mapPane,new b(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var r=this._zoom!==t;this._moveStart(r,!1)._move(e,t)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n){void 0===t&&(t=this._zoom);var r=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),(r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return y(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){xe(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[r(this._container)]=this;var t=e?Z:W;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Xt&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){y(this._resizeRequest),this._resizeRequest=g(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,i=[],o="mouseout"===t||"mouseover"===t,a=e.target||e.srcElement,s=!1;a;){if((n=this._targets[r(a)])&&("click"===t||"preclick"===t)&&!e._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(o&&!ie(a,e))break;if(i.push(n),o)break}if(a===this._container)break;a=a.parentNode}return i.length||s||o||!ie(a,e)||(i=[this]),i},_handleDOMEvent:function(e){if(this._loaded&&!re(e)){var t=e.type;"mousedown"!==t&&"keypress"!==t||Se(e.target||e.srcElement),this._fireDOMEvent(e,t)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,r){if("click"===e.type){var i=t({},e);i.type="preclick",this._fireDOMEvent(i,i.type,r)}if(!e._stopped&&(r=(r||[]).concat(this._findEventTargets(e,n)),r.length)){var o=r[0];"contextmenu"===n&&o.listens(n,!0)&&J(e);var a={originalEvent:e};if("keypress"!==e.type){var s=o.getLatLng&&(!o._radius||o._radius<=10);a.containerPoint=s?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(e),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?o.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var u=0;u<r.length;u++)if(r[u].fire(n,a,!0),a.originalEvent._stopped||!1===r[u].options.bubblingMouseEvents&&-1!==p(this._mouseEvents,n))return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return Ce(this._mapPane)||new b(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return C([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),o=new x(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,t);return a.round().equals([0,0])?e:this.unproject(r.add(a),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new x(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=C(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),o=r.max.subtract(e.max);return new b(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=Xt?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){me(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=ue("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(e){var t=On,n=this._proxy.style[t];we(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var e=this.getCenter(),t=this.getZoom();we(this._proxy,this.project(e,t),this.getZoomScale(t,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ce(this._proxy),delete this._proxy},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(g(function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,r,i){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,de(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:i}),setTimeout(n(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&me(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),g(function(){this._moveEnd(!0)},this))}}),Fn=v.extend({options:{position:"topright"},initialize:function(e){l(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return de(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this},remove:function(){return this._map?(ce(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Dn=function(e){return new Fn(e)};Bn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){function e(e,i){var o=n+e+" "+n+i;t[e+i]=ue("div",o,r)}var t=this._controlCorners={},n="leaflet-",r=this._controlContainer=ue("div",n+"control-container",this._container);e("top","left"),e("top","right"),e("bottom","left"),e("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)ce(this._controlCorners[e]);ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var zn=Fn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){l(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var r in e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Fn.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(r(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){de(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._form.clientHeight?(de(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=e+"px"):me(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return me(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=ue("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Q(t),Y(t);var r=this._form=ue("form",e+"-list");n&&(this._map.on("click",this.collapse,this),Dt||W(t,{mouseenter:this.expand,mouseleave:this.collapse},this));var i=this._layersLink=ue("a",e+"-toggle",t);i.href="#",i.title="Layers",an?(W(i,"click",X),W(i,"click",this.expand,this)):W(i,"focus",this.expand,this),n||this.expand(),this._baseLayersList=ue("div",e+"-base",r),this._separator=ue("div",e+"-separator",r),this._overlaysList=ue("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&r(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,r){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:r}),this.options.sortLayers&&this._layers.sort(n(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;le(this._baseLayersList),le(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(r(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),i=this._map.hasLayer(e.layer);e.overlay?(t=document.createElement("input"),t.type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=i):t=this._createRadioElement("leaflet-base-layers",i),this._layerControlInputs.push(t),t.layerId=r(e.layer),W(t,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+e.name;var a=document.createElement("div");return n.appendChild(a),a.appendChild(t),a.appendChild(o),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Un=function(e,t,n){return new zn(e,t,n)},qn=Fn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=ue("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var o=ue("a",n,r);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),Q(o),W(o,"click",X),W(o,"click",i,this),W(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";me(this._zoomInButton,t),me(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMinZoom())&&de(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMaxZoom())&&de(this._zoomInButton,t)}});Bn.mergeOptions({zoomControl:!0}),Bn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new qn,this.addControl(this.zoomControl))});var Hn=function(e){return new qn(e)},$n=Fn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t=ue("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",t),e.on(n.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),t},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=ue("div",t,n)),e.imperial&&(this._iScale=ue("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}}),Wn=function(e){return new $n(e)},Zn=Fn.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){l(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=ue("div","leaflet-control-attribution"),Q(this._container);for(var t in e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(" | ")}}});Bn.mergeOptions({attributionControl:!0}),Bn.addInitHook(function(){this.options.attributionControl&&(new Zn).addTo(this)});var Vn=function(e){return new Zn(e)};Fn.Layers=zn,Fn.Zoom=qn,Fn.Scale=$n,Fn.Attribution=Zn,Dn.layers=Un,Dn.zoom=Hn,Dn.scale=Wn,Dn.attribution=Vn;var Gn=v.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gn.addTo=function(e,t){return e.addHandler(t,this),this};var Kn,Yn={Events:xt},Qn=an?"touchstart mousedown":"mousedown",Jn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Xn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},er=Ct.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){l(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(W(this._dragStartTarget,Qn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(er._dragging===this&&this.finishDrag(),Z(this._dragStartTarget,Qn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&this._enabled&&(this._moved=!1,!pe(this._element,"leaflet-zoom-anim")&&!(er._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(er._dragging=this,this._preventOutline&&Se(this._element),Ee(),Ot(),this._moving)))){this.fire("down");var t=e.touches?e.touches[0]:e;this._startPoint=new b(t.clientX,t.clientY),W(document,Xn[e.type],this._onMove,this),W(document,Jn[e.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated&&this._enabled){if(e.touches&&e.touches.length>1)return void(this._moved=!0);var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new b(t.clientX,t.clientY),r=n.subtract(this._startPoint);(r.x||r.y)&&(Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(J(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Ce(this._element).subtract(r),de(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),de(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,y(this._animRequest),this._lastEvent=e,this._animRequest=g(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),xe(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){me(document.body,"leaflet-dragging"),this._lastTarget&&(me(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var e in Xn)Z(document,Xn[e],this._onMove,this),Z(document,Jn[e],this._onUp,this);Te(),Lt(),this._moved&&this._moving&&(y(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,er._dragging=!1}}),tr=(Object.freeze||Object)({simplify:Oe,pointToSegmentDistance:Le,closestPointOnSegment:Me,clipSegment:Ne,_getEdgeIntersection:Ie,_getBitCode:Be,_sqClosestPointOnSegment:De,isFlat:ze,_flat:Ue}),nr=(Object.freeze||Object)({clipPolygon:qe}),rr={project:function(e){return new b(e.lng,e.lat)},unproject:function(e){return new S(e.y,e.x)},bounds:new x([-180,-90],[180,90])},ir={R:6378137,R_MINOR:6356752.314245179,bounds:new x([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new b(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-e.y/r),s=Math.PI/2-2*Math.atan(a),u=0,c=.1;u<15&&Math.abs(c)>1e-7;u++)t=o*Math.sin(s),t=Math.pow((1-t)/(1+t),o/2),c=Math.PI/2-2*Math.atan(a*t)-s,s+=c;return new S(s*n,e.x*n/r)}},or=(Object.freeze||Object)({LonLat:rr,Mercator:ir,SphericalMercator:kt}),ar=t({},St,{code:"EPSG:3395",projection:ir,transformation:function(){var e=.5/(Math.PI*ir.R);return O(e,.5,-e,.5)}()}),sr=t({},St,{code:"EPSG:4326",projection:rr,transformation:O(1/180,1,-1/180,.5)}),ur=t({},Tt,{projection:rr,transformation:O(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});Tt.Earth=St,Tt.EPSG3395=ar,Tt.EPSG3857=At,Tt.EPSG900913=Rt,Tt.EPSG4326=sr,Tt.Simple=ur;var cr=Ct.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[r(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[r(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",function(){t.off(n,this)},this)}this.onAdd(t),this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this})}}});Bn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=r(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=r(e);return this._layers[t]?(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return!!e&&r(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){e=e?gt(e)?e:[e]:[];for(var t=0,n=e.length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[r(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=r(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var lr=cr.extend({initialize:function(e,t){l(this,t),this._layers={};var n,r;if(e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&(e in this._layers||this.getLayerId(e)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)n=this._layers[t],n[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return r(e)}}),fr=function(e,t){return new lr(e,t)},hr=lr.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),lr.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),lr.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new E;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),pr=function(e){return new hr(e)},dr=v.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(e){l(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"==typeof r&&(r=[r,r]);var i=w(r),o=w("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return t=t||document.createElement("img"),t.src=e,t},_getIconUrl:function(e){return cn&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}}),mr=dr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return mr.imagePath||(mr.imagePath=this._detectIconPath()),(this.options.imagePath||mr.imagePath)+dr.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=ue("div","leaflet-default-icon-path",document.body),t=se(e,"background-image")||se(e,"backgroundImage");return document.body.removeChild(e),t=null===t||0!==t.indexOf("url")?"":t.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),gr=Gn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new er(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),de(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&me(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=L.DomUtil.getPosition(t._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),u=C(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!u.contains(o)){var c=w((Math.max(u.max.x,o.x)-u.max.x)/(a.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(a.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(a.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(a.min.y-u.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),L.DomUtil.setPosition(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=g(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(y(this._panRequest),this._panRequest=g(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=Ce(t._icon),i=t._map.layerPointToLatLng(r);n&&xe(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){y(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),yr=cr.extend({options:{icon:new mr,interactive:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(e,t){l(this,t),this._latlng=k(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=k(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),de(n,t),e.keyboard&&(n.tabIndex="0"),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var i=e.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(de(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ce(this._shadow),this._shadow=null},_setPos:function(e){xe(this._icon,e),this._shadow&&xe(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon.style.zIndex=this._zIndex+e},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(de(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),gr)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new gr(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;ve(this._icon,e),this._shadow&&ve(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),vr=cr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return l(this,e),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),_r=vr.extend({options:{fill:!0,radius:10},initialize:function(e,t){l(this,t),this._latlng=k(e),this._radius=this.options.radius},setLatLng:function(e){return this._latlng=k(e),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return vr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new x(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),br=_r.extend({initialize:function(e,n,r){if("number"==typeof n&&(n=t({},r,{radius:n})),l(this,n),this._latlng=k(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new E(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:vr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===St.distance){var i=Math.PI/180,o=this._mRadius/St.R/i,a=n.project([t+o,e]),s=n.project([t-o,e]),u=a.add(s).divideBy(2),c=n.unproject(u).lat,l=Math.acos((Math.cos(o*i)-Math.sin(t*i)*Math.sin(c*i))/(Math.cos(t*i)*Math.cos(c*i)))/i;(isNaN(l)||0===l)&&(l=o/Math.cos(Math.PI/180*t)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(l)?0:u.x-n.project([c,e-l]).x,this._radiusY=u.y-a.y}else{var f=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(f).x}this._updateBounds()}}),wr=vr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){l(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,o=De,a=0,s=this._parts.length;a<s;a++)for(var u=this._parts[a],c=1,l=u.length;c<l;c++){t=u[c-1],n=u[c];var f=o(e,t,n,!0);f<r&&(r=f,i=o(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,r,i,o,a,s=this._rings[0],u=s.length;if(!u)return null;for(e=0,t=0;e<u-1;e++)t+=s[e].distanceTo(s[e+1])/2;if(0===t)return this._map.layerPointToLatLng(s[0]);for(e=0,r=0;e<u-1;e++)if(i=s[e],o=s[e+1],n=i.distanceTo(o),(r+=n)>t)return a=(r-t)/n,this._map.layerPointToLatLng([o.x-a*(o.x-i.x),o.y-a*(o.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=k(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new E,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return ze(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=ze(e),r=0,i=e.length;r<i;r++)n?(t[r]=k(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new x;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e);var t=this._clickTolerance(),n=new b(t,t);this._bounds.isValid()&&e.isValid()&&(e.min._subtract(n),e.max._add(n),this._pxBounds=e)},_projectLatlngs:function(e,t,n){var r,i,o=e[0]instanceof S,a=e.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e)){if(this.options.noClip)return void(this._parts=this._rings);var t,n,r,i,o,a,s,u=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(s=this._rings[t],n=0,o=s.length;n<o-1;n++)(a=Ne(s[n],s[n+1],e,n,!0))&&(u[r]=u[r]||[],u[r].push(a[0]),a[1]===s[n+1]&&n!==o-2||(u[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=Oe(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,o,a,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(s=this._parts[n],r=0,a=s.length,i=a-1;r<a;i=r++)if((t||0!==r)&&Le(e,s[i],s[r])<=u)return!0;return!1}});wr._flat=Ue;var xr=wr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,r,i,o,a,s,u,c=this._rings[0],l=c.length;if(!l)return null;for(o=a=s=0,e=0,t=l-1;e<l;t=e++)n=c[e],r=c[t],i=n.y*r.x-r.y*n.x,a+=(n.x+r.x)*i,s+=(n.y+r.y)*i,o+=3*i;return u=0===o?c[0]:[a/o,s/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(e){var t=wr.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof S&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){wr.prototype._setLatLngs.call(this,e),ze(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ze(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new b(t,t);if(e=new x(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e)){if(this.options.noClip)return void(this._parts=this._rings);for(var r,i=0,o=this._rings.length;i<o;i++)r=qe(this._rings[i],e,!0),r.length&&this._parts.push(r)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,o,a,s,u,c=!1;if(!this._pxBounds.contains(e))return!1;for(i=0,s=this._parts.length;i<s;i++)for(t=this._parts[i],o=0,u=t.length,a=u-1;o<u;a=o++)n=t[o],r=t[a],n.y>e.y!=r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||wr.prototype._containsPoint.call(this,e,!0)}}),Cr=hr.extend({initialize:function(e,t){l(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=gt(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)r=i[t],(r.geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var a=Ke(e,o);return a?(a.feature=tt(e),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(e,a),this.addLayer(a)):this},resetStyle:function(e){return e.options=t({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){"function"==typeof t&&(t=t(e.feature)),e.setStyle&&e.setStyle(t)}}),Er={toGeoJSON:function(e){return et(this,{type:"Point",coordinates:Je(this.getLatLng(),e)})}};yr.include(Er),br.include(Er),_r.include(Er),wr.include({toGeoJSON:function(e){var t=!ze(this._latlngs),n=Xe(this._latlngs,t?1:0,!1,e);return et(this,{type:(t?"Multi":"")+"LineString",coordinates:n})}}),xr.include({toGeoJSON:function(e){var t=!ze(this._latlngs),n=t&&!ze(this._latlngs[0]),r=Xe(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),et(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),lr.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(n){t.push(n.toGeoJSON(e).geometry.coordinates)}),et(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer(function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var o=tt(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}}),n?et(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Tr=nt,Sr=cr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=T(t),l(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(de(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&fe(this._image),this},bringToBack:function(){return this._map&&he(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=T(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:ue("img");if(de(t,"leaflet-image-layer"),this._zoomAnimated&&de(t,"leaflet-zoom-animated"),this.options.className&&de(t,this.options.className),t.onselectstart=a,t.onmousemove=a,t.onload=n(this.fire,this,"load"),t.onerror=n(this._overlayOnError,this,"error"),this.options.crossOrigin&&(t.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),e)return void(this._url=t.src);t.src=this._url,t.alt=this.options.alt},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;we(this._image,n,t)},_reset:function(){var e=this._image,t=new x(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();xe(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){ve(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),kr=function(e,t,n){return new Sr(e,t,n)},Pr=Sr.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:ue("video");if(de(t,"leaflet-image-layer"),this._zoomAnimated&&de(t,"leaflet-zoom-animated"),t.onselectstart=a,t.onmousemove=a,t.onloadeddata=n(this.fire,this,"load"),e){for(var r=t.getElementsByTagName("source"),i=[],o=0;o<r.length;o++)i.push(r[o].src);return void(this._url=r.length>0?i:[t.src])}gt(this._url)||(this._url=[this._url]),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop;for(var s=0;s<this._url.length;s++){var u=ue("source");u.src=this._url[s],t.appendChild(u)}}}),Or=cr.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){l(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&ve(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&ve(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(ve(this._container,0),this._removeTimeout=setTimeout(n(ce,void 0,this._container),200)):ce(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=k(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&fe(this._container),this},bringToBack:function(){return this._map&&he(this._container),this},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=w(this.options.offset),n=this._getAnchor();this._zoomAnimated?xe(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}}),Lr=Or.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){Or.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof vr||this._source.on("preclick",K))},onRemove:function(e){Or.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof vr||this._source.off("preclick",K))},getEvents:function(){var e=Or.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",t=this._container=ue("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ue("div",e+"-content-wrapper",t);if(this._contentNode=ue("div",e+"-content",n),Q(n),Y(this._contentNode),W(n,"contextmenu",K),this._tipContainer=ue("div",e+"-tip-container",t),this._tip=ue("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=ue("a",e+"-close-button",t);r.href="#close",r.innerHTML="&#215;",W(r,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight;i&&r>i?(t.height=i+"px",de(e,"leaflet-popup-scrolled")):me(e,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();xe(this._container,t.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var e=this._map,t=parseInt(se(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new b(this._containerLeft,-n-this._containerBottom);i._add(Ce(this._container));var o=e.layerPointToContainerPoint(i),a=w(this.options.autoPanPadding),s=w(this.options.autoPanPaddingTopLeft||a),u=w(this.options.autoPanPaddingBottomRight||a),c=e.getSize(),l=0,f=0;o.x+r+u.x>c.x&&(l=o.x+r-c.x+u.x),o.x-l-s.x<0&&(l=o.x-s.x),o.y+n+u.y>c.y&&(f=o.y+n-c.y+u.y),o.y-f-s.y<0&&(f=o.y-s.y),(l||f)&&e.fire("autopanstart").panBy([l,f])}},_onCloseButtonClick:function(e){this._close(),X(e)},_getAnchor:function(){return w(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Mr=function(e,t){return new Lr(e,t)};Bn.mergeOptions({closePopupOnClick:!0}),Bn.include({openPopup:function(e,t,n){return e instanceof Lr||(e=new Lr(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),cr.include({bindPopup:function(e,t){return e instanceof Lr?(l(e,t),this._popup=e,e._source=this):(this._popup&&!t||(this._popup=new Lr(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,t){if(e instanceof cr||(t=e,e=this),e instanceof hr)for(var n in this._layers){e=this._layers[n];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._popup&&this._map&&(this._popup._source=e,this._popup.update(),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;if(this._popup&&this._map){if(X(e),t instanceof vr)return void this.openPopup(e.layer||e.target,e.latlng);this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Ar=Or.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){Or.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){Or.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=Or.prototype.getEvents.call(this);return an&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ue("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t=this._map,n=this._container,r=t.latLngToContainerPoint(t.getCenter()),i=t.layerPointToContainerPoint(e),o=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,u=w(this.options.offset),c=this._getAnchor();"top"===o?e=e.add(w(-a/2+u.x,-s+u.y+c.y,!0)):"bottom"===o?e=e.subtract(w(a/2-u.x,-u.y,!0)):"center"===o?e=e.subtract(w(a/2+u.x,s/2-c.y+u.y,!0)):"right"===o||"auto"===o&&i.x<r.x?(o="right",e=e.add(w(u.x+c.x,c.y-s/2+u.y,!0))):(o="left",e=e.subtract(w(a+c.x-u.x,s/2-c.y-u.y,!0))),me(n,"leaflet-tooltip-right"),me(n,"leaflet-tooltip-left"),me(n,"leaflet-tooltip-top"),me(n,"leaflet-tooltip-bottom"),de(n,"leaflet-tooltip-"+o),xe(n,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&ve(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return w(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Rr=function(e,t){return new Ar(e,t)};Bn.include({openTooltip:function(e,t,n){return e instanceof Ar||(e=new Ar(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),cr.include({bindTooltip:function(e,t){return e instanceof Ar?(l(e,t),this._tooltip=e,e._source=this):(this._tooltip&&!t||(this._tooltip=new Ar(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),an&&(n.click=this._openTooltip)),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e,t){if(e instanceof cr||(t=e,e=this),e instanceof hr)for(var n in this._layers){e=this._layers[n];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=e,this._tooltip.update(),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(de(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(me(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var t=e.layer||e.target;this._tooltip&&this._map&&this.openTooltip(t,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var jr=dr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=w(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});dr.Default=mr;var Nr=cr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:en,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){l(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),ce(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(fe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(he(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=i(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof b?e:new b(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,o=n.length;i<o;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!It){ve(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(e-i.loaded)/200);ve(i.el,o),o<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(y(this._fadeFrame),this._fadeFrame=g(this._updateOpacity,this))}},_onOpaqueTile:a,_initContainer:function(){this._container||(this._container=ue("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(ce(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||(r=this._levels[e]={},r.el=ue("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),r.el.offsetWidth,this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:a,_onRemoveLevel:a,_onCreateLevel:a,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)return void this._removeAllTiles();for(e in this._tiles)t=this._tiles[e],t.retain=t.current;for(e in this._tiles)if(t=this._tiles[e],t.current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)ce(this._levels[e].el),this._onRemoveLevel(e),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),o=Math.floor(t/2),a=n-1,s=new b(+i,+o);s.z=+a;var u=this._tileCoordsToKey(s),c=this._tiles[u];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var o=2*t;o<2*t+2;o++){var a=new b(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=this._clampZoom(Math.round(t));(void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom)&&(i=void 0);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();Xt?we(e.el,i,r):xe(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*r);return new x(i.subtract(o),i.add(o))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,u=new x(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var l=this._tiles[c].coords;l.z===this._tileZoom&&u.contains(new b(l.x,l.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)return void this._setView(e,n);for(var f=i.min.y;f<=i.max.y;f++)for(var h=i.min.x;h<=i.max.x;h++){var p=new b(h,f);if(p.z=this._tileZoom,this._isValidTile(p)){var d=this._tiles[this._tileCoordsToKey(p)];d?d.current=!0:a.push(p)}}if(a.sort(function(e,t){return e.distanceTo(o)-t.distanceTo(o)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(h=0;h<a.length;h++)this._addTile(a[h],m);this._level.el.appendChild(m)}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return T(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new E(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new b(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(qt||t.el.setAttribute("src",yt),ce(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){de(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=a,e.onmousemove=a,It&&this.options.opacity<1&&ve(e,this.options.opacity),Dt&&!zt&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var r=this._getTilePos(e),i=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),n(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&g(n(this._tileReady,this,e,null,o)),xe(o,r),this._tiles[i]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,r){if(this._map){t&&this.fire("tileerror",{error:t,tile:r,coords:e});var i=this._tileCoordsToKey(e);r=this._tiles[i],r&&(r.loaded=+new Date,this._map._fadeAnimated?(ve(r.el,0),y(this._fadeFrame),this._fadeFrame=g(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),t||(de(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),It||!this._map._fadeAnimated?g(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))}},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new b(this._wrapX?o(e.x,this._wrapX):e.x,this._wrapY?o(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new x(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}}),Ir=Nr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,t=l(this,t),t.detectRetina&&cn&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),Dt||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url=e,t||this.redraw(),this},createTile:function(e,t){var r=document.createElement("img");return W(r,"load",n(this._tileOnLoad,this,t,r)),W(r,"error",n(this._tileOnError,this,t,r)),this.options.crossOrigin&&(r.crossOrigin=""),r.alt="",r.setAttribute("role","presentation"),r.src=this.getTileUrl(e),r},getTileUrl:function(e){var n={r:cn?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(n.y=r),n["-y"]=r}return h(this._url,t(n,this.options))},_tileOnLoad:function(e,t){It?setTimeout(n(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom,n=this.options.zoomReverse,r=this.options.zoomOffset;return n&&(e=t-e),e+r},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&(t=this._tiles[e].el,t.onload=a,t.onerror=a,t.complete||(t.src=yt,ce(t),delete this._tiles[e]))}}),Br=Ir.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,n){this._url=e;var r=t({},this.defaultWmsParams);for(var i in n)i in this.options||(r[i]=n[i]);n=l(this,n);var o=n.detectRetina&&cn?2:1,a=this.getTileSize();r.width=a.x*o,r.height=a.y*o,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Ir.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=C(n.project(t[0]),n.project(t[1])),i=r.min,o=r.max,a=(this._wmsVersion>=1.3&&this._crs===sr?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=L.TileLayer.prototype.getTileUrl.call(this,e);return s+f(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(e,n){return t(this.wmsParams,e),n||this.redraw(),this}});Ir.WMS=Br,at.wms=st;var Fr=cr.extend({options:{padding:.1,tolerance:0},initialize:function(e){l(this,e),r(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&de(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=Ce(this._container),i=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,t),a=this._map.project(e,t),s=a.subtract(o),u=i.multiplyBy(-n).add(r).add(i).subtract(s);Xt?we(this._container,u,n):xe(this._container,u)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new x(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Dr=Fr.extend({getEvents:function(){var e=Fr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Fr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");W(e,"mousemove",i(this._onMouseMove,32,this),this),W(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),W(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_destroyContainer:function(){delete this._ctx,ce(this._container),Z(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var t in this._layers)e=this._layers[t],e._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},Fr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=cn?2:1;xe(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",cn&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Fr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[r(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[L.stamp(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(e.options.dashArray){var t,n=e.options.dashArray.split(","),r=[];for(t=0;t<n.length;t++)r.push(Number(n[t]));e.options._dashArray=r}},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||g(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new x,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,o,a=e._parts,s=a.length,u=this._ctx;if(s){for(this._drawnLayers[e._leaflet_id]=e,u.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],u[r?"lineTo":"moveTo"](o.x,o.y);t&&u.closePath()}this._fillStroke(u,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;this._drawnLayers[e._leaflet_id]=e,1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)t=i.layer,t.options.interactive&&t._containsPoint(r)&&!this._map._draggableMoved(t)&&(n=t);n&&(ne(e),this._fireEvent([n],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(me(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(e,t){for(var n,r,i=this._drawFirst;i;i=i.next)n=i.layer,n.options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(de(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e)},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order,n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))},_bringToBack:function(e){var t=e._order,n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}),zr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Ur={_initContainer:function(){this._container=ue("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Fr.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=zr("shape");de(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=zr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[r(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;ce(t),e.removeInteractiveTarget(t),delete this._layers[r(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=zr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=gt(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=zr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){fe(e._container)},_bringToBack:function(e){he(e._container)}},qr=hn?zr:M,Hr=Fr.extend({getEvents:function(){var e=Fr.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=qr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=qr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ce(this._container),Z(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Fr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),xe(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=qr("path");e.options.className&&de(t,e.options.className),e.options.interactive&&de(t,"leaflet-interactive"),this._updateStyle(e),this._layers[r(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){ce(e._path),e.removeInteractiveTarget(e._path),delete this._layers[r(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,A(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r=Math.max(Math.round(e._radiusY),1)||n,i="a"+n+","+r+" 0 1,0 ",o=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(e,o)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){fe(e._path)},_bringToBack:function(e){he(e._path)}});hn&&Hr.include(Ur),Bn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this.options.preferCanvas&&ut()||ct()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=Hr&&ct({pane:e})||Dr&&ut({pane:e}),this._paneRenderers[e]=t),t}});var $r=xr.extend({initialize:function(e,t){xr.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=T(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});Hr.create=qr,Hr.pointsToPath=A,Cr.geometryToLayer=Ke,Cr.coordsToLatLng=Ye,Cr.coordsToLatLngs=Qe,Cr.latLngToCoords=Je,Cr.latLngsToCoords=Xe,Cr.getFeature=et,Cr.asFeature=tt,Bn.mergeOptions({boxZoom:!0});var Wr=Gn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){W(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Z(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),Ot(),Ee(),this._startPoint=this._map.mouseEventToContainerPoint(e),W(document,{contextmenu:X,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ue("div","leaflet-zoom-box",this._container),de(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new x(this._point,this._startPoint),n=t.getSize();xe(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ce(this._box),me(this._container,"leaflet-crosshair")),Lt(),Te(),Z(document,{contextmenu:X,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var t=new E(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});Bn.addInitHook("addHandler","boxZoom",Wr),Bn.mergeOptions({doubleClickZoom:!0});var Zr=Gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});Bn.addInitHook("addHandler","doubleClickZoom",Zr),Bn.mergeOptions({dragging:!0,inertia:!zt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Vr=Gn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new er(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}de(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){me(this._map._container,"leaflet-grab"),me(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=T(this._map.options.maxBounds);this._offsetLimit=C(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,o=(r+t+n)%e-t-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),u=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,u),l=s.multiplyBy(c/u),f=c/(n.inertiaDeceleration*a),h=l.multiplyBy(-f/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),g(function(){t.panBy(h,{duration:f,easeLinearity:a,noMoveStart:!0,animate:!0})})):t.fire("moveend")}}});Bn.addInitHook("addHandler","dragging",Vr),Bn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Gr=Gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),W(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Z(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){W(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Z(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys){if(r._panAnim&&r._panAnim._inProgress)return;t=this._panKeys[n],e.shiftKey&&(t=w(t).multiplyBy(3)),r.panBy(t),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}X(e)}}});Bn.addInitHook("addHandler","keyboard",Gr),Bn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Kr=Gn.extend({addHooks:function(){W(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Z(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=te(e),r=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var i=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),i),X(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,a&&("center"===e.options.scrollWheelZoom?e.setZoom(t+a):e.setZoomAround(this._lastMousePos,t+a))}});Bn.addInitHook("addHandler","scrollWheelZoom",Kr),Bn.mergeOptions({tap:!0,tapTolerance:15});var Yr=Gn.extend({addHooks:function(){W(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Z(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(J(e),this._fireClick=!0,e.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=e.touches[0],r=t.target;this._startPos=this._newPos=new b(t.clientX,t.clientY),r.tagName&&"a"===r.tagName.toLowerCase()&&de(r,"leaflet-active"),this._holdTimeout=setTimeout(n(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))},this),1e3),this._simulateEvent("mousedown",t),W(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),Z(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches){var t=e.changedTouches[0],n=t.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&me(n,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid()&&this._simulateEvent("click",t)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new b(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(e,t){var n=document.createEvent("MouseEvents");n._simulated=!0,t.target._simulatedClick=!0,n.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}});an&&!on&&Bn.addInitHook("addHandler","tap",Yr),Bn.mergeOptions({touchZoom:an&&!zt,bounceAtZoomLimits:!0});var Qr=Gn.extend({addHooks:function(){de(this._map._container,"leaflet-touch-zoom"),W(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){me(this._map._container,"leaflet-touch-zoom"),Z(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),W(document,"touchmove",this._onTouchMove,this),W(document,"touchend",this._onTouchEnd,this),J(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,r=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]),o=r.distanceTo(i)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=r._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),y(this._animRequest);var s=n(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=g(s,this,!0),J(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);this._zooming=!1,y(this._animRequest),Z(document,"touchmove",this._onTouchMove),Z(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Bn.addInitHook("addHandler","touchZoom",Qr),Bn.BoxZoom=Wr,Bn.DoubleClickZoom=Zr,Bn.Drag=Vr,Bn.Keyboard=Gr,Bn.ScrollWheelZoom=Kr,Bn.Tap=Yr,Bn.TouchZoom=Qr;var Jr=window.L;window.L=e,Object.freeze=ht,e.version="1.3.1",e.noConflict=ft,e.Control=Fn,e.control=Dn,e.Browser=pn,e.Evented=Ct,e.Mixin=Yn,e.Util=wt,e.Class=v,e.Handler=Gn,e.extend=t,e.bind=n,e.stamp=r,e.setOptions=l,e.DomEvent=Pn,e.DomUtil=Nn,e.PosAnimation=In,e.Draggable=er,e.LineUtil=tr,e.PolyUtil=nr,e.Point=b,e.point=w,e.Bounds=x,e.bounds=C,e.Transformation=P,e.transformation=O,e.Projection=or,e.LatLng=S,e.latLng=k,e.LatLngBounds=E,e.latLngBounds=T,e.CRS=Tt,e.GeoJSON=Cr,e.geoJSON=nt,e.geoJson=Tr,e.Layer=cr,e.LayerGroup=lr,e.layerGroup=fr,e.FeatureGroup=hr,e.featureGroup=pr,e.ImageOverlay=Sr,e.imageOverlay=kr,e.VideoOverlay=Pr,e.videoOverlay=rt,e.DivOverlay=Or,e.Popup=Lr,e.popup=Mr,e.Tooltip=Ar,e.tooltip=Rr,e.Icon=dr,e.icon=He,e.DivIcon=jr,e.divIcon=it,e.Marker=yr,e.marker=$e,e.TileLayer=Ir,e.tileLayer=at,e.GridLayer=Nr,e.gridLayer=ot,e.SVG=Hr,e.svg=ct,e.Renderer=Fr,e.Canvas=Dr,e.canvas=ut,e.Path=vr,e.CircleMarker=_r,e.circleMarker=We,e.Circle=br,e.circle=Ze,e.Polyline=wr,e.polyline=Ve,e.Polygon=xr,e.polygon=Ge,e.Rectangle=$r,e.rectangle=lt,e.Map=Bn,e.map=Pe})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),l=n(1),f=n(7),h=(r(f),n(4)),p=r(h),d=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={data:0,range:null,filter:null},a=n,o(r,a)}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.addDataview()}},{key:"componentDidUpdate",value:function(e){new p.default.filter.BoundingBoxLeaflet(this.props.map);e!==this.props&&this.dataView.addFilter(this.props.boundingbox)}},{key:"addDataview",value:function(){var e=this,t=this.props,n=t.locale,r=t.currencyType;this.dataView=new p.default.dataview.Formula(this.props.layer,this.props.column,{operation:this.props.operation}),this.dataView.on("dataChanged",function(t){var i=void 0;i=!0===e.props.round&&!1===e.props.currency?t.result.toLocaleString(n,{maximumFractionDigits:0}):!0===e.props.currency&&!1===e.props.round?t.result.toLocaleString(n,{maximumFractionDigits:2,style:"currency",currency:r}):!0===e.props.currency&&!0===e.props.round?t.result.toLocaleString(n,{maximumFractionDigits:0,minimumFractionDigits:0,style:"currency",currency:r}):t.result.toLocaleString(n,{maximumFractionDigits:2}),e.setState({data:i})}),this.props.client.addDataview(this.dataView)}},{key:"render",value:function(){var e=this.state.data,t=this.props,n=t.title,r=t.description;return c.default.createElement("div",null,c.default.createElement("h4",{className:"as-subheader as-font--medium"},n),c.default.createElement("p",{className:"as-body"},r),c.default.createElement("h2",{className:"as-display"},e))}}]),t}(u.Component),m=function(e){return{client:e.client,map:e.map,filters:e.filters,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},g=function(e){return{setNeighbourhoods:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e(setNeighbourhoods(t))})}};t.default=(0,l.connect)(m,g)(d)},function(e,t,n){"use strict";(function(t){function r(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i=n(6),o=n(163),a={"Content-Type":"application/x-www-form-urlencoded"},s={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(47):void 0!==t&&(e=n(47)),e}(),transformRequest:[function(e,t){return o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(e){s.headers[e]={}}),i.forEach(["post","put","patch"],function(e){s.headers[e]=i.merge(a)}),e.exports=s}).call(t,n(44))},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)o.call(n,l)&&(u[l]=n[l]);if(i){s=i(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){e.exports=n(61)()},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=n(29),i=n.n(r),o=i.a.shape({trySubscribe:i.a.func.isRequired,tryUnsubscribe:i.a.func.isRequired,notifyNestedSubs:i.a.func.isRequired,isSubscribed:i.a.func.isRequired}),a=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function s(){}function u(e,t){var n={run:function(r){try{var i=e(t.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}function c(e){var t,n,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=c.getDisplayName,h=void 0===l?function(e){return"ConnectAdvanced("+e+")"}:l,b=c.methodName,w=void 0===b?"connectAdvanced":b,x=c.renderCountProp,C=void 0===x?void 0:x,E=c.shouldHandleStateChanges,T=void 0===E||E,S=c.storeKey,k=void 0===S?"store":S,P=c.withRef,O=void 0!==P&&P,L=a(c,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),M=k+"Subscription",A=v++,R=(t={},t[k]=g.a,t[M]=g.b,t),j=(n={},n[M]=g.b,n);return function(t){p.a("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",a=h(n),c=y({},L,{getDisplayName:h,methodName:w,renderCountProp:C,shouldHandleStateChanges:T,storeKey:k,withRef:O,displayName:a,wrappedComponentName:n,WrappedComponent:t}),l=function(n){function l(e,t){r(this,l);var o=i(this,n.call(this,e,t));return o.version=A,o.state={},o.renderCount=0,o.store=e[k]||t[k],o.propsMode=Boolean(e[k]),o.setWrappedInstance=o.setWrappedInstance.bind(o),p.a(o.store,'Could not find "'+k+'" in either the context or props of "'+a+'". Either wrap the root component in a <Provider>, or explicitly pass "'+k+'" as a prop to "'+a+'".'),o.initSelector(),o.initSubscription(),o}return o(l,n),l.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[M]=t||this.context[M],e},l.prototype.componentDidMount=function(){T&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},l.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},l.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},l.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=s,this.store=null,this.selector.run=s,this.selector.shouldComponentUpdate=!1},l.prototype.getWrappedInstance=function(){return p.a(O,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+w+"() call."),this.wrappedInstance},l.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},l.prototype.initSelector=function(){var t=e(this.store.dispatch,c);this.selector=u(t,this.store),this.selector.run(this.props)},l.prototype.initSubscription=function(){if(T){var e=(this.propsMode?this.props:this.context)[M];this.subscription=new m.a(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},l.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(_)):this.notifyNestedSubs()},l.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},l.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},l.prototype.addExtraProps=function(e){if(!(O||C||this.propsMode&&this.subscription))return e;var t=y({},e);return O&&(t.ref=this.setWrappedInstance),C&&(t[C]=this.renderCount++),this.propsMode&&this.subscription&&(t[M]=this.subscription),t},l.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return d.createElement(t,this.addExtraProps(e.props))},l}(d.Component);return l.WrappedComponent=t,l.displayName=a,l.childContextTypes=j,l.contextTypes=R,l.propTypes=R,f.a(l,t)}}t.a=c;var l=n(32),f=n.n(l),h=n(12),p=n.n(h),d=n(0),m=(n.n(d),n(65)),g=n(30),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=0,_={}},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!=typeof t){var a=Object.getOwnPropertyNames(t);o&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;++s)if(!(r[a[s]]||i[a[s]]||n&&n[a[s]]))try{e[a[s]]=t[a[s]]}catch(e){}}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=n(81),o=n(82),a=n(83),s=n(37);n(36);n.d(t,"createStore",function(){return r.b}),n.d(t,"combineReducers",function(){return i.a}),n.d(t,"bindActionCreators",function(){return o.a}),n.d(t,"applyMiddleware",function(){return a.a}),n.d(t,"compose",function(){return s.a})},function(e,t,n){"use strict";function r(e,t,n){function o(){y===g&&(y=g.slice())}function u(){return m}function c(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return o(),y.push(e),function(){if(t){t=!1,o();var n=y.indexOf(e);y.splice(n,1)}}}function l(e){if(!i.a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(v)throw new Error("Reducers may not dispatch actions.");try{v=!0,m=d(m,e)}finally{v=!1}for(var t=g=y,n=0;n<t.length;n++){(0,t[n])()}return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");d=e,l({type:s.INIT})}function h(){var e,t=c;return e={subscribe:function(e){function n(){e.next&&e.next(u())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[a.a]=function(){return this},e}var p;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var d=e,m=t,g=[],y=g,v=!1;return l({type:s.INIT}),p={dispatch:l,subscribe:c,getState:u,replaceReducer:f},p[a.a]=h,p}n.d(t,"a",function(){return s}),t.b=r;var i=n(18),o=n(77),a=n.n(o),s={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";var r=n(70),i=r.a.Symbol;t.a=i},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.a=r},function(e,t,n){"use strict";function r(e){return function(t,n){function r(){return i}var i=e(t,n);return r.dependsOnOwnProps=!1,r}}function i(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function o(e,t){return function(t,n){var r=(n.displayName,function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)});return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=i(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=i(o),o=r(t,n)),o},r}}t.a=r,t.b=o;n(39)},function(e,t,n){"use strict";n(18),n(17)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(89);n.d(t,"BrowserRouter",function(){return r.a});var i=n(110);n.d(t,"HashRouter",function(){return i.a});var o=n(43);n.d(t,"Link",function(){return o.a});var a=n(112);n.d(t,"MemoryRouter",function(){return a.a});var s=n(113);n.d(t,"NavLink",function(){return s.a});var u=n(114);n.d(t,"Prompt",function(){return u.a});var c=n(115);n.d(t,"Redirect",function(){return c.a});var l=n(116);n.d(t,"Route",function(){return l.a});var f=n(117);n.d(t,"Router",function(){return f.a});var h=n(118);n.d(t,"StaticRouter",function(){return h.a});var p=n(119);n.d(t,"Switch",function(){return p.a});var d=n(120);n.d(t,"matchPath",function(){return d.a});var m=n(121);n.d(t,"withRouter",function(){return m.a})},function(e,t,n){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.getConfirmation=function(e,t){return t(window.confirm(e))},t.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},t.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},t.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(9),s=n.n(a),u=n(0),c=n.n(u),l=n(8),f=n.n(l),h=n(23),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(u))),o.state={match:o.computeMatch(o.props,o.context.router)},a=n,i(o,a)}return o(t,e),t.prototype.getChildContext=function(){return{router:p({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,i=e.path,o=e.strict,a=e.exact,s=t.route;if(n)return n;var u=(r||s.location).pathname;return i?h.a(u,{path:i,strict:o,exact:a}):s.match},t.prototype.componentWillMount=function(){var e=this.props,t=e.component,n=e.render,r=e.children;s.a(!(t&&n),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),s.a(!(t&&r),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),s.a(!(n&&r),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){s.a(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),s.a(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,i=t.render,o=this.context.router,a=o.history,s=o.route,u=o.staticContext,l=this.props.location||s.location,f={match:e,location:l,history:a,staticContext:u};return r?e?c.a.createElement(r,f):null:i?e?i(f):null:n?"function"==typeof n?n(f):!Array.isArray(n)||n.length?c.a.Children.only(n):null:null},t}(c.a.Component);d.propTypes={computedMatch:f.a.object,path:f.a.string,exact:f.a.bool,strict:f.a.bool,component:f.a.func,render:f.a.func,children:f.a.oneOfType([f.a.func,f.a.node]),location:f.a.object},d.contextTypes={router:f.a.shape({history:f.a.object.isRequired,route:f.a.object.isRequired,staticContext:f.a.object})},d.childContextTypes={router:f.a.object.isRequired},t.a=d},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n.n(s),c=n(14),l=n.n(c),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},p=function(e){function t(){var n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,e.call.apply(e,[this].concat(u))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!h(e)){e.preventDefault();var t=r.context.router.history,n=r.props,i=n.replace,o=n.to;i?t.replace(o):t.push(o)}},a=n,o(r,a)}return a(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=r(e,["replace","to"]),i=this.context.router.history.createHref("string"==typeof t?{pathname:t}:t);return u.a.createElement("a",f({},n,{onClick:this.handleClick,href:i}))},t}(u.a.Component);p.propTypes={onClick:l.a.func,target:l.a.string,replace:l.a.bool,to:l.a.oneOfType([l.a.string,l.a.object]).isRequired},p.defaultProps={replace:!1},p.contextTypes={router:l.a.shape({history:l.a.shape({push:l.a.func.isRequired,replace:l.a.func.isRequired,createHref:l.a.func.isRequired}).isRequired}).isRequired},t.a=p},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?d=p.concat(d):g=-1,d.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=d.length;t;){for(p=d,d=[];++g<t;)p&&p[g].run();g=-1,t=d.length}p=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,f,h=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,d=[],m=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new u(e,t)),1!==d.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(142),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={railaccidents:i.default}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(6),i=n(164),o=n(166),a=n(167),s=n(168),u=n(48),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(169);e.exports=function(e){return new Promise(function(t,l){var f=e.data,h=e.headers;r.isFormData(f)&&delete h["Content-Type"];var p=new XMLHttpRequest,d="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||s(e.url)||(p=new window.XDomainRequest,d="onload",m=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var g=e.auth.username||"",y=e.auth.password||"";h.Authorization="Basic "+c(g+":"+y)}if(p.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[d]=function(){if(p&&(4===p.readyState||m)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r=e.responseType&&"text"!==e.responseType?p.response:p.responseText,o={data:r,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};i(t,l,o),p=null}},p.onerror=function(){l(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var v=n(170),_=(e.withCredentials||s(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;_&&(h[e.xsrfHeaderName]=_)}if("setRequestHeader"in p&&r.forEach(h,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),l(e),p=null)}),void 0===f&&(f=null),p.send(f)})}},function(e,t,n){"use strict";var r=n(165);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(3),s=r(a),u=n(1),c=n(88),l=r(c),f=n(184),h=r(f);n(190),n(191);var p=(0,h.default)(),d=o.default.createElement(u.Provider,{store:p},o.default.createElement(l.default,null));s.default.render(d,document.getElementById("app"))},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function i(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||L}function o(){}function a(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||L}function s(e,t,n){var r=void 0,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)R.call(t,r)&&!j.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:w,type:e,key:o,ref:a,props:i,_owner:A.current}}function u(e){return"object"==typeof e&&null!==e&&e.$$typeof===w}function c(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function l(e,t,n,r){if(I.length){var i=I.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function f(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function h(e,t,n,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case w:case x:a=!0}}if(a)return n(i,e,""===t?"."+p(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){o=e[s];var u=t+p(o,s);a+=h(o,u,n,i)}else if(null===e||void 0===e?u=null:(u=O&&e[O]||e["@@iterator"],u="function"==typeof u?u:null),"function"==typeof u)for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=t+p(o,s++),a+=h(o,u,n,i);else"object"===o&&(n=""+e,r("31","[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}function p(e,t){return"object"==typeof e&&null!==e&&null!=e.key?c(e.key):t.toString(36)}function d(e,t){e.func.call(e.context,t,e.count++)}function m(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?g(e,r,n,_.thatReturnsArgument):null!=e&&(u(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(N,"$&/")+"/")+n,e={$$typeof:w,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function g(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(N,"$&/")+"/"),t=l(t,o,r,i),null==e||h(e,"",m,t),f(t)}/** @license React v16.3.1
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var y=n(27),v=n(28),_=n(16),b="function"==typeof Symbol&&Symbol.for,w=b?Symbol.for("react.element"):60103,x=b?Symbol.for("react.portal"):60106,C=b?Symbol.for("react.fragment"):60107,E=b?Symbol.for("react.strict_mode"):60108,T=b?Symbol.for("react.provider"):60109,S=b?Symbol.for("react.context"):60110,k=b?Symbol.for("react.async_mode"):60111,P=b?Symbol.for("react.forward_ref"):60112,O="function"==typeof Symbol&&Symbol.iterator,L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};i.prototype.isReactComponent={},i.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&r("85"),this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=i.prototype;var M=a.prototype=new o;M.constructor=a,y(M,i.prototype),M.isPureReactComponent=!0;var A={current:null},R=Object.prototype.hasOwnProperty,j={key:!0,ref:!0,__self:!0,__source:!0},N=/\/+/g,I=[],B={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return g(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=l(null,null,t,n),null==e||h(e,"",d,t),f(t)},count:function(e){return null==e?0:h(e,"",_.thatReturnsNull,null)},toArray:function(e){var t=[];return g(e,t,null,_.thatReturnsArgument),t},only:function(e){return u(e)||r("143"),e}},createRef:function(){return{current:null}},Component:i,PureComponent:a,createContext:function(e,t){return void 0===t&&(t=null),e={$$typeof:S,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_changedBits:0,Provider:null,Consumer:null},e.Provider={$$typeof:T,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:P,render:e}},Fragment:C,StrictMode:E,unstable_AsyncMode:k,createElement:s,cloneElement:function(e,t,n){var r=void 0,i=y({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){void 0!==t.ref&&(a=t.ref,s=A.current),void 0!==t.key&&(o=""+t.key);var u=void 0;e.type&&e.type.defaultProps&&(u=e.type.defaultProps);for(r in t)R.call(t,r)&&!j.hasOwnProperty(r)&&(i[r]=void 0===t[r]&&void 0!==u?u[r]:t[r])}if(1===(r=arguments.length-2))i.children=n;else if(1<r){u=Array(r);for(var c=0;c<r;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:w,type:e.type,key:o,ref:a,props:i,_owner:s}},createFactory:function(e){var t=s.bind(null,e);return t.type=e,t},isValidElement:u,version:"16.3.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:A,assign:y}},F=Object.freeze({default:B}),D=F&&B||F;e.exports=D.default?D.default:D},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function i(e,t,n,r,i,o,a,s,u){this._hasCaughtError=!1,this._caughtError=null;var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}function o(){if(yn._hasRethrowError){var e=yn._rethrowError;throw yn._rethrowError=null,yn._hasRethrowError=!1,e}}function a(){if(vn)for(var e in _n){var t=_n[e],n=vn.indexOf(e);if(-1<n||r("96",e),!bn[n]){t.extractEvents||r("97",e),bn[n]=t,n=t.eventTypes;for(var i in n){var o=void 0,a=n[i],u=t,c=i;wn.hasOwnProperty(c)&&r("99",c),wn[c]=a;var l=a.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&s(l[o],u,c);o=!0}else a.registrationName?(s(a.registrationName,u,c),o=!0):o=!1;o||r("98",i,e)}}}}function s(e,t,n){xn[e]&&r("100",e),xn[e]=t,Cn[e]=t.eventTypes[n].dependencies}function u(e){vn&&r("101"),vn=Array.prototype.slice.call(e),a()}function c(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];_n.hasOwnProperty(t)&&_n[t]===i||(_n[t]&&r("102",t),_n[t]=i,n=!0)}n&&a()}function l(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=kn(r),yn.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function f(e,t){return null==t&&r("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function h(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function p(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)l(e,t,n[i],r[i]);else n&&l(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function d(e){return p(e,!0)}function m(e){return p(e,!1)}function g(e,t){var n=e.stateNode;if(!n)return null;var i=Tn(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(e=e.type,i=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&r("231",t,typeof n),n)}function y(e,t){null!==e&&(Pn=f(Pn,e)),e=Pn,Pn=null,e&&(t?h(e,d):h(e,m),Pn&&r("95"),yn.rethrowCaughtError())}function v(e,t,n,r){for(var i=null,o=0;o<bn.length;o++){var a=bn[o];a&&(a=a.extractEvents(e,t,n,r))&&(i=f(i,a))}y(i,!1)}function _(e){if(e[An])return e[An];for(;!e[An];){if(!e.parentNode)return null;e=e.parentNode}return e=e[An],5===e.tag||6===e.tag?e:null}function b(e){if(5===e.tag||6===e.tag)return e.stateNode;r("33")}function w(e){return e[Rn]||null}function x(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function C(e,t,n){for(var r=[];e;)r.push(e),e=x(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function E(e,t,n){(t=g(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=f(n._dispatchListeners,t),n._dispatchInstances=f(n._dispatchInstances,e))}function T(e){e&&e.dispatchConfig.phasedRegistrationNames&&C(e._targetInst,E,e)}function S(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;t=t?x(t):null,C(t,E,e)}}function k(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=g(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=f(n._dispatchListeners,t),n._dispatchInstances=f(n._dispatchInstances,e))}function P(e){e&&e.dispatchConfig.registrationName&&k(e._targetInst,null,e)}function O(e){h(e,T)}function L(e,t,n,r){if(n&&r)e:{for(var i=n,o=r,a=0,s=i;s;s=x(s))a++;s=0;for(var u=o;u;u=x(u))s++;for(;0<a-s;)i=x(i),a--;for(;0<s-a;)o=x(o),s--;for(;a--;){if(i===o||i===o.alternate)break e;i=x(i),o=x(o)}i=null}else i=null;for(o=i,i=[];n&&n!==o&&(null===(a=n.alternate)||a!==o);)i.push(n),n=x(n);for(n=[];r&&r!==o&&(null===(a=r.alternate)||a!==o);)n.push(r),r=x(r);for(r=0;r<i.length;r++)k(i[r],"bubbled",e);for(e=n.length;0<e--;)k(n[e],"captured",t)}function M(){return!In&&ln.canUseDOM&&(In="textContent"in document.documentElement?"textContent":"innerText"),In}function A(){if(Bn._fallbackText)return Bn._fallbackText;var e,t,n=Bn._startText,r=n.length,i=R(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Bn._fallbackText=i.slice(e,1<t?1-t:void 0),Bn._fallbackText}function R(){return"value"in Bn._root?Bn._root.value:Bn._root[M()]}function j(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?hn.thatReturnsTrue:hn.thatReturnsFalse,this.isPropagationStopped=hn.thatReturnsFalse,this}function N(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function I(e){e instanceof this||r("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function B(e){e.eventPool=[],e.getPooled=N,e.release=I}function F(e,t){switch(e){case"topKeyUp":return-1!==qn.indexOf(t.keyCode);case"topKeyDown":return 229!==t.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function D(e){return e=e.detail,"object"==typeof e&&"data"in e?e.data:null}function z(e,t){switch(e){case"topCompositionEnd":return D(t);case"topKeyPress":return 32!==t.which?null:(Kn=!0,Vn);case"topTextInput":return e=t.data,e===Vn&&Kn?null:e;default:return null}}function U(e,t){if(Yn)return"topCompositionEnd"===e||!Hn&&F(e,t)?(e=A(),Bn._root=null,Bn._startText=null,Bn._fallbackText=null,Yn=!1,e):null;switch(e){case"topPaste":return null;case"topKeyPress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return Zn?null:t.data;default:return null}}function q(e){if(e=Sn(e)){Jn&&"function"==typeof Jn.restoreControlledState||r("194");var t=Tn(e.stateNode);Jn.restoreControlledState(e.stateNode,e.type,t)}}function H(e){Xn?er?er.push(e):er=[e]:Xn=e}function $(){return null!==Xn||null!==er}function W(){if(Xn){var e=Xn,t=er;if(er=Xn=null,q(e),t)for(e=0;e<t.length;e++)q(t[e])}}function Z(e,t){return e(t)}function V(e,t,n){return e(t,n)}function G(){}function K(e,t){if(rr)return e(t);rr=!0;try{return Z(e,t)}finally{rr=!1,$()&&(G(),W())}}function Y(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ir[e.type]:"textarea"===t}function Q(e){return e=e.target||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function J(e,t){return!(!ln.canUseDOM||t&&!("addEventListener"in document))&&(e="on"+e,t=e in document,t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t="function"==typeof t[e]),t)}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ee(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"function"==typeof n.get&&"function"==typeof n.set)return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=""+e,n.set.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}function te(e){e._valueTracker||(e._valueTracker=ee(e))}function ne(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function re(e){return null===e||void 0===e?null:(e=yr&&e[yr]||e["@@iterator"],"function"==typeof e?e:null)}function ie(e){if("function"==typeof(e=e.type))return e.displayName||e.name;if("string"==typeof e)return e;switch(e){case fr:return"ReactFragment";case lr:return"ReactPortal";case ur:return"ReactCall";case cr:return"ReactReturn"}return null}function oe(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var n=e._debugOwner,r=e._debugSource,i=ie(e),o=null;n&&(o=ie(n)),n=r,i="\n    in "+(i||"Unknown")+(n?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":o?" (created by "+o+")":"");break e;default:i=""}t+=i,e=e.return}while(e);return t}function ae(e){return!!br.hasOwnProperty(e)||!_r.hasOwnProperty(e)&&(vr.test(e)?br[e]=!0:(_r[e]=!0,!1))}function se(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function ue(e,t,n,r){if(null===t||void 0===t||se(e,t,n,r))return!0;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ce(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}function le(e){return e[1].toUpperCase()}function fe(e,t,n,r){var i=wr.hasOwnProperty(t)?wr[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(ue(t,n,i,r)&&(n=null),r||null===i?ae(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(i=i.type,n=3===i||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function he(e,t){var n=t.checked;return fn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function pe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ve(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function de(e,t){null!=(t=t.checked)&&fe(e,"checked",t,!1)}function me(e,t){de(e,t);var n=ve(t.value);null!=n&&("number"===t.type?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n)),t.hasOwnProperty("value")?ye(e,t.type,n):t.hasOwnProperty("defaultValue")&&ye(e,t.type,ve(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ge(e,t){(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue"))&&(""===e.value&&(e.value=""+e._wrapperState.initialValue),e.defaultValue=""+e._wrapperState.initialValue),t=e.name,""!==t&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)}function ye(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ve(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function _e(e,t,n){return e=j.getPooled(Cr.change,e,t,n),e.type="change",H(n),O(e),e}function be(e){y(e,!1)}function we(e){if(ne(b(e)))return e}function xe(e,t){if("topChange"===e)return t}function Ce(){Er&&(Er.detachEvent("onpropertychange",Ee),Tr=Er=null)}function Ee(e){"value"===e.propertyName&&we(Tr)&&(e=_e(Tr,e,Q(e)),K(be,e))}function Te(e,t,n){"topFocus"===e?(Ce(),Er=t,Tr=n,Er.attachEvent("onpropertychange",Ee)):"topBlur"===e&&Ce()}function Se(e){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return we(Tr)}function ke(e,t){if("topClick"===e)return we(t)}function Pe(e,t){if("topInput"===e||"topChange"===e)return we(t)}function Oe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Or[e])&&!!t[e]}function Le(){return Oe}function Me(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(t=t.return,0!=(2&t.effectTag))return 1}return 3===t.tag?2:3}function Ae(e){return!!(e=e._reactInternalFiber)&&2===Me(e)}function Re(e){2!==Me(e)&&r("188")}function je(e){var t=e.alternate;if(!t)return t=Me(e),3===t&&r("188"),1===t?null:e;for(var n=e,i=t;;){var o=n.return,a=o?o.alternate:null;if(!o||!a)break;if(o.child===a.child){for(var s=o.child;s;){if(s===n)return Re(o),e;if(s===i)return Re(o),t;s=s.sibling}r("188")}if(n.return!==i.return)n=o,i=a;else{s=!1;for(var u=o.child;u;){if(u===n){s=!0,n=o,i=a;break}if(u===i){s=!0,i=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,i=o;break}if(u===i){s=!0,i=a,n=o;break}u=u.sibling}s||r("189")}}n.alternate!==i&&r("190")}return 3!==n.tag&&r("188"),n.stateNode.current===n?e:t}function Ne(e){if(!(e=je(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ie(e){if(!(e=je(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Be(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Fe(e,t){var n=e[0].toUpperCase()+e.slice(1),r="on"+n;n="top"+n,t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},Hr[e]=t,$r[n]=t}function De(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=_(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],v(e.topLevelType,t,e.nativeEvent,Q(e.nativeEvent))}function ze(e){Gr=!!e}function Ue(e,t,n){if(!n)return null;e=(Zr(e)?He:$e).bind(null,e),n.addEventListener(t,e,!1)}function qe(e,t,n){if(!n)return null;e=(Zr(e)?He:$e).bind(null,e),n.addEventListener(t,e,!0)}function He(e,t){V($e,e,t)}function $e(e,t){if(Gr){var n=Q(t);if(n=_(n),null!==n&&"number"==typeof n.tag&&2!==Me(n)&&(n=null),Vr.length){var r=Vr.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{K(De,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Vr.length&&Vr.push(e)}}}function We(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function Ze(e){if(Qr[e])return Qr[e];if(!Yr[e])return e;var t,n=Yr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Jr)return Qr[e]=n[t];return e}function Ve(e){return Object.prototype.hasOwnProperty.call(e,ri)||(e[ri]=ni++,ti[e[ri]]={}),ti[e[ri]]}function Ge(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,t){var n=Ge(e);e=0;for(var r;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ge(n)}}function Ye(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}function Qe(e,t){if(ci||null==ai||ai!==pn())return null;var n=ai;return"selectionStart"in n&&Ye(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,ui&&dn(ui,n)?null:(ui=n,e=j.getPooled(oi.select,si,e,t),e.type="select",e.target=ai,O(e),e)}function Je(e,t,n,r){this.tag=e,this.key=n,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function Xe(e,t,n){var r=e.alternate;return null===r?(r=new Je(e.tag,t,e.key,e.mode),r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function et(e,t,n){var i=e.type,o=e.key;e=e.props;var a=void 0;if("function"==typeof i)a=i.prototype&&i.prototype.isReactComponent?2:0;else if("string"==typeof i)a=5;else switch(i){case fr:return tt(e.children,t,n,o);case mr:a=11,t|=3;break;case hr:a=11,t|=2;break;case ur:a=7;break;case cr:a=9;break;default:if("object"==typeof i&&null!==i)switch(i.$$typeof){case pr:a=13;break;case dr:a=12;break;case gr:a=14;break;default:if("number"==typeof i.tag)return t=i,t.pendingProps=e,t.expirationTime=n,t;r("130",null==i?i:typeof i,"")}else r("130",null==i?i:typeof i,"")}return t=new Je(a,e,o,t),t.type=i,t.expirationTime=n,t}function tt(e,t,n,r){return e=new Je(10,e,r,t),e.expirationTime=n,e}function nt(e,t,n){return e=new Je(6,e,null,t),e.expirationTime=n,e}function rt(e,t,n){return t=new Je(4,null!==e.children?e.children:[],e.key,t),t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function it(e){return function(t){try{return e(t)}catch(e){}}}function ot(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);fi=it(function(e){return t.onCommitFiberRoot(n,e)}),hi=it(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function at(e){"function"==typeof fi&&fi(e)}function st(e){"function"==typeof hi&&hi(e)}function ut(e){return{baseState:e,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1,capturedValues:null}}function ct(e,t){null===e.last?e.first=e.last=t:(e.last.next=t,e.last=t),(0===e.expirationTime||e.expirationTime>t.expirationTime)&&(e.expirationTime=t.expirationTime)}function lt(e){pi=di=null;var t=e.alternate,n=e.updateQueue;null===n&&(n=e.updateQueue=ut(null)),null!==t?null===(e=t.updateQueue)&&(e=t.updateQueue=ut(null)):e=null,pi=n,di=e!==n?e:null}function ft(e,t){lt(e),e=pi;var n=di;null===n?ct(e,t):null===e.last||null===n.last?(ct(e,t),ct(n,t)):(ct(e,t),n.last=t)}function ht(e,t,n,r){return e=e.partialState,"function"==typeof e?e.call(t,n,r):e}function pt(e,t,n,r,i,o){null!==e&&e.updateQueue===n&&(n=t.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,capturedValues:n.capturedValues,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?e=n.baseState:(e=n.baseState=t.memoizedState,n.isInitialized=!0);for(var a=!0,s=n.first,u=!1;null!==s;){var c=s.expirationTime;if(c>o){var l=n.expirationTime;(0===l||l>c)&&(n.expirationTime=c),u||(u=!0,n.baseState=e)}else u||(n.first=s.next,null===n.first&&(n.last=null)),s.isReplace?(e=ht(s,r,e,i),a=!0):(c=ht(s,r,e,i))&&(e=a?fn({},e,c):fn(e,c),a=!1),s.isForced&&(n.hasForceUpdate=!0),null!==s.callback&&(c=n.callbackList,null===c&&(c=n.callbackList=[]),c.push(s)),null!==s.capturedValue&&(c=n.capturedValues,null===c?n.capturedValues=[s.capturedValue]:c.push(s.capturedValue));s=s.next}return null!==n.callbackList?t.effectTag|=32:null!==n.first||n.hasForceUpdate||null!==n.capturedValues||(t.updateQueue=null),u||(n.baseState=e),e}function dt(e,t){var n=e.callbackList;if(null!==n)for(e.callbackList=null,e=0;e<n.length;e++){var i=n[e],o=i.callback;i.callback=null,"function"!=typeof o&&r("191",o),o.call(t)}}function mt(e,t,n,r,i){function o(e,t,n,r,i,o){if(null===t||null!==e.updateQueue&&e.updateQueue.hasForceUpdate)return!0;var a=e.stateNode;return e=e.type,"function"==typeof a.shouldComponentUpdate?a.shouldComponentUpdate(n,i,o):!e.prototype||!e.prototype.isPureReactComponent||(!dn(t,n)||!dn(r,i))}function a(e,t){t.updater=d,e.stateNode=t,t._reactInternalFiber=e}function s(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&d.enqueueReplaceState(t,t.state,null)}function u(e,t,n,r){if(e=e.type,"function"==typeof e.getDerivedStateFromProps)return e.getDerivedStateFromProps.call(null,n,r)}var c=e.cacheContext,l=e.getMaskedContext,f=e.getUnmaskedContext,h=e.isContextConsumer,p=e.hasContextChanged,d={isMounted:Ae,enqueueSetState:function(e,r,i){e=e._reactInternalFiber,i=void 0===i?null:i;var o=n(e);ft(e,{expirationTime:o,partialState:r,callback:i,isReplace:!1,isForced:!1,capturedValue:null,next:null}),t(e,o)},enqueueReplaceState:function(e,r,i){e=e._reactInternalFiber,i=void 0===i?null:i;var o=n(e);ft(e,{expirationTime:o,partialState:r,callback:i,isReplace:!0,isForced:!1,capturedValue:null,next:null}),t(e,o)},enqueueForceUpdate:function(e,r){e=e._reactInternalFiber,r=void 0===r?null:r;var i=n(e);ft(e,{expirationTime:i,partialState:null,callback:r,isReplace:!1,isForced:!0,capturedValue:null,next:null}),t(e,i)}};return{adoptClassInstance:a,callGetDerivedStateFromProps:u,constructClassInstance:function(e,t){var n=e.type,r=f(e),i=h(e),o=i?l(e,r):gn;n=new n(t,o);var s=null!==n.state&&void 0!==n.state?n.state:null;return a(e,n),e.memoizedState=s,t=u(e,n,t,s),null!==t&&void 0!==t&&(e.memoizedState=fn({},e.memoizedState,t)),i&&c(e,r,o),n},mountClassInstance:function(e,t){var n=e.type,r=e.alternate,i=e.stateNode,o=e.pendingProps,a=f(e);i.props=o,i.state=e.memoizedState,i.refs=gn,i.context=l(e,a),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(n=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),n!==i.state&&d.enqueueReplaceState(i,i.state,null),null!==(n=e.updateQueue)&&(i.state=pt(r,e,n,i,o,t))),"function"==typeof i.componentDidMount&&(e.effectTag|=4)},resumeMountClassInstance:function(e,t){var n=e.type,a=e.stateNode;a.props=e.memoizedProps,a.state=e.memoizedState;var c=e.memoizedProps,h=e.pendingProps,d=a.context,m=f(e);m=l(e,m),(n="function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(c!==h||d!==m)&&s(e,a,h,m),d=e.memoizedState,t=null!==e.updateQueue?pt(null,e,e.updateQueue,a,h,t):d;var g=void 0;if(c!==h&&(g=u(e,a,h,t)),null!==g&&void 0!==g){t=null===t||void 0===t?g:fn({},t,g);var y=e.updateQueue;null!==y&&(y.baseState=fn({},y.baseState,g))}return c!==h||d!==t||p()||null!==e.updateQueue&&e.updateQueue.hasForceUpdate?((c=o(e,c,h,d,t,m))?(n||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.effectTag|=4)):("function"==typeof a.componentDidMount&&(e.effectTag|=4),r(e,h),i(e,t)),a.props=h,a.state=t,a.context=m,c):("function"==typeof a.componentDidMount&&(e.effectTag|=4),!1)},updateClassInstance:function(e,t,n){var a=t.type,c=t.stateNode;c.props=t.memoizedProps,c.state=t.memoizedState;var h=t.memoizedProps,d=t.pendingProps,m=c.context,g=f(t);g=l(t,g),(a="function"==typeof a.getDerivedStateFromProps||"function"==typeof c.getSnapshotBeforeUpdate)||"function"!=typeof c.UNSAFE_componentWillReceiveProps&&"function"!=typeof c.componentWillReceiveProps||(h!==d||m!==g)&&s(t,c,d,g),m=t.memoizedState,n=null!==t.updateQueue?pt(e,t,t.updateQueue,c,d,n):m;var y=void 0;if(h!==d&&(y=u(t,c,d,n)),null!==y&&void 0!==y){n=null===n||void 0===n?y:fn({},n,y);var v=t.updateQueue;null!==v&&(v.baseState=fn({},v.baseState,y))}return h!==d||m!==n||p()||null!==t.updateQueue&&t.updateQueue.hasForceUpdate?((y=o(t,h,d,m,n,g))?(a||"function"!=typeof c.UNSAFE_componentWillUpdate&&"function"!=typeof c.componentWillUpdate||("function"==typeof c.componentWillUpdate&&c.componentWillUpdate(d,n,g),"function"==typeof c.UNSAFE_componentWillUpdate&&c.UNSAFE_componentWillUpdate(d,n,g)),"function"==typeof c.componentDidUpdate&&(t.effectTag|=4),"function"==typeof c.getSnapshotBeforeUpdate&&(t.effectTag|=2048)):("function"!=typeof c.componentDidUpdate||h===e.memoizedProps&&m===e.memoizedState||(t.effectTag|=4),"function"!=typeof c.getSnapshotBeforeUpdate||h===e.memoizedProps&&m===e.memoizedState||(t.effectTag|=2048),r(t,d),i(t,n)),c.props=d,c.state=n,c.context=g,y):("function"!=typeof c.componentDidUpdate||h===e.memoizedProps&&m===e.memoizedState||(t.effectTag|=4),"function"!=typeof c.getSnapshotBeforeUpdate||h===e.memoizedProps&&m===e.memoizedState||(t.effectTag|=2048),!1)}}}function gt(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var i=void 0;n&&(2!==n.tag&&r("110"),i=n.stateNode),i||r("147",e);var o=""+e;return null!==t&&null!==t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs===gn?i.refs={}:i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}"string"!=typeof e&&r("148"),n._owner||r("254",e)}return e}function yt(e,t){"textarea"!==e.type&&r("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function vt(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return e=Xe(e,t,n),e.index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index,r<n?(t.effectTag=2,n):r):(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?(t=nt(n,e.mode,r),t.return=e,t):(t=o(t,n,r),t.return=e,t)}function c(e,t,n,r){return null!==t&&t.type===n.type?(r=o(t,n.props,r),r.ref=gt(e,t,n),r.return=e,r):(r=et(n,e.mode,r),r.ref=gt(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=rt(n,e.mode,r),t.return=e,t):(t=o(t,n.children||[],r),t.return=e,t)}function f(e,t,n,r,i){return null===t||10!==t.tag?(t=tt(n,e.mode,r,i),t.return=e,t):(t=o(t,n,r),t.return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return t=nt(""+t,e.mode,n),t.return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case sr:return n=et(t,e.mode,n),n.ref=gt(e,null,t),n.return=e,n;case lr:return t=rt(t,e.mode,n),t.return=e,t}if(mi(t)||re(t))return t=tt(t,e.mode,n,null),t.return=e,t;yt(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case sr:return n.key===i?n.type===fr?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case lr:return n.key===i?l(e,t,n,r):null}if(mi(n)||re(n))return null!==i?null:f(e,t,n,r,null);yt(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return e=e.get(n)||null,u(t,e,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case sr:return e=e.get(null===r.key?n:r.key)||null,r.type===fr?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case lr:return e=e.get(null===r.key?n:r.key)||null,l(t,e,r,i)}if(mi(r)||re(r))return e=e.get(n)||null,f(t,e,r,i,null);yt(t,r)}return null}function m(r,o,s,u){for(var c=null,l=null,f=o,m=o=0,g=null;null!==f&&m<s.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var y=p(r,f,s[m],u);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(r,f),o=a(y,o,m),null===l?c=y:l.sibling=y,l=y,f=g}if(m===s.length)return n(r,f),c;if(null===f){for(;m<s.length;m++)(f=h(r,s[m],u))&&(o=a(f,o,m),null===l?c=f:l.sibling=f,l=f);return c}for(f=i(r,f);m<s.length;m++)(g=d(f,r,m,s[m],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),o=a(g,o,m),null===l?c=g:l.sibling=g,l=g);return e&&f.forEach(function(e){return t(r,e)}),c}function g(o,s,u,c){var l=re(u);"function"!=typeof l&&r("150"),null==(u=l.call(u))&&r("151");for(var f=l=null,m=s,g=s=0,y=null,v=u.next();null!==m&&!v.done;g++,v=u.next()){m.index>g?(y=m,m=null):y=m.sibling;var _=p(o,m,v.value,c);if(null===_){m||(m=y);break}e&&m&&null===_.alternate&&t(o,m),s=a(_,s,g),null===f?l=_:f.sibling=_,f=_,m=y}if(v.done)return n(o,m),l;if(null===m){for(;!v.done;g++,v=u.next())null!==(v=h(o,v.value,c))&&(s=a(v,s,g),null===f?l=v:f.sibling=v,f=v);return l}for(m=i(o,m);!v.done;g++,v=u.next())null!==(v=d(m,o,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===f?l=v:f.sibling=v,f=v);return e&&m.forEach(function(e){return t(o,e)}),l}return function(e,i,a,u){"object"==typeof a&&null!==a&&a.type===fr&&null===a.key&&(a=a.props.children);var c="object"==typeof a&&null!==a;if(c)switch(a.$$typeof){case sr:e:{var l=a.key;for(c=i;null!==c;){if(c.key===l){if(10===c.tag?a.type===fr:c.type===a.type){n(e,c.sibling),i=o(c,a.type===fr?a.props.children:a.props,u),i.ref=gt(e,c,a),i.return=e,e=i;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===fr?(i=tt(a.props.children,e.mode,u,a.key),i.return=e,e=i):(u=et(a,e.mode,u),u.ref=gt(e,i,a),u.return=e,e=u)}return s(e);case lr:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(e,i.sibling),i=o(i,a.children||[],u),i.return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}i=rt(a,e.mode,u),i.return=e,e=i}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==i&&6===i.tag?(n(e,i.sibling),i=o(i,a,u)):(n(e,i),i=nt(a,e.mode,u)),i.return=e,e=i,s(e);if(mi(a))return m(e,i,a,u);if(re(a))return g(e,i,a,u);if(c&&yt(e,a),void 0===a)switch(e.tag){case 2:case 1:u=e.type,r("152",u.displayName||u.name||"Component")}return n(e,i)}}function _t(e,t,n,i,o,a,s){function u(e,t,n){c(e,t,n,t.expirationTime)}function c(e,t,n,r){t.child=null===e?yi(t,null,n,r):gi(t,e.child,n,r)}function l(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function f(e,t,n,r,i,o){if(l(e,t),!n&&!i)return r&&S(t,!1),m(e,t);n=t.stateNode,or.current=t;var a=i?null:n.render();return t.effectTag|=1,i&&(c(e,t,null,o),t.child=null),c(e,t,a,o),t.memoizedState=n.state,t.memoizedProps=n.props,r&&S(t,!0),t.child}function h(e){var t=e.stateNode;t.pendingContext?T(e,t.pendingContext,t.pendingContext!==t.context):t.context&&T(e,t.context,!1),_(e,t.containerInfo)}function p(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){switch(i.tag){case 12:var o=0|i.stateNode;if(i.type===t&&0!=(o&n)){for(o=i;null!==o;){var a=o.alternate;if(0===o.expirationTime||o.expirationTime>r)o.expirationTime=r,null!==a&&(0===a.expirationTime||a.expirationTime>r)&&(a.expirationTime=r);else{if(null===a||!(0===a.expirationTime||a.expirationTime>r))break;a.expirationTime=r}o=o.return}o=null}else o=i.child;break;case 13:o=i.type===e.type?null:i.child;break;default:o=i.child}if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){o=i;break}o=o.return}i=o}}function d(e,t,n){var r=t.type._context,i=t.pendingProps,o=t.memoizedProps;if(!C()&&o===i)return t.stateNode=0,b(t),m(e,t);var a=i.value;if(t.memoizedProps=i,null===o)a=1073741823;else if(o.value===i.value){if(o.children===i.children)return t.stateNode=0,b(t),m(e,t);a=0}else{var s=o.value;if(s===a&&(0!==s||1/s==1/a)||s!==s&&a!==a){if(o.children===i.children)return t.stateNode=0,b(t),m(e,t);a=0}else if(a="function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823,0===(a|=0)){if(o.children===i.children)return t.stateNode=0,b(t),m(e,t)}else p(t,r,a,n)}return t.stateNode=a,b(t),u(e,t,i.children),t.child}function m(e,t){if(null!==e&&t.child!==e.child&&r("153"),null!==t.child){e=t.child;var n=Xe(e,e.pendingProps,e.expirationTime);for(t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=Xe(e,e.pendingProps,e.expirationTime),n.return=t;n.sibling=null}return t.child}var g=e.shouldSetTextContent,y=e.shouldDeprioritizeSubtree,v=t.pushHostContext,_=t.pushHostContainer,b=i.pushProvider,w=n.getMaskedContext,x=n.getUnmaskedContext,C=n.hasContextChanged,E=n.pushContextProvider,T=n.pushTopLevelContextObject,S=n.invalidateContextProvider,k=o.enterHydrationState,P=o.resetHydrationState,O=o.tryToClaimNextHydratableInstance;e=mt(n,a,s,function(e,t){e.memoizedProps=t},function(e,t){e.memoizedState=t});var L=e.adoptClassInstance,M=e.callGetDerivedStateFromProps,A=e.constructClassInstance,R=e.mountClassInstance,j=e.resumeMountClassInstance,N=e.updateClassInstance;return{beginWork:function(e,t,n){if(0===t.expirationTime||t.expirationTime>n){switch(t.tag){case 3:h(t);break;case 2:E(t);break;case 4:_(t,t.stateNode.containerInfo);break;case 13:b(t)}return null}switch(t.tag){case 0:null!==e&&r("155");var i=t.type,o=t.pendingProps,a=x(t);return a=w(t,a),i=i(o,a),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(a=t.type,t.tag=2,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,"function"==typeof a.getDerivedStateFromProps&&null!==(o=M(t,i,o,t.memoizedState))&&void 0!==o&&(t.memoizedState=fn({},t.memoizedState,o)),o=E(t),L(t,i),R(t,n),e=f(e,t,!0,o,!1,n)):(t.tag=1,u(e,t,i),t.memoizedProps=o,e=t.child),e;case 1:return o=t.type,n=t.pendingProps,C()||t.memoizedProps!==n?(i=x(t),i=w(t,i),o=o(n,i),t.effectTag|=1,u(e,t,o),t.memoizedProps=n,e=t.child):e=m(e,t),e;case 2:o=E(t),null===e?null===t.stateNode?(A(t,t.pendingProps),R(t,n),i=!0):i=j(t,n):i=N(e,t,n),a=!1;var s=t.updateQueue;return null!==s&&null!==s.capturedValues&&(a=i=!0),f(e,t,i,o,a,n);case 3:e:if(h(t),null!==(i=t.updateQueue)){if(a=t.memoizedState,o=pt(e,t,i,null,null,n),t.memoizedState=o,null!==(i=t.updateQueue)&&null!==i.capturedValues)i=null;else{if(a===o){P(),e=m(e,t);break e}i=o.element}a=t.stateNode,(null===e||null===e.child)&&a.hydrate&&k(t)?(t.effectTag|=2,t.child=yi(t,null,i,n)):(P(),u(e,t,i)),t.memoizedState=o,e=t.child}else P(),e=m(e,t);return e;case 5:return v(t),null===e&&O(t),o=t.type,s=t.memoizedProps,i=t.pendingProps,a=null!==e?e.memoizedProps:null,C()||s!==i||((s=1&t.mode&&y(o,i))&&(t.expirationTime=1073741823),s&&1073741823===n)?(s=i.children,g(o,i)?s=null:a&&g(o,a)&&(t.effectTag|=16),l(e,t),1073741823!==n&&1&t.mode&&y(o,i)?(t.expirationTime=1073741823,t.memoizedProps=i,e=null):(u(e,t,s),t.memoizedProps=i,e=t.child)):e=m(e,t),e;case 6:return null===e&&O(t),t.memoizedProps=t.pendingProps,null;case 8:t.tag=7;case 7:return o=t.pendingProps,C()||t.memoizedProps!==o||(o=t.memoizedProps),i=o.children,t.stateNode=null===e?yi(t,t.stateNode,i,n):gi(t,e.stateNode,i,n),t.memoizedProps=o,t.stateNode;case 9:return null;case 4:return _(t,t.stateNode.containerInfo),o=t.pendingProps,C()||t.memoizedProps!==o?(null===e?t.child=gi(t,null,o,n):u(e,t,o),t.memoizedProps=o,e=t.child):e=m(e,t),e;case 14:return n=t.type.render,n=n(t.pendingProps,t.ref),u(e,t,n),t.memoizedProps=n,t.child;case 10:return n=t.pendingProps,C()||t.memoizedProps!==n?(u(e,t,n),t.memoizedProps=n,e=t.child):e=m(e,t),e;case 11:return n=t.pendingProps.children,C()||null!==n&&t.memoizedProps!==n?(u(e,t,n),t.memoizedProps=n,e=t.child):e=m(e,t),e;case 13:return d(e,t,n);case 12:i=t.type,a=t.pendingProps;var c=t.memoizedProps;return o=i._currentValue,s=i._changedBits,C()||0!==s||c!==a?(t.memoizedProps=a,c=a.unstable_observedBits,void 0!==c&&null!==c||(c=1073741823),t.stateNode=c,0!=(s&c)&&p(t,i,s,n),n=a.children,n=n(o),u(e,t,n),e=t.child):e=m(e,t),e;default:r("156")}}}}function bt(e,t,n,i,o){function a(e){e.effectTag|=4}var s=e.createInstance,u=e.createTextInstance,c=e.appendInitialChild,l=e.finalizeInitialChildren,f=e.prepareUpdate,h=e.persistence,p=t.getRootHostContainer,d=t.popHostContext,m=t.getHostContext,g=t.popHostContainer,y=n.popContextProvider,v=n.popTopLevelContextObject,_=i.popProvider,b=o.prepareToHydrateHostInstance,w=o.prepareToHydrateHostTextInstance,x=o.popHydrationState,C=void 0,E=void 0,T=void 0;return e.mutation?(C=function(){},E=function(e,t,n){(t.updateQueue=n)&&a(t)},T=function(e,t,n,r){n!==r&&a(t)}):r(h?"235":"236"),{completeWork:function(e,t,n){var i=t.pendingProps;switch(t.tag){case 1:return null;case 2:return y(t),e=t.stateNode,i=t.updateQueue,null!==i&&null!==i.capturedValues&&(t.effectTag&=-65,"function"==typeof e.componentDidCatch?t.effectTag|=256:i.capturedValues=null),null;case 3:return g(t),v(t),i=t.stateNode,i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(x(t),t.effectTag&=-3),C(t),e=t.updateQueue,null!==e&&null!==e.capturedValues&&(t.effectTag|=256),null;case 5:d(t),n=p();var o=t.type;if(null!==e&&null!=t.stateNode){var h=e.memoizedProps,S=t.stateNode,k=m();S=f(S,o,h,i,n,k),E(e,t,S,o,h,i,n,k),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!i)return null===t.stateNode&&r("166"),null;if(e=m(),x(t))b(t,n,e)&&a(t);else{h=s(o,i,n,e,t);e:for(k=t.child;null!==k;){if(5===k.tag||6===k.tag)c(h,k.stateNode);else if(4!==k.tag&&null!==k.child){k.child.return=k,k=k.child;continue}if(k===t)break;for(;null===k.sibling;){if(null===k.return||k.return===t)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}l(h,o,i,n,e)&&a(t),t.stateNode=h}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)T(e,t,e.memoizedProps,i);else{if("string"!=typeof i)return null===t.stateNode&&r("166"),null;e=p(),n=m(),x(t)?w(t)&&a(t):t.stateNode=u(i,e,n,t)}return null;case 7:(i=t.memoizedProps)||r("165"),t.tag=8,o=[];e:for((h=t.stateNode)&&(h.return=t);null!==h;){if(5===h.tag||6===h.tag||4===h.tag)r("247");else if(9===h.tag)o.push(h.pendingProps.value);else if(null!==h.child){h.child.return=h,h=h.child;continue}for(;null===h.sibling;){if(null===h.return||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}return h=i.handler,i=h(i.props,o),t.child=gi(t,null!==e?e.child:null,i,n),t.child;case 8:return t.tag=7,null;case 9:case 14:case 10:case 11:return null;case 4:return g(t),C(t),null;case 13:return _(t),null;case 12:return null;case 0:r("167");default:r("156")}}}}function wt(e,t,n,r,i){var o=e.popHostContainer,a=e.popHostContext,s=t.popContextProvider,u=t.popTopLevelContextObject,c=n.popProvider;return{throwException:function(e,t,n){t.effectTag|=512,t.firstEffect=t.lastEffect=null,t={value:n,source:t,stack:oe(t)};do{switch(e.tag){case 3:return lt(e),e.updateQueue.capturedValues=[t],void(e.effectTag|=1024);case 2:if(n=e.stateNode,0==(64&e.effectTag)&&null!==n&&"function"==typeof n.componentDidCatch&&!i(n)){lt(e),n=e.updateQueue;var r=n.capturedValues;return null===r?n.capturedValues=[t]:r.push(t),void(e.effectTag|=1024)}}e=e.return}while(null!==e)},unwindWork:function(e){switch(e.tag){case 2:s(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return o(e),u(e),t=e.effectTag,1024&t?(e.effectTag=-1025&t|64,e):null;case 5:return a(e),null;case 4:return o(e),null;case 13:return c(e),null;default:return null}},unwindInterruptedWork:function(e){switch(e.tag){case 2:s(e);break;case 3:o(e),u(e);break;case 5:a(e);break;case 4:o(e);break;case 13:c(e)}}}}function xt(e,t){var n=t.source;null===t.stack&&oe(n),null!==n&&ie(n),t=t.value,null!==e&&2===e.tag&&ie(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}function Ct(e,t,n,i,o){function a(e){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){t(e,n)}else n.current=null}function s(e){switch("function"==typeof st&&st(e),e.tag){case 2:a(e);var n=e.stateNode;if("function"==typeof n.componentWillUnmount)try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(n){t(e,n)}break;case 5:a(e);break;case 7:u(e.stateNode);break;case 4:h&&l(e)}}function u(e){for(var t=e;;)if(s(t),null===t.child||h&&4===t.tag){if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}else t.child.return=t,t=t.child}function c(e){return 5===e.tag||3===e.tag||4===e.tag}function l(e){for(var t=e,n=!1,i=void 0,o=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&r("160"),n.tag){case 5:i=n.stateNode,o=!1;break e;case 3:case 4:i=n.stateNode.containerInfo,o=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag)u(t),o?x(i,t.stateNode):w(i,t.stateNode);else if(4===t.tag?i=t.stateNode.containerInfo:s(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,4===t.tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}var f=e.getPublicInstance,h=e.mutation;e=e.persistence,h||r(e?"235":"236");var p=h.commitMount,d=h.commitUpdate,m=h.resetTextContent,g=h.commitTextUpdate,y=h.appendChild,v=h.appendChildToContainer,_=h.insertBefore,b=h.insertInContainerBefore,w=h.removeChild,x=h.removeChildFromContainer;return{commitBeforeMutationLifeCycles:function(e,t){switch(t.tag){case 2:if(2048&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;e=t.stateNode,e.props=t.memoizedProps,e.state=t.memoizedState,t=e.getSnapshotBeforeUpdate(n,i),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:break;default:r("163")}},commitResetTextContent:function(e){m(e.stateNode)},commitPlacement:function(e){e:{for(var t=e.return;null!==t;){if(c(t)){var n=t;break e}t=t.return}r("160"),n=void 0}var i=t=void 0;switch(n.tag){case 5:t=n.stateNode,i=!1;break;case 3:case 4:t=n.stateNode.containerInfo,i=!0;break;default:r("161")}16&n.effectTag&&(m(t),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||c(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){if(5===o.tag||6===o.tag)n?i?b(t,o.stateNode,n):_(t,o.stateNode,n):i?v(t,o.stateNode):y(t,o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},commitDeletion:function(e){l(e),e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)},commitWork:function(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var o=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&d(n,a,o,e,i,t)}break;case 6:null===t.stateNode&&r("162"),n=t.memoizedProps,g(t.stateNode,null!==e?e.memoizedProps:n,n);break;case 3:break;default:r("163")}},commitLifeCycles:function(e,t,n){switch(n.tag){case 2:if(e=n.stateNode,4&n.effectTag)if(null===t)e.props=n.memoizedProps,e.state=n.memoizedState,e.componentDidMount();else{var i=t.memoizedProps;t=t.memoizedState,e.props=n.memoizedProps,e.state=n.memoizedState,e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}n=n.updateQueue,null!==n&&dt(n,e);break;case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=f(n.child.stateNode);break;case 2:e=n.child.stateNode}dt(t,e)}break;case 5:e=n.stateNode,null===t&&4&n.effectTag&&p(e,n.type,n.memoizedProps,n);break;case 6:case 4:break;default:r("163")}},commitErrorLogging:function(e,t){switch(e.tag){case 2:var n=e.type;t=e.stateNode;var i=e.updateQueue;(null===i||null===i.capturedValues)&&r("264");var a=i.capturedValues;for(i.capturedValues=null,"function"!=typeof n.getDerivedStateFromCatch&&o(t),t.props=e.memoizedProps,t.state=e.memoizedState,n=0;n<a.length;n++){i=a[n];var s=i.value,u=i.stack;xt(e,i),t.componentDidCatch(s,{componentStack:null!==u?u:""})}break;case 3:for(n=e.updateQueue,(null===n||null===n.capturedValues)&&r("264"),a=n.capturedValues,n.capturedValues=null,n=0;n<a.length;n++)i=a[n],xt(e,i),t(i.value);break;default:r("265")}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:e=f(n);break;default:e=n}"function"==typeof t?t(e):t.current=e}},commitDetachRef:function(e){null!==(e=e.ref)&&("function"==typeof e?e(null):e.current=null)}}}function Et(e,t){function n(e){return e===vi&&r("174"),e}var i=e.getChildHostContext,o=e.getRootHostContext;e=t.createCursor;var a=t.push,s=t.pop,u=e(vi),c=e(vi),l=e(vi);return{getHostContext:function(){return n(u.current)},getRootHostContainer:function(){return n(l.current)},popHostContainer:function(e){s(u,e),s(c,e),s(l,e)},popHostContext:function(e){c.current===e&&(s(u,e),s(c,e))},pushHostContainer:function(e,t){a(l,t,e),a(c,e,e),a(u,vi,e),t=o(t),s(u,e),a(u,t,e)},pushHostContext:function(e){var t=n(l.current),r=n(u.current);t=i(r,e.type,t),r!==t&&(a(c,e,e),a(u,t,e))}}}function Tt(e){function t(e,t){var n=new Je(5,null,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function n(e,t){switch(e.tag){case 5:return null!==(t=a(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=s(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function i(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;h=e}var o=e.shouldSetTextContent;if(!(e=e.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){r("175")},prepareToHydrateHostTextInstance:function(){r("176")},popHydrationState:function(){return!1}};var a=e.canHydrateInstance,s=e.canHydrateTextInstance,u=e.getNextHydratableSibling,c=e.getFirstHydratableChild,l=e.hydrateInstance,f=e.hydrateTextInstance,h=null,p=null,d=!1;return{enterHydrationState:function(e){return p=c(e.stateNode.containerInfo),h=e,d=!0},resetHydrationState:function(){p=h=null,d=!1},tryToClaimNextHydratableInstance:function(e){if(d){var r=p;if(r){if(!n(e,r)){if(!(r=u(r))||!n(e,r))return e.effectTag|=2,d=!1,void(h=e);t(h,p)}h=e,p=c(r)}else e.effectTag|=2,d=!1,h=e}},prepareToHydrateHostInstance:function(e,t,n){return t=l(e.stateNode,e.type,e.memoizedProps,t,n,e),e.updateQueue=t,null!==t},prepareToHydrateHostTextInstance:function(e){return f(e.stateNode,e.memoizedProps,e)},popHydrationState:function(e){if(e!==h)return!1;if(!d)return i(e),d=!0,!1;var n=e.type;if(5!==e.tag||"head"!==n&&"body"!==n&&!o(n,e.memoizedProps))for(n=p;n;)t(e,n),n=u(n);return i(e),p=h?u(e.stateNode):null,!0}}}function St(e){function t(e,t,n){e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n}function n(e){return 2===e.tag&&null!=e.type.childContextTypes}function i(e,t){var n=e.stateNode,i=e.type.childContextTypes;if("function"!=typeof n.getChildContext)return t;n=n.getChildContext();for(var o in n)o in i||r("108",ie(e)||"Unknown",o);return fn({},t,n)}var o=e.createCursor,a=e.push,s=e.pop,u=o(gn),c=o(!1),l=gn;return{getUnmaskedContext:function(e){return n(e)?l:u.current},cacheContext:t,getMaskedContext:function(e,n){var r=e.type.contextTypes;if(!r)return gn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===n)return i.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in r)a[o]=n[o];return i&&t(e,n,a),a},hasContextChanged:function(){return c.current},isContextConsumer:function(e){return 2===e.tag&&null!=e.type.contextTypes},isContextProvider:n,popContextProvider:function(e){n(e)&&(s(c,e),s(u,e))},popTopLevelContextObject:function(e){s(c,e),s(u,e)},pushTopLevelContextObject:function(e,t,n){null!=u.cursor&&r("168"),a(u,t,e),a(c,n,e)},processChildContext:i,pushContextProvider:function(e){if(!n(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||gn,l=u.current,a(u,t,e),a(c,c.current,e),!0},invalidateContextProvider:function(e,t){var n=e.stateNode;if(n||r("169"),t){var o=i(e,l);n.__reactInternalMemoizedMergedChildContext=o,s(c,e),s(u,e),a(u,o,e)}else s(c,e);a(c,t,e)},findCurrentUnmaskedContext:function(e){for(2!==Me(e)||2!==e.tag?r("170"):void 0;3!==e.tag;){if(n(e))return e.stateNode.__reactInternalMemoizedMergedChildContext;(e=e.return)||r("171")}return e.stateNode.context}}}function kt(e){var t=e.createCursor,n=e.push,r=e.pop,i=t(null),o=t(null),a=t(0);return{pushProvider:function(e){var t=e.type._context;n(a,t._changedBits,e),n(o,t._currentValue,e),n(i,e,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode},popProvider:function(e){var t=a.current,n=o.current;r(i,e),r(o,e),r(a,e),e=e.type._context,e._currentValue=n,e._changedBits=t}}}function Pt(){var e=[],t=-1;return{createCursor:function(e){return{current:e}},isEmpty:function(){return-1===t},pop:function(n){0>t||(n.current=e[t],e[t]=null,t--)},push:function(n,r){t++,e[t]=n.current,n.current=r},checkThatStackIsEmpty:function(){},resetStackAfterFatalErrorInDev:function(){}}}function Ot(e){function t(){if(null!==X)for(var e=X.return;null!==e;)A(e),e=e.return;ee=null,te=0,X=null,ie=!1}function n(e){return null!==ae&&ae.has(e)}function i(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(512&e.effectTag)){t=O(t,e,te);var i=e;if(1073741823===te||1073741823!==i.expirationTime){e:switch(i.tag){case 3:case 2:var o=i.updateQueue;o=null===o?0:o.expirationTime;break e;default:o=0}for(var a=i.child;null!==a;)0!==a.expirationTime&&(0===o||o>a.expirationTime)&&(o=a.expirationTime),a=a.sibling;i.expirationTime=o}if(null!==t)return t;if(null!==n&&0==(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){ie=!0;break}e=n}else{if(null!==(e=M(e)))return e.effectTag&=2559,e;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512),null!==r)return r;if(null===n)break;e=n}}return null}function o(e){var t=P(e.alternate,e,te);return null===t&&(t=i(e)),or.current=null,t}function a(e,n,a){J&&r("243"),J=!0,n===te&&e===ee&&null!==X||(t(),ee=e,te=n,X=Xe(ee.current,null,te),e.pendingCommitExpirationTime=0);for(var s=!1;;){try{if(a)for(;null!==X&&!x();)X=o(X);else for(;null!==X;)X=o(X)}catch(e){if(null===X){s=!0,C(e);break}a=X;var u=a.return;if(null===u){s=!0,C(e);break}L(u,a,e),X=i(a)}break}return J=!1,s||null!==X?null:ie?(e.pendingCommitExpirationTime=n,e.current.alternate):void r("262")}function s(e,t,n,r){e={value:n,source:e,stack:oe(e)},ft(t,{expirationTime:r,partialState:null,callback:null,isReplace:!1,isForced:!1,capturedValue:e,next:null}),l(t,r)}function u(e,t){e:{J&&!re&&r("263");for(var i=e.return;null!==i;){switch(i.tag){case 2:var o=i.stateNode;if("function"==typeof i.type.getDerivedStateFromCatch||"function"==typeof o.componentDidCatch&&!n(o)){s(e,i,t,1),e=void 0;break e}break;case 3:s(e,i,t,1),e=void 0;break e}i=i.return}3===e.tag&&s(e,e,t,1),e=void 0}return e}function c(e){return e=0!==Q?Q:J?re?1:te:1&e.mode?we?10*(1+((f()+50)/10|0)):25*(1+((f()+500)/25|0)):1,we&&(0===de||e>de)&&(de=e),e}function l(e,n){e:{for(;null!==e;){if((0===e.expirationTime||e.expirationTime>n)&&(e.expirationTime=n),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>n)&&(e.alternate.expirationTime=n),null===e.return){if(3!==e.tag){n=void 0;break e}var i=e.stateNode;!J&&0!==te&&n<te&&t(),J&&!re&&ee===i||d(i,n),Ee>Ce&&r("185")}e=e.return}n=void 0}return n}function f(){return K=q()-V,G=2+(K/10|0)}function h(e,t,n,r,i){var o=Q;Q=1;try{return e(t,n,r,i)}finally{Q=o}}function p(e){if(0!==ce){if(e>ce)return;$(le)}var t=q()-V;ce=e,le=H(g,{timeout:10*(e-2)-t})}function d(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===ue?(se=ue=e,e.nextScheduledRoot=e):(ue=ue.nextScheduledRoot=e,ue.nextScheduledRoot=se);else{var n=e.remainingExpirationTime;(0===n||t<n)&&(e.remainingExpirationTime=t)}fe||(_e?be&&(he=e,pe=1,b(e,1,!1)):1===t?y():p(t))}function m(){var e=0,t=null;if(null!==ue)for(var n=ue,i=se;null!==i;){var o=i.remainingExpirationTime;if(0===o){if((null===n||null===ue)&&r("244"),i===i.nextScheduledRoot){se=ue=i.nextScheduledRoot=null;break}if(i===se)se=o=i.nextScheduledRoot,ue.nextScheduledRoot=o,i.nextScheduledRoot=null;else{if(i===ue){ue=n,ue.nextScheduledRoot=se,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if((0===e||o<e)&&(e=o,t=i),i===ue)break;n=i,i=i.nextScheduledRoot}}n=he,null!==n&&n===t&&1===e?Ee++:Ee=0,he=t,pe=e}function g(e){v(0,!0,e)}function y(){v(1,!1,null)}function v(e,t,n){if(ve=n,m(),t)for(;null!==he&&0!==pe&&(0===e||e>=pe)&&(!me||f()>=pe);)b(he,pe,!me),m();else for(;null!==he&&0!==pe&&(0===e||e>=pe);)b(he,pe,!1),m();null!==ve&&(ce=0,le=-1),0!==pe&&p(pe),ve=null,me=!1,_()}function _(){if(Ee=0,null!==xe){var e=xe;xe=null;for(var t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){ge||(ge=!0,ye=e)}}}if(ge)throw e=ye,ye=null,ge=!1,e}function b(e,t,n){fe&&r("245"),fe=!0,n?(n=e.finishedWork,null!==n?w(e,n,t):(e.finishedWork=null,null!==(n=a(e,t,!0))&&(x()?e.finishedWork=n:w(e,n,t)))):(n=e.finishedWork,null!==n?w(e,n,t):(e.finishedWork=null,null!==(n=a(e,t,!1))&&w(e,n,t))),fe=!1}function w(e,t,n){var i=e.firstBatch;if(null!==i&&i._expirationTime<=n&&(null===xe?xe=[i]:xe.push(i),i._defer))return e.finishedWork=t,void(e.remainingExpirationTime=0);e.finishedWork=null,re=J=!0,n=t.stateNode,n.current===t&&r("177"),i=n.pendingCommitExpirationTime,0===i&&r("261"),n.pendingCommitExpirationTime=0;var o=f();if(or.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var a=t.firstEffect}else a=t;else a=t.firstEffect;for(W(n.containerInfo),ne=a;null!==ne;){var s=!1,c=void 0;try{for(;null!==ne;)2048&ne.effectTag&&R(ne.alternate,ne),ne=ne.nextEffect}catch(e){s=!0,c=e}s&&(null===ne&&r("178"),u(ne,c),null!==ne&&(ne=ne.nextEffect))}for(ne=a;null!==ne;){s=!1,c=void 0;try{for(;null!==ne;){var l=ne.effectTag;if(16&l&&j(ne),128&l){var h=ne.alternate;null!==h&&U(h)}switch(14&l){case 2:N(ne),ne.effectTag&=-3;break;case 6:N(ne),ne.effectTag&=-3,B(ne.alternate,ne);break;case 4:B(ne.alternate,ne);break;case 8:I(ne)}ne=ne.nextEffect}}catch(e){s=!0,c=e}s&&(null===ne&&r("178"),u(ne,c),null!==ne&&(ne=ne.nextEffect))}for(Z(n.containerInfo),n.current=t,ne=a;null!==ne;){l=!1,h=void 0;try{for(a=n,s=o,c=i;null!==ne;){var p=ne.effectTag;36&p&&F(a,ne.alternate,ne,s,c),256&p&&D(ne,C),128&p&&z(ne);var d=ne.nextEffect;ne.nextEffect=null,ne=d}}catch(e){l=!0,h=e}l&&(null===ne&&r("178"),u(ne,h),null!==ne&&(ne=ne.nextEffect))}J=re=!1,"function"==typeof at&&at(t.stateNode),t=n.current.expirationTime,0===t&&(ae=null),e.remainingExpirationTime=t}function x(){return!(null===ve||ve.timeRemaining()>Te)&&(me=!0)}function C(e){null===he&&r("246"),he.remainingExpirationTime=0,ge||(ge=!0,ye=e)}var E=Pt(),T=Et(e,E),S=St(E);E=kt(E);var k=Tt(e),P=_t(e,T,S,E,k,l,c).beginWork,O=bt(e,T,S,E,k).completeWork;T=wt(T,S,E,l,n);var L=T.throwException,M=T.unwindWork,A=T.unwindInterruptedWork;T=Ct(e,u,l,c,function(e){null===ae?ae=new Set([e]):ae.add(e)},f);var R=T.commitBeforeMutationLifeCycles,j=T.commitResetTextContent,N=T.commitPlacement,I=T.commitDeletion,B=T.commitWork,F=T.commitLifeCycles,D=T.commitErrorLogging,z=T.commitAttachRef,U=T.commitDetachRef,q=e.now,H=e.scheduleDeferredCallback,$=e.cancelDeferredCallback,W=e.prepareForCommit,Z=e.resetAfterCommit,V=q(),G=2,K=V,Y=0,Q=0,J=!1,X=null,ee=null,te=0,ne=null,re=!1,ie=!1,ae=null,se=null,ue=null,ce=0,le=-1,fe=!1,he=null,pe=0,de=0,me=!1,ge=!1,ye=null,ve=null,_e=!1,be=!1,we=!1,xe=null,Ce=1e3,Ee=0,Te=1;return{recalculateCurrentTime:f,computeExpirationForFiber:c,scheduleWork:l,requestWork:d,flushRoot:function(e,t){fe&&r("253"),he=e,pe=t,b(e,t,!1),y(),_()},batchedUpdates:function(e,t){var n=_e;_e=!0;try{return e(t)}finally{(_e=n)||fe||y()}},unbatchedUpdates:function(e,t){if(_e&&!be){be=!0;try{return e(t)}finally{be=!1}}return e(t)},flushSync:function(e,t){fe&&r("187");var n=_e;_e=!0;try{return h(e,t)}finally{_e=n,y()}},flushControlled:function(e){var t=_e;_e=!0;try{h(e)}finally{(_e=t)||fe||v(1,!1,null)}},deferredUpdates:function(e){var t=Q;Q=25*(1+((f()+500)/25|0));try{return e()}finally{Q=t}},syncUpdates:h,interactiveUpdates:function(e,t,n){if(we)return e(t,n);_e||fe||0===de||(v(de,!1,null),de=0);var r=we,i=_e;_e=we=!0;try{return e(t,n)}finally{we=r,(_e=i)||fe||y()}},flushInteractiveUpdates:function(){fe||0===de||(v(de,!1,null),de=0)},computeUniqueAsyncExpiration:function(){var e=25*(1+((f()+500)/25|0));return e<=Y&&(e=Y+1),Y=e},legacyContext:S}}function Lt(e){function t(e,t,n,r,i,o){if(r=t.current,n){n=n._reactInternalFiber;var s=u(n);n=c(n)?l(n,s):s}else n=gn;return null===t.context?t.context=n:t.pendingContext=n,t=o,ft(r,{expirationTime:i,partialState:{element:e},callback:void 0===t?null:t,isReplace:!1,isForced:!1,capturedValue:null,next:null}),a(r,i),i}function n(e){return e=Ne(e),null===e?null:e.stateNode}var r=e.getPublicInstance;e=Ot(e);var i=e.recalculateCurrentTime,o=e.computeExpirationForFiber,a=e.scheduleWork,s=e.legacyContext,u=s.findCurrentUnmaskedContext,c=s.isContextProvider,l=s.processChildContext;return{createContainer:function(e,t,n){return t=new Je(3,null,null,t?3:0),e={current:t,containerInfo:e,pendingChildren:null,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e},updateContainer:function(e,n,r,a){var s=n.current,u=i();return s=o(s),t(e,n,r,u,s,a)},updateContainerAtExpirationTime:function(e,n,r,o,a){return t(e,n,r,i(),o,a)},flushRoot:e.flushRoot,requestWork:e.requestWork,computeUniqueAsyncExpiration:e.computeUniqueAsyncExpiration,batchedUpdates:e.batchedUpdates,unbatchedUpdates:e.unbatchedUpdates,deferredUpdates:e.deferredUpdates,syncUpdates:e.syncUpdates,interactiveUpdates:e.interactiveUpdates,flushInteractiveUpdates:e.flushInteractiveUpdates,flushControlled:e.flushControlled,flushSync:e.flushSync,getPublicRootInstance:function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return r(e.child.stateNode);default:return e.child.stateNode}},findHostInstance:n,findHostInstanceWithNoPortals:function(e){return e=Ie(e),null===e?null:e.stateNode},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return ot(fn({},e,{findHostInstanceByFiber:function(e){return n(e)},findFiberByHostInstance:function(e){return t?t(e):null}}))}}}function Mt(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:lr,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function At(e){var t="";return cn.Children.forEach(e,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)}),t}function Rt(e,t){return e=fn({children:void 0},t),(t=At(t.children))&&(e.children=t),e}function jt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Nt(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function It(e,t){return null!=t.dangerouslySetInnerHTML&&r("91"),fn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bt(e,t){var n=t.value;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null!=n&&r("92"),Array.isArray(t)&&(1>=t.length||r("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function Ft(e,t){var n=t.value;null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function Dt(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function zt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ut(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?zt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function qt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ht(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=t[n];i=null==o||"boolean"==typeof o||""===o?"":r||"number"!=typeof o||0===o||Di.hasOwnProperty(i)&&Di[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function $t(e,t,n){t&&(Ui[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&r("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||r("61")),null!=t.style&&"object"!=typeof t.style&&r("62",n()))}function Wt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Zt(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=Ve(e);t=Cn[t];for(var r=0;r<t.length;r++){var i=t[r];n.hasOwnProperty(i)&&n[i]||("topScroll"===i?qe("topScroll","scroll",e):"topFocus"===i||"topBlur"===i?(qe("topFocus","focus",e),qe("topBlur","blur",e),n.topBlur=!0,n.topFocus=!0):"topCancel"===i?(J("cancel",!0)&&qe("topCancel","cancel",e),n.topCancel=!0):"topClose"===i?(J("close",!0)&&qe("topClose","close",e),n.topClose=!0):Xr.hasOwnProperty(i)&&Ue(i,Xr[i],e),n[i]=!0)}}function Vt(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===qi&&(r=zt(e)),r===qi?"script"===e?(e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function Gt(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function Kt(e,t,n,r){var i=Wt(t,n);switch(t){case"iframe":case"object":Ue("topLoad","load",e);var o=n;break;case"video":case"audio":for(o in ei)ei.hasOwnProperty(o)&&Ue(o,ei[o],e);o=n;break;case"source":Ue("topError","error",e),o=n;break;case"img":case"image":case"link":Ue("topError","error",e),Ue("topLoad","load",e),o=n;break;case"form":Ue("topReset","reset",e),Ue("topSubmit","submit",e),o=n;break;case"details":Ue("topToggle","toggle",e),o=n;break;case"input":pe(e,n),o=he(e,n),Ue("topInvalid","invalid",e),Zt(r,"onChange");break;case"option":o=Rt(e,n);break;case"select":Nt(e,n),o=fn({},n,{value:void 0}),Ue("topInvalid","invalid",e),Zt(r,"onChange");break;case"textarea":Bt(e,n),o=It(e,n),Ue("topInvalid","invalid",e),Zt(r,"onChange");break;default:o=n}$t(t,o,Hi);var a,s=o;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];"style"===a?Ht(e,u,Hi):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&Fi(e,u):"children"===a?"string"==typeof u?("textarea"!==t||""!==u)&&qt(e,u):"number"==typeof u&&qt(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(xn.hasOwnProperty(a)?null!=u&&Zt(r,a):null!=u&&fe(e,a,u,i))}switch(t){case"input":te(e),ge(e,n);break;case"textarea":te(e),Dt(e,n);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,t=n.value,null!=t?jt(e,!!n.multiple,t,!1):null!=n.defaultValue&&jt(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=hn)}}function Yt(e,t,n,r,i){var o=null;switch(t){case"input":n=he(e,n),r=he(e,r),o=[];break;case"option":n=Rt(e,n),r=Rt(e,r),o=[];break;case"select":n=fn({},n,{value:void 0}),r=fn({},r,{value:void 0}),o=[];break;case"textarea":n=It(e,n),r=It(e,r),o=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=hn)}$t(t,r,Hi),t=e=void 0;var a=null;for(e in n)if(!r.hasOwnProperty(e)&&n.hasOwnProperty(e)&&null!=n[e])if("style"===e){var s=n[e];for(t in s)s.hasOwnProperty(t)&&(a||(a={}),a[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(xn.hasOwnProperty(e)?o||(o=[]):(o=o||[]).push(e,null));for(e in r){var u=r[e];if(s=null!=n?n[e]:void 0,r.hasOwnProperty(e)&&u!==s&&(null!=u||null!=s))if("style"===e)if(s){for(t in s)!s.hasOwnProperty(t)||u&&u.hasOwnProperty(t)||(a||(a={}),a[t]="");for(t in u)u.hasOwnProperty(t)&&s[t]!==u[t]&&(a||(a={}),a[t]=u[t])}else a||(o||(o=[]),o.push(e,a)),a=u;else"dangerouslySetInnerHTML"===e?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(o=o||[]).push(e,""+u)):"children"===e?s===u||"string"!=typeof u&&"number"!=typeof u||(o=o||[]).push(e,""+u):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(xn.hasOwnProperty(e)?(null!=u&&Zt(i,e),o||s===u||(o=[])):(o=o||[]).push(e,u))}return a&&(o=o||[]).push("style",a),o}function Qt(e,t,n,r,i){"input"===n&&"radio"===i.type&&null!=i.name&&de(e,i),Wt(n,r),r=Wt(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?Ht(e,s,Hi):"dangerouslySetInnerHTML"===a?Fi(e,s):"children"===a?qt(e,s):fe(e,a,s,r)}switch(n){case"input":me(e,i);break;case"textarea":Ft(e,i);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,n=i.value,null!=n?jt(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?jt(e,!!i.multiple,i.defaultValue,!0):jt(e,!!i.multiple,i.multiple?[]:"",!1))}}function Jt(e,t,n,r,i){switch(t){case"iframe":case"object":Ue("topLoad","load",e);break;case"video":case"audio":for(var o in ei)ei.hasOwnProperty(o)&&Ue(o,ei[o],e);break;case"source":Ue("topError","error",e);break;case"img":case"image":case"link":Ue("topError","error",e),Ue("topLoad","load",e);break;case"form":Ue("topReset","reset",e),Ue("topSubmit","submit",e);break;case"details":Ue("topToggle","toggle",e);break;case"input":pe(e,n),Ue("topInvalid","invalid",e),Zt(i,"onChange");break;case"select":Nt(e,n),Ue("topInvalid","invalid",e),Zt(i,"onChange");break;case"textarea":Bt(e,n),Ue("topInvalid","invalid",e),Zt(i,"onChange")}$t(t,n,Hi),r=null;for(var a in n)n.hasOwnProperty(a)&&(o=n[a],"children"===a?"string"==typeof o?e.textContent!==o&&(r=["children",o]):"number"==typeof o&&e.textContent!==""+o&&(r=["children",""+o]):xn.hasOwnProperty(a)&&null!=o&&Zt(i,a));switch(t){case"input":te(e),ge(e,n);break;case"textarea":te(e),Dt(e,n);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(e.onclick=hn)}return r}function Xt(e,t){return e.nodeValue!==t}function en(e){this._expirationTime=Vi.computeUniqueAsyncExpiration(),this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function tn(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function nn(e,t,n){this._internalRoot=Vi.createContainer(e,t,n)}function rn(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function on(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function an(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new nn(e,!1,t)}function sn(e,t,n,i,o){rn(n)||r("200");var a=n._reactRootContainer;if(a){if("function"==typeof o){var s=o;o=function(){var e=Vi.getPublicRootInstance(a._internalRoot);s.call(e)}}null!=e?a.legacy_renderSubtreeIntoContainer(e,t,o):a.render(t,o)}else{if(a=n._reactRootContainer=an(n,i),"function"==typeof o){var u=o;o=function(){var e=Vi.getPublicRootInstance(a._internalRoot);u.call(e)}}Vi.unbatchedUpdates(function(){null!=e?a.legacy_renderSubtreeIntoContainer(e,t,o):a.render(t,o)})}return Vi.getPublicRootInstance(a._internalRoot)}function un(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return rn(t)||r("200"),Mt(e,t,null,n)}/** @license React v16.3.1
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var cn=n(0),ln=n(54),fn=n(27),hn=n(16),pn=n(55),dn=n(56),mn=n(57),gn=n(28);cn||r("227");var yn={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(e,t,n,r,o,a,s,u,c){i.apply(yn,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,i,o,a,s,u){if(yn.invokeGuardedCallback.apply(this,arguments),yn.hasCaughtError()){var c=yn.clearCaughtError();yn._hasRethrowError||(yn._hasRethrowError=!0,yn._rethrowError=c)}},rethrowCaughtError:function(){return o.apply(yn,arguments)},hasCaughtError:function(){return yn._hasCaughtError},clearCaughtError:function(){if(yn._hasCaughtError){var e=yn._caughtError;return yn._caughtError=null,yn._hasCaughtError=!1,e}r("198")}},vn=null,_n={},bn=[],wn={},xn={},Cn={},En=Object.freeze({plugins:bn,eventNameDispatchConfigs:wn,registrationNameModules:xn,registrationNameDependencies:Cn,possibleRegistrationNames:null,injectEventPluginOrder:u,injectEventPluginsByName:c}),Tn=null,Sn=null,kn=null,Pn=null,On={injectEventPluginOrder:u,injectEventPluginsByName:c},Ln=Object.freeze({injection:On,getListener:g,runEventsInBatch:y,runExtractedEventsInBatch:v}),Mn=Math.random().toString(36).slice(2),An="__reactInternalInstance$"+Mn,Rn="__reactEventHandlers$"+Mn,jn=Object.freeze({precacheFiberNode:function(e,t){t[An]=e},getClosestInstanceFromNode:_,getInstanceFromNode:function(e){return e=e[An],!e||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:b,getFiberCurrentPropsFromNode:w,updateFiberProps:function(e,t){e[Rn]=t}}),Nn=Object.freeze({accumulateTwoPhaseDispatches:O,accumulateTwoPhaseDispatchesSkipTarget:function(e){h(e,S)},accumulateEnterLeaveDispatches:L,accumulateDirectDispatches:function(e){h(e,P)}}),In=null,Bn={_root:null,_startText:null,_fallbackText:null},Fn="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),Dn={type:null,target:null,currentTarget:hn.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};fn(j.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=hn.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=hn.thatReturnsTrue)},persist:function(){this.isPersistent=hn.thatReturnsTrue},isPersistent:hn.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<Fn.length;t++)this[Fn[t]]=null}}),j.Interface=Dn,j.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return fn(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=fn({},r.Interface,e),n.extend=r.extend,B(n),n},B(j);var zn=j.extend({data:null}),Un=j.extend({data:null}),qn=[9,13,27,32],Hn=ln.canUseDOM&&"CompositionEvent"in window,$n=null;ln.canUseDOM&&"documentMode"in document&&($n=document.documentMode);var Wn=ln.canUseDOM&&"TextEvent"in window&&!$n,Zn=ln.canUseDOM&&(!Hn||$n&&8<$n&&11>=$n),Vn=String.fromCharCode(32),Gn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},Kn=!1,Yn=!1,Qn={eventTypes:Gn,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(Hn)e:{switch(e){case"topCompositionStart":i=Gn.compositionStart;break e;case"topCompositionEnd":i=Gn.compositionEnd;break e;case"topCompositionUpdate":i=Gn.compositionUpdate;break e}i=void 0}else Yn?F(e,n)&&(i=Gn.compositionEnd):"topKeyDown"===e&&229===n.keyCode&&(i=Gn.compositionStart);return i?(Zn&&(Yn||i!==Gn.compositionStart?i===Gn.compositionEnd&&Yn&&(o=A()):(Bn._root=r,Bn._startText=R(),Yn=!0)),i=zn.getPooled(i,t,n,r),o?i.data=o:null!==(o=D(n))&&(i.data=o),O(i),o=i):o=null,(e=Wn?z(e,n):U(e,n))?(t=Un.getPooled(Gn.beforeInput,t,n,r),t.data=e,O(t)):t=null,null===o?t:null===t?o:[o,t]}},Jn=null,Xn=null,er=null,tr={injectFiberControlledHostComponent:function(e){Jn=e}},nr=Object.freeze({injection:tr,enqueueStateRestore:H,needsStateRestore:$,restoreStateIfNeeded:W}),rr=!1,ir={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},or=cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ar="function"==typeof Symbol&&Symbol.for,sr=ar?Symbol.for("react.element"):60103,ur=ar?Symbol.for("react.call"):60104,cr=ar?Symbol.for("react.return"):60105,lr=ar?Symbol.for("react.portal"):60106,fr=ar?Symbol.for("react.fragment"):60107,hr=ar?Symbol.for("react.strict_mode"):60108,pr=ar?Symbol.for("react.provider"):60109,dr=ar?Symbol.for("react.context"):60110,mr=ar?Symbol.for("react.async_mode"):60111,gr=ar?Symbol.for("react.forward_ref"):60112,yr="function"==typeof Symbol&&Symbol.iterator,vr=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_r={},br={},wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wr[e]=new ce(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wr[t]=new ce(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){wr[e]=new ce(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){wr[e]=new ce(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wr[e]=new ce(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){wr[e]=new ce(e,3,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){wr[e]=new ce(e,4,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){wr[e]=new ce(e,6,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){wr[e]=new ce(e,5,!1,e.toLowerCase(),null)});var xr=/[\-\:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xr,le);wr[t]=new ce(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xr,le);wr[t]=new ce(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xr,le);wr[t]=new ce(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),wr.tabIndex=new ce("tabIndex",1,!1,"tabindex",null);var Cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Er=null,Tr=null,Sr=!1;ln.canUseDOM&&(Sr=J("input")&&(!document.documentMode||9<document.documentMode));var kr={eventTypes:Cr,_isInputEventSupported:Sr,extractEvents:function(e,t,n,r){var i=t?b(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=xe:Y(i)?Sr?o=Pe:(o=Se,a=Te):!(s=i.nodeName)||"input"!==s.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type||(o=ke),o&&(o=o(e,t)))return _e(o,n,r);a&&a(e,i,t),"topBlur"===e&&null!=t&&(e=t._wrapperState||i._wrapperState)&&e.controlled&&"number"===i.type&&ye(i,"number",i.value)}},Pr=j.extend({view:null,detail:null}),Or={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Lr=Pr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Le,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),Mr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Ar={eventTypes:Mr,extractEvents:function(e,t,n,r){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==e&&"topMouseOver"!==e)return null;var i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window;if("topMouseOut"===e?(e=t,t=(t=n.relatedTarget||n.toElement)?_(t):null):e=null,e===t)return null;var o=null==e?i:b(e);i=null==t?i:b(t);var a=Lr.getPooled(Mr.mouseLeave,e,n,r);return a.type="mouseleave",a.target=o,a.relatedTarget=i,n=Lr.getPooled(Mr.mouseEnter,t,n,r),n.type="mouseenter",n.target=i,n.relatedTarget=o,L(a,n,e,t),[a,n]}},Rr=j.extend({animationName:null,elapsedTime:null,pseudoElement:null}),jr=j.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nr=Pr.extend({relatedTarget:null}),Ir={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Br={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fr=Pr.extend({key:function(e){if(e.key){var t=Ir[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=Be(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Br[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Le,charCode:function(e){return"keypress"===e.type?Be(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Be(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Dr=Lr.extend({dataTransfer:null}),zr=Pr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Le}),Ur=j.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),qr=Lr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Hr={},$r={};"blur cancel click close contextMenu copy cut doubleClick dragEnd dragStart drop focus input invalid keyDown keyPress keyUp mouseDown mouseUp paste pause play rateChange reset seeked submit touchCancel touchEnd touchStart volumeChange".split(" ").forEach(function(e){Fe(e,!0)}),"abort animationEnd animationIteration animationStart canPlay canPlayThrough drag dragEnter dragExit dragLeave dragOver durationChange emptied encrypted ended error load loadedData loadedMetadata loadStart mouseMove mouseOut mouseOver playing progress scroll seeking stalled suspend timeUpdate toggle touchMove transitionEnd waiting wheel".split(" ").forEach(function(e){Fe(e,!1)});var Wr={eventTypes:Hr,isInteractiveTopLevelEventType:function(e){return void 0!==(e=$r[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=$r[e];if(!i)return null;switch(e){case"topKeyPress":if(0===Be(n))return null;case"topKeyDown":case"topKeyUp":e=Fr;break;case"topBlur":case"topFocus":e=Nr;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":e=Lr;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":e=Dr;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":e=zr;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":e=Rr;break;case"topTransitionEnd":e=Ur;break;case"topScroll":e=Pr;break;case"topWheel":e=qr;break;case"topCopy":case"topCut":case"topPaste":e=jr;break;default:e=j}return t=e.getPooled(i,t,n,r),O(t),t}},Zr=Wr.isInteractiveTopLevelEventType,Vr=[],Gr=!0,Kr=Object.freeze({get _enabled(){return Gr},setEnabled:ze,isEnabled:function(){return Gr},trapBubbledEvent:Ue,trapCapturedEvent:qe,dispatchEvent:$e}),Yr={animationend:We("Animation","AnimationEnd"),animationiteration:We("Animation","AnimationIteration"),animationstart:We("Animation","AnimationStart"),transitionend:We("Transition","TransitionEnd")},Qr={},Jr={};ln.canUseDOM&&(Jr=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);var Xr={topAnimationEnd:Ze("animationend"),topAnimationIteration:Ze("animationiteration"),topAnimationStart:Ze("animationstart"),topBlur:"blur",topCancel:"cancel",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoad:"load",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:Ze("transitionend"),topWheel:"wheel"},ei={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},ti={},ni=0,ri="_reactListenersID"+(""+Math.random()).slice(2),ii=ln.canUseDOM&&"documentMode"in document&&11>=document.documentMode,oi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},ai=null,si=null,ui=null,ci=!1,li={eventTypes:oi,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Ve(o),i=Cn.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?b(t):window,e){case"topFocus":(Y(o)||"true"===o.contentEditable)&&(ai=o,si=t,ui=null);break;case"topBlur":ui=si=ai=null;break;case"topMouseDown":ci=!0;break;case"topContextMenu":case"topMouseUp":return ci=!1,Qe(n,r);case"topSelectionChange":if(ii)break;case"topKeyDown":case"topKeyUp":return Qe(n,r)}return null}};On.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Tn=jn.getFiberCurrentPropsFromNode,Sn=jn.getInstanceFromNode,kn=jn.getNodeFromInstance,On.injectEventPluginsByName({SimpleEventPlugin:Wr,EnterLeaveEventPlugin:Ar,ChangeEventPlugin:kr,SelectEventPlugin:li,BeforeInputEventPlugin:Qn});var fi=null,hi=null;new Set;var pi=void 0,di=void 0,mi=Array.isArray,gi=vt(!0),yi=vt(!1),vi={},_i=Object.freeze({default:Lt}),bi=_i&&Lt||_i,wi=bi.default?bi.default:bi,xi="object"==typeof performance&&"function"==typeof performance.now,Ci=void 0;Ci=xi?function(){return performance.now()}:function(){return Date.now()};var Ei=void 0,Ti=void 0;if(ln.canUseDOM)if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){var Si=null,ki=!1,Pi=-1,Oi=!1,Li=0,Mi=33,Ai=33,Ri=void 0;Ri=xi?{didTimeout:!1,timeRemaining:function(){var e=Li-performance.now();return 0<e?e:0}}:{didTimeout:!1,timeRemaining:function(){var e=Li-Date.now();return 0<e?e:0}};var ji="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===ji){if(ki=!1,e=Ci(),0>=Li-e){if(!(-1!==Pi&&Pi<=e))return void(Oi||(Oi=!0,requestAnimationFrame(Ni)));Ri.didTimeout=!0}else Ri.didTimeout=!1;Pi=-1,e=Si,Si=null,null!==e&&e(Ri)}},!1);var Ni=function(e){Oi=!1;var t=e-Li+Ai;t<Ai&&Mi<Ai?(8>t&&(t=8),Ai=t<Mi?Mi:t):Mi=t,Li=e+Ai,ki||(ki=!0,window.postMessage(ji,"*"))};Ei=function(e,t){return Si=e,null!=t&&"number"==typeof t.timeout&&(Pi=Ci()+t.timeout),Oi||(Oi=!0,requestAnimationFrame(Ni)),0},Ti=function(){Si=null,ki=!1,Pi=-1}}else Ei=window.requestIdleCallback,Ti=window.cancelIdleCallback;else Ei=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})})},Ti=function(e){clearTimeout(e)};var Ii={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Bi=void 0,Fi=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==Ii.svg||"innerHTML"in e)e.innerHTML=t;else{for(Bi=Bi||document.createElement("div"),Bi.innerHTML="<svg>"+t+"</svg>",t=Bi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),Di={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zi=["Webkit","ms","Moz","O"];Object.keys(Di).forEach(function(e){zi.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Di[t]=Di[e]})});var Ui=fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),qi=Ii.html,Hi=hn.thatReturns(""),$i=Object.freeze({createElement:Vt,createTextNode:Gt,setInitialProperties:Kt,diffProperties:Yt,updateProperties:Qt,diffHydratedProperties:Jt,diffHydratedText:Xt,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(me(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=w(i);o||r("90"),ne(i),me(i,o)}}}break;case"textarea":Ft(e,n);break;case"select":null!=(t=n.value)&&jt(e,!!n.multiple,t,!1)}}});tr.injectFiberControlledHostComponent($i);var Wi=null,Zi=null;en.prototype.render=function(e){this._defer||r("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,i=new tn;return Vi.updateContainerAtExpirationTime(e,t,null,n,i._onCommit),i},en.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},en.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||r("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var i=null,o=t;o!==this;)i=o,o=o._next;null===i&&r("251"),i._next=o._next,this._next=t,e.firstBatch=this}this._defer=!1,Vi.flushRoot(e,n),t=this._next,this._next=null,t=e.firstBatch=t,null!==t&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},en.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},tn.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},tn.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&r("191",n),n()}}},nn.prototype.render=function(e,t){var n=this._internalRoot,r=new tn;return t=void 0===t?null:t,null!==t&&r.then(t),Vi.updateContainer(e,n,null,r._onCommit),r},nn.prototype.unmount=function(e){var t=this._internalRoot,n=new tn;return e=void 0===e?null:e,null!==e&&n.then(e),Vi.updateContainer(null,t,null,n._onCommit),n},nn.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new tn;return n=void 0===n?null:n,null!==n&&i.then(n),Vi.updateContainer(t,r,e,i._onCommit),i},nn.prototype.createBatch=function(){var e=new en(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime<=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e};var Vi=wi({getRootHostContext:function(e){var t=e.nodeType;switch(t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ut(null,"");break;default:t=8===t?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ut(e,t)}return e},getChildHostContext:function(e,t){return Ut(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){Wi=Gr;var e=pn();if(Ye(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=window.getSelection&&window.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var o=0,a=-1,s=-1,u=0,c=0,l=e,f=null;t:for(;;){for(var h;l!==t||0!==r&&3!==l.nodeType||(a=o+r),l!==i||0!==n&&3!==l.nodeType||(s=o+n),3===l.nodeType&&(o+=l.nodeValue.length),null!==(h=l.firstChild);)f=l,l=h;for(;;){if(l===e)break t;if(f===t&&++u===r&&(a=o),f===i&&++c===n&&(s=o),null!==(h=l.nextSibling))break;l=f,f=l.parentNode}l=h}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;Zi={focusedElem:e,selectionRange:t},ze(!1)},resetAfterCommit:function(){var e=Zi,t=pn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&mn(document.documentElement,n)){if(Ye(n))if(t=r.start,e=r.end,void 0===e&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(window.getSelection){t=window.getSelection();var i=n[M()].length;e=Math.min(r.start,i),r=void 0===r.end?e:Math.min(r.end,i),!t.extend&&e>r&&(i=r,r=e,e=i),i=Ke(n,e);var o=Ke(n,r);if(i&&o&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)){var a=document.createRange();a.setStart(i.node,i.offset),t.removeAllRanges(),e>r?(t.addRange(a),t.extend(o.node,o.offset)):(a.setEnd(o.node,o.offset),t.addRange(a))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}Zi=null,ze(Wi),Wi=null},createInstance:function(e,t,n,r,i){return e=Vt(e,t,n,r),e[An]=i,e[Rn]=t,e},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){return Kt(e,t,n,r),on(t,n)},prepareUpdate:function(e,t,n,r,i){return Yt(e,t,n,r,i)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){return e=Gt(e,t),e[An]=r,e},now:Ci,mutation:{commitMount:function(e,t,n){on(t,n)&&e.focus()},commitUpdate:function(e,t,n,r,i){e[Rn]=i,Qt(e,t,n,r,i)},resetTextContent:function(e){qt(e,"")},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){8===e.nodeType?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){8===e.nodeType?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)}},hydration:{canHydrateInstance:function(e,t){return 1!==e.nodeType||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e},canHydrateTextInstance:function(e,t){return""===t||3!==e.nodeType?null:e},getNextHydratableSibling:function(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},getFirstHydratableChild:function(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},hydrateInstance:function(e,t,n,r,i,o){return e[An]=o,e[Rn]=n,Jt(e,t,n,i,r)},hydrateTextInstance:function(e,t,n){return e[An]=n,Xt(e,t)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:Ei,cancelDeferredCallback:Ti}),Gi=Vi;Z=Gi.batchedUpdates,V=Gi.interactiveUpdates,G=Gi.flushInteractiveUpdates;var Ki={createPortal:un,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(t)return Vi.findHostInstance(t);"function"==typeof e.render?r("188"):r("213",Object.keys(e))},hydrate:function(e,t,n){return sn(null,e,t,!0,n)},render:function(e,t,n){return sn(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){return(null==e||void 0===e._reactInternalFiber)&&r("38"),sn(e,t,n,!1,i)},unmountComponentAtNode:function(e){return rn(e)||r("40"),!!e._reactRootContainer&&(Vi.unbatchedUpdates(function(){sn(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return un.apply(void 0,arguments)},unstable_batchedUpdates:Vi.batchedUpdates,unstable_deferredUpdates:Vi.deferredUpdates,flushSync:Vi.flushSync,unstable_flushControlled:Vi.flushControlled,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:Ln,EventPluginRegistry:En,EventPropagators:Nn,ReactControlledComponent:nr,ReactDOMComponentTree:jn,ReactDOMEventListener:Kr},unstable_createRoot:function(e,t){return new nn(e,!0,null!=t&&!0===t.hydrate)}};Vi.injectIntoDevTools({findFiberByHostInstance:_,bundleType:0,version:"16.3.1",rendererPackageName:"react-dom"});var Yi=Object.freeze({default:Ki}),Qi=Yi&&Ki||Yi;e.exports=Qi.default?Qi.default:Qi},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t,n){"use strict";function r(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=r},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;e.exports=i},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(58);e.exports=r},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(59);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],a=n||t+"Subscription",u=function(e){function n(o,a){r(this,n);var s=i(this,e.call(this,o,a));return s[t]=o.store,s}return o(n,e),n.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[a]=null,e},n.prototype.render=function(){return s.Children.only(this.props.children)},n}(s.Component);return u.propTypes={store:l.a.isRequired,children:c.a.element.isRequired},u.childContextTypes=(e={},e[t]=l.a.isRequired,e[a]=l.b,e),u.displayName="Provider",u}t.a=a;var s=n(0),u=(n.n(s),n(29)),c=n.n(u),l=n(30);n(17);t.b=a()},function(e,t,n){"use strict";var r=n(62),i=n(63),o=n(64);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,u){if(i(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,s,u],f=0;c=new Error(t.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e=[],t=[];return{clear:function(){t=o,e=o},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==o&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}n.d(t,"a",function(){return s});var o=null,a={notify:function(){}},s=function(){function e(t,n,i){r(this,e),this.store=t,this.parentSub=n,this.onStateChange=i,this.unsubscribe=null,this.listeners=a}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=i())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=a)},e}()},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function o(e,t){return e===t}var a=n(31),s=n(67),u=n(68),c=n(84),l=n(85),f=n(86),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?a.a:t,p=e.mapStateToPropsFactories,d=void 0===p?c.a:p,m=e.mapDispatchToPropsFactories,g=void 0===m?u.a:m,y=e.mergePropsFactories,v=void 0===y?l.a:y,_=e.selectorFactory,b=void 0===_?f.a:_;return function(e,t,a){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=u.pure,l=void 0===c||c,f=u.areStatesEqual,p=void 0===f?o:f,m=u.areOwnPropsEqual,y=void 0===m?s.a:m,_=u.areStatePropsEqual,w=void 0===_?s.a:_,x=u.areMergedPropsEqual,C=void 0===x?s.a:x,E=r(u,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),T=i(e,d,"mapStateToProps"),S=i(t,g,"mapDispatchToProps"),k=i(a,v,"mergeProps");return n(b,h({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:T,initMapDispatchToProps:S,initMergeProps:k,pure:l,areStatesEqual:p,areOwnPropsEqual:y,areStatePropsEqual:w,areMergedPropsEqual:C},E))}}()},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}t.a=i;var o=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";function r(e){return"function"==typeof e?s.b(e,"mapDispatchToProps"):void 0}function i(e){return e?void 0:s.a(function(e){return{dispatch:e}})}function o(e){return e&&"object"==typeof e?s.a(function(t){return a.bindActionCreators(e,t)}):void 0}var a=n(33),s=n(38);t.a=[r,i,o]},function(e,t,n){"use strict";function r(e){return null==e?void 0===e?u:s:c&&c in Object(e)?o.a(e):a.a(e)}var i=n(35),o=n(72),a=n(73),s="[object Null]",u="[object Undefined]",c=i.a?i.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";var r=n(71),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();t.a=o},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(19))},function(e,t,n){"use strict";function r(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[u]=n:delete e[u]),i}var i=n(35),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i.a?i.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";function r(e){return o.call(e)}var i=Object.prototype,o=i.toString;t.a=r},function(e,t,n){"use strict";var r=n(75),i=r.a(Object.getPrototypeOf,Object);t.a=i},function(e,t,n){"use strict";function r(e,t){return function(n){return e(t(n))}}t.a=r},function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}t.a=r},function(e,t,n){e.exports=n(78)},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(80),a=function(e){return e&&e.__esModule?e:{default:e}}(o);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var s=(0,a.default)(i);t.default=s}).call(t,n(19),n(79)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function i(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:a.a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function o(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++){var a=t[o];"function"==typeof e[a]&&(n[a]=e[a])}var s=Object.keys(n),u=void 0;try{i(n)}catch(e){u=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(u)throw u;for(var i=!1,o={},a=0;a<s.length;a++){var c=s[a],l=n[c],f=e[c],h=l(f,t);if(void 0===h){var p=r(c,t);throw new Error(p)}o[c]=h,i=i||h!==f}return i?o:e}}t.a=o;var a=n(34);n(18),n(36)},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function i(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),i={},o=0;o<n.length;o++){var a=n[o],s=e[a];"function"==typeof s&&(i[a]=r(s,t))}return i}t.a=i},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,a){var s=e(n,r,a),u=s.dispatch,c=[],l={getState:s.getState,dispatch:function(e){return u(e)}};return c=t.map(function(e){return e(l)}),u=i.a.apply(void 0,c)(s.dispatch),o({},s,{dispatch:u})}}}t.a=r;var i=n(37),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e){return"function"==typeof e?o.b(e,"mapStateToProps"):void 0}function i(e){return e?void 0:o.a(function(){return{}})}var o=n(38);t.a=[r,i]},function(e,t,n){"use strict";function r(e,t,n){return s({},n,e,t)}function i(e){return function(t,n){var r=(n.displayName,n.pure),i=n.areMergedPropsEqual,o=!1,a=void 0;return function(t,n,s){var u=e(t,n,s);return o?r&&i(u,a)||(a=u):(o=!0,a=u),a}}}function o(e){return"function"==typeof e?i(e):void 0}function a(e){return e?void 0:function(){return r}}var s=(n(39),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});t.a=[o,a]},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function o(e,t,n,r,i){function o(i,o){return d=i,m=o,g=e(d,m),y=t(r,m),v=n(g,y,m),p=!0,v}function a(){return g=e(d,m),t.dependsOnOwnProps&&(y=t(r,m)),v=n(g,y,m)}function s(){return e.dependsOnOwnProps&&(g=e(d,m)),t.dependsOnOwnProps&&(y=t(r,m)),v=n(g,y,m)}function u(){var t=e(d,m),r=!h(t,g);return g=t,r&&(v=n(g,y,m)),v}function c(e,t){var n=!f(t,m),r=!l(e,d);return d=e,m=t,n&&r?a():n?s():r?u():v}var l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,p=!1,d=void 0,m=void 0,g=void 0,y=void 0,v=void 0;return function(e,t){return p?c(e,t):o(e,t)}}function a(e,t){var n=t.initMapStateToProps,a=t.initMapDispatchToProps,s=t.initMergeProps,u=r(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),c=n(e,u),l=a(e,u),f=s(e,u);return(u.pure?o:i)(c,l,f,e,u)}t.a=a;n(87)},function(e,t,n){"use strict";n(17)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(40),s=n(122),u=r(s),c=n(183),l=r(c),f=function(){return o.default.createElement(a.BrowserRouter,null,o.default.createElement("div",null,o.default.createElement(a.Switch,null,o.default.createElement(a.Route,{path:"/",component:u.default,exact:!0}),o.default.createElement(a.Route,{path:"/page",component:u.default,exact:!0}),o.default.createElement(a.Route,{component:l.default}))))};t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(14),c=n.n(u),l=n(94),f=n.n(l),h=n(5),p=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(u))),o.history=f.a(o.props),a=n,i(o,a)}return o(t,e),t.prototype.render=function(){return s.a.createElement(h.e,{history:this.history,children:this.props.children})},t}(s.a.Component);p.propTypes={basename:c.a.string,forceRefresh:c.a.bool,getUserConfirmation:c.a.func,keyLength:c.a.number,children:c.a.node},t.a=p},function(e,t,n){"use strict";var r=n(91),i=n(92),o=n(93);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,u){if(i(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,s,u],f=0;c=new Error(t.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(9),s=r(a),u=n(12),c=r(u),l=n(20),f=n(13),h=n(21),p=r(h),d=n(41),m=function(){try{return window.history.state||{}}catch(e){return{}}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.default)(d.canUseDOM,"Browser history needs a DOM");var t=window.history,n=(0,d.supportsHistory)(),r=!(0,d.supportsPopStateOnHashChange)(),a=e.forceRefresh,u=void 0!==a&&a,h=e.getUserConfirmation,g=void 0===h?d.getConfirmation:h,y=e.keyLength,v=void 0===y?6:y,_=e.basename?(0,f.stripTrailingSlash)((0,f.addLeadingSlash)(e.basename)):"",b=function(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname,a=i.search,u=i.hash,c=o+a+u;return(0,s.default)(!_||(0,f.hasBasename)(c,_),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+c+'" to begin with "'+_+'".'),_&&(c=(0,f.stripBasename)(c,_)),(0,l.createLocation)(c,r,n)},w=function(){return Math.random().toString(36).substr(2,v)},x=(0,p.default)(),C=function(e){o(q,e),q.length=t.length,x.notifyListeners(q.location,q.action)},E=function(e){(0,d.isExtraneousPopstateEvent)(e)||k(b(e.state))},T=function(){k(b(m()))},S=!1,k=function(e){if(S)S=!1,C();else{x.confirmTransitionTo(e,"POP",g,function(t){t?C({action:"POP",location:e}):P(e)})}},P=function(e){var t=q.location,n=L.indexOf(t.key);-1===n&&(n=0);var r=L.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(S=!0,j(i))},O=b(m()),L=[O.key],M=function(e){return _+(0,f.createPath)(e)},A=function(e,r){(0,s.default)(!("object"===(void 0===e?"undefined":i(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o=(0,l.createLocation)(e,r,w(),q.location);x.confirmTransitionTo(o,"PUSH",g,function(e){if(e){var r=M(o),i=o.key,a=o.state;if(n)if(t.pushState({key:i,state:a},null,r),u)window.location.href=r;else{var c=L.indexOf(q.location.key),l=L.slice(0,-1===c?0:c+1);l.push(o.key),L=l,C({action:"PUSH",location:o})}else(0,s.default)(void 0===a,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},R=function(e,r){(0,s.default)(!("object"===(void 0===e?"undefined":i(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=(0,l.createLocation)(e,r,w(),q.location);x.confirmTransitionTo(o,"REPLACE",g,function(e){if(e){var r=M(o),i=o.key,a=o.state;if(n)if(t.replaceState({key:i,state:a},null,r),u)window.location.replace(r);else{var c=L.indexOf(q.location.key);-1!==c&&(L[c]=o.key),C({action:"REPLACE",location:o})}else(0,s.default)(void 0===a,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},j=function(e){t.go(e)},N=function(){return j(-1)},I=function(){return j(1)},B=0,F=function(e){B+=e,1===B?((0,d.addEventListener)(window,"popstate",E),r&&(0,d.addEventListener)(window,"hashchange",T)):0===B&&((0,d.removeEventListener)(window,"popstate",E),r&&(0,d.removeEventListener)(window,"hashchange",T))},D=!1,z=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=x.setPrompt(e);return D||(F(1),D=!0),function(){return D&&(D=!1,F(-1)),t()}},U=function(e){var t=x.appendListener(e);return F(1),function(){F(-1),t()}},q={length:t.length,action:"POP",location:O,createHref:M,push:A,replace:R,go:j,goBack:N,goForward:I,block:z,listen:U};return q};t.default=g},function(e,t,n){"use strict";var r=function(e){return"/"===e.charAt(0)},i=function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],o=t&&t.split("/")||[],a=e&&r(e),s=t&&r(t),u=a||s;if(e&&r(e)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var c=void 0;if(o.length){var l=o[o.length-1];c="."===l||".."===l||""===l}else c=!1;for(var f=0,h=o.length;h>=0;h--){var p=o[h];"."===p?i(o,h):".."===p?(i(o,h),f++):f&&(i(o,h),f--)}if(!u)for(;f--;f)o.unshift("..");!u||""===o[0]||o[0]&&r(o[0])||o.unshift("");var d=o.join("/");return c&&"/"!==d.substr(-1)&&(d+="/"),d};e.exports=o},function(e,t,n){"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});var i=void 0===t?"undefined":r(t);if(i!==(void 0===n?"undefined":r(n)))return!1;if("object"===i){var o=t.valueOf(),a=n.valueOf();if(o!==t||a!==n)return e(o,a);var s=Object.keys(t),u=Object.keys(n);return s.length===u.length&&s.every(function(r){return e(t[r],n[r])})}return!1};t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(8),c=n.n(u),l=n(102),f=n.n(l),h=n(22),p=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(u))),o.history=f.a(o.props),a=n,i(o,a)}return o(t,e),t.prototype.render=function(){return s.a.createElement(h.a,{history:this.history,children:this.props.children})},t}(s.a.Component);p.propTypes={initialEntries:c.a.array,initialIndex:c.a.number,getUserConfirmation:c.a.func,keyLength:c.a.number,children:c.a.node},t.a=p},function(e,t,n){"use strict";var r=n(99),i=n(100),o=n(101);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,u){if(i(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,s,u],f=0;c=new Error(t.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(9),s=r(a),u=n(13),c=n(20),l=n(21),f=r(l),h=function(e,t,n){return Math.min(Math.max(e,t),n)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getUserConfirmation,n=e.initialEntries,r=void 0===n?["/"]:n,a=e.initialIndex,l=void 0===a?0:a,p=e.keyLength,d=void 0===p?6:p,m=(0,f.default)(),g=function(e){o(O,e),O.length=O.entries.length,m.notifyListeners(O.location,O.action)},y=function(){return Math.random().toString(36).substr(2,d)},v=h(l,0,r.length-1),_=r.map(function(e){return"string"==typeof e?(0,c.createLocation)(e,void 0,y()):(0,c.createLocation)(e,void 0,e.key||y())}),b=u.createPath,w=function(e,n){(0,s.default)(!("object"===(void 0===e?"undefined":i(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r=(0,c.createLocation)(e,n,y(),O.location);m.confirmTransitionTo(r,"PUSH",t,function(e){if(e){var t=O.index,n=t+1,i=O.entries.slice(0);i.length>n?i.splice(n,i.length-n,r):i.push(r),g({action:"PUSH",location:r,index:n,entries:i})}})},x=function(e,n){(0,s.default)(!("object"===(void 0===e?"undefined":i(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=(0,c.createLocation)(e,n,y(),O.location);m.confirmTransitionTo(r,"REPLACE",t,function(e){e&&(O.entries[O.index]=r,g({action:"REPLACE",location:r}))})},C=function(e){var n=h(O.index+e,0,O.entries.length-1),r=O.entries[n];m.confirmTransitionTo(r,"POP",t,function(e){e?g({action:"POP",location:r,index:n}):g()})},E=function(){return C(-1)},T=function(){return C(1)},S=function(e){var t=O.index+e;return t>=0&&t<O.entries.length},k=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m.setPrompt(e)},P=function(e){return m.appendListener(e)},O={length:_.length,action:"POP",location:_[v],index:v,entries:_,createHref:b,push:w,replace:x,go:C,goBack:E,goForward:T,canGo:S,block:k,listen:P};return O};t.default=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(8),c=n.n(u),l=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(s.a.Component);l.propTypes={when:c.a.bool,message:c.a.oneOfType([c.a.func,c.a.string]).isRequired},l.defaultProps={when:!0},l.contextTypes={router:c.a.shape({history:c.a.shape({block:c.a.func.isRequired}).isRequired}).isRequired},t.a=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(8),c=n.n(u),l=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.perform=function(){var e=this.context.router.history,t=this.props,n=t.push,r=t.to;n?e.push(r):e.replace(r)},t.prototype.render=function(){return null},t}(s.a.Component);l.propTypes={push:c.a.bool,from:c.a.string,to:c.a.oneOfType([c.a.string,c.a.object])},l.defaultProps={push:!1},l.contextTypes={router:c.a.shape({history:c.a.shape({push:c.a.func.isRequired,replace:c.a.func.isRequired}).isRequired,staticContext:c.a.object}).isRequired},t.a=l},function(e,t,n){function r(e,t){for(var n,r=[],i=0,o=0,a="",s=t&&t.delimiter||"/";null!=(n=v.exec(e));){var l=n[0],f=n[1],h=n.index;if(a+=e.slice(o,h),o=h+l.length,f)a+=f[1];else{var p=e[o],d=n[2],m=n[3],g=n[4],y=n[5],_=n[6],b=n[7];a&&(r.push(a),a="");var w=null!=d&&null!=p&&p!==d,x="+"===_||"*"===_,C="?"===_||"*"===_,E=n[2]||s,T=g||y;r.push({name:m||i++,prefix:d||"",delimiter:E,optional:C,repeat:x,partial:w,asterisk:!!b,pattern:T?c(T):b?".*":"[^"+u(E)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&r.push(a),r}function i(e,t){return s(r(e,t))}function o(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function a(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var i="",s=n||{},u=r||{},c=u.pretty?o:encodeURIComponent,l=0;l<e.length;l++){var f=e[l];if("string"!=typeof f){var h,p=s[f.name];if(null==p){if(f.optional){f.partial&&(i+=f.prefix);continue}throw new TypeError('Expected "'+f.name+'" to be defined')}if(y(p)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var d=0;d<p.length;d++){if(h=c(p[d]),!t[l].test(h))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(h)+"`");i+=(0===d?f.prefix:f.delimiter)+h}}else{if(h=f.asterisk?a(p):c(p),!t[l].test(h))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+h+'"');i+=f.prefix+h}}else i+=f}return i}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e.sensitive?"":"i"}function h(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}function p(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(g(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}function d(e,t,n){return m(r(e,n),t,n)}function m(e,t,n){y(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",a=0;a<e.length;a++){var s=e[a];if("string"==typeof s)o+=u(s);else{var c=u(s.prefix),h="(?:"+s.pattern+")";t.push(s),s.repeat&&(h+="(?:"+c+h+")*"),h=s.optional?s.partial?c+"("+h+")?":"(?:"+c+"("+h+"))?":c+"("+h+")",o+=h}}var p=u(n.delimiter||"/"),d=o.slice(-p.length)===p;return r||(o=(d?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=i?"$":r&&d?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function g(e,t,n){return y(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?h(e,t):y(e)?p(e,t,n):d(e,t,n)}var y=n(106);e.exports=g,e.exports.parse=r,e.exports.compile=i,e.exports.tokensToFunction=s,e.exports.tokensToRegExp=m;var v=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(12),u=n.n(s),c=n(0),l=n.n(c),f=n(8),h=n.n(f),p=n(13),d=(n.n(p),n(22)),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return{pathname:n,search:"?"===i?"":i,hash:"#"===a?"":a}},y=function(e,t){return e?m({},t,{pathname:p.addLeadingSlash(e)+t.pathname}):t},v=function(e,t){if(!e)return t;var n=p.addLeadingSlash(e);return 0!==t.pathname.indexOf(n)?t:m({},t,{pathname:t.pathname.substr(n.length)})},_=function(e){return"string"==typeof e?p.parsePath(e):g(e)},b=function(e){return"string"==typeof e?e:p.createPath(e)},w=function(e){return function(){u.a(!1,"You cannot %s with <StaticRouter>",e)}},x=function(){},C=function(e){function t(){var n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,e.call.apply(e,[this].concat(u))),r.createHref=function(e){return p.addLeadingSlash(r.props.basename+b(e))},r.handlePush=function(e){var t=r.props,n=t.basename,i=t.context;i.action="PUSH",i.location=y(n,_(e)),i.url=b(i.location)},r.handleReplace=function(e){var t=r.props,n=t.basename,i=t.context;i.action="REPLACE",i.location=y(n,_(e)),i.url=b(i.location)},r.handleListen=function(){return x},r.handleBlock=function(){return x},a=n,o(r,a)}return a(t,e),t.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},t.prototype.render=function(){var e=this.props,t=e.basename,n=(e.context,e.location),i=r(e,["basename","context","location"]),o={createHref:this.createHref,action:"POP",location:v(t,_(n)),push:this.handlePush,replace:this.handleReplace,go:w("go"),goBack:w("goBack"),goForward:w("goForward"),listen:this.handleListen,block:this.handleBlock};return l.a.createElement(d.a,m({},i,{history:o}))},t}(l.a.Component);C.propTypes={basename:h.a.string,context:h.a.object.isRequired,location:h.a.oneOfType([h.a.string,h.a.object])},C.defaultProps={basename:"",location:"/"},C.childContextTypes={router:h.a.object.isRequired},t.a=C},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(8),c=n.n(u),l=n(9),f=n.n(l),h=n(23),p=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.componentWillReceiveProps=function(e){f.a(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),f.a(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,r=void 0,i=void 0;return s.a.Children.forEach(t,function(t){if(s.a.isValidElement(t)){var o=t.props,a=o.path,u=o.exact,c=o.strict,l=o.from,f=a||l;null==r&&(i=t,r=f?h.a(n.pathname,{path:f,exact:u,strict:c}):e.match)}}),r?s.a.cloneElement(i,{location:n,computedMatch:r}):null},t}(s.a.Component);p.contextTypes={router:c.a.shape({route:c.a.object.isRequired}).isRequired},p.propTypes={children:c.a.node,location:c.a.object},t.a=p},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(0),o=n.n(i),a=n(8),s=n.n(a),u=n(32),c=n.n(u),l=n(42),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(e){var t=function(t){var n=t.wrappedComponentRef,i=r(t,["wrappedComponentRef"]);return o.a.createElement(l.a,{render:function(t){return o.a.createElement(e,f({},i,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:s.a.func},c.a(t,e)};t.a=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),u=n(14),c=n.n(u),l=n(111),f=n.n(l),h=n(5),p=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(u))),o.history=f.a(o.props),a=n,i(o,a)}return o(t,e),t.prototype.render=function(){return s.a.createElement(h.e,{history:this.history,children:this.props.children})},t}(s.a.Component);p.propTypes={basename:c.a.string,getUserConfirmation:c.a.func,hashType:c.a.oneOf(["hashbang","noslash","slash"]),children:c.a.node},t.a=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(9),a=r(o),s=n(12),u=r(s),c=n(20),l=n(13),f=n(21),h=r(f),p=n(41),d={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+(0,l.stripLeadingSlash)(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:l.stripLeadingSlash,decodePath:l.addLeadingSlash},slash:{encodePath:l.addLeadingSlash,decodePath:l.addLeadingSlash}},m=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},g=function(e){return window.location.hash=e},y=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)(p.canUseDOM,"Hash history needs a DOM");var t=window.history,n=(0,p.supportsGoWithoutReloadUsingHash)(),r=e.getUserConfirmation,o=void 0===r?p.getConfirmation:r,s=e.hashType,f=void 0===s?"slash":s,v=e.basename?(0,l.stripTrailingSlash)((0,l.addLeadingSlash)(e.basename)):"",_=d[f],b=_.encodePath,w=_.decodePath,x=function(){var e=w(m());return(0,a.default)(!v||(0,l.hasBasename)(e,v),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+v+'".'),v&&(e=(0,l.stripBasename)(e,v)),(0,c.createLocation)(e)},C=(0,h.default)(),E=function(e){i(W,e),W.length=t.length,C.notifyListeners(W.location,W.action)},T=!1,S=null,k=function(){var e=m(),t=b(e);if(e!==t)y(t);else{var n=x(),r=W.location;if(!T&&(0,c.locationsAreEqual)(r,n))return;if(S===(0,l.createPath)(n))return;S=null,P(n)}},P=function(e){if(T)T=!1,E();else{C.confirmTransitionTo(e,"POP",o,function(t){t?E({action:"POP",location:e}):O(e)})}},O=function(e){var t=W.location,n=R.lastIndexOf((0,l.createPath)(t));-1===n&&(n=0);var r=R.lastIndexOf((0,l.createPath)(e));-1===r&&(r=0);var i=n-r;i&&(T=!0,B(i))},L=m(),M=b(L);L!==M&&y(M);var A=x(),R=[(0,l.createPath)(A)],j=function(e){return"#"+b(v+(0,l.createPath)(e))},N=function(e,t){(0,a.default)(void 0===t,"Hash history cannot push state; it is ignored");var n=(0,c.createLocation)(e,void 0,void 0,W.location);C.confirmTransitionTo(n,"PUSH",o,function(e){if(e){var t=(0,l.createPath)(n),r=b(v+t);if(m()!==r){S=t,g(r);var i=R.lastIndexOf((0,l.createPath)(W.location)),o=R.slice(0,-1===i?0:i+1);o.push(t),R=o,E({action:"PUSH",location:n})}else(0,a.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),E()}})},I=function(e,t){(0,a.default)(void 0===t,"Hash history cannot replace state; it is ignored");var n=(0,c.createLocation)(e,void 0,void 0,W.location);C.confirmTransitionTo(n,"REPLACE",o,function(e){if(e){var t=(0,l.createPath)(n),r=b(v+t);m()!==r&&(S=t,y(r));var i=R.indexOf((0,l.createPath)(W.location));-1!==i&&(R[i]=t),E({action:"REPLACE",location:n})}})},B=function(e){(0,a.default)(n,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},F=function(){return B(-1)},D=function(){return B(1)},z=0,U=function(e){z+=e,1===z?(0,p.addEventListener)(window,"hashchange",k):0===z&&(0,p.removeEventListener)(window,"hashchange",k)},q=!1,H=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=C.setPrompt(e);return q||(U(1),q=!0),function(){return q&&(q=!1,U(-1)),t()}},$=function(e){var t=C.appendListener(e);return U(1),function(){U(-1),t()}},W={length:t.length,action:"POP",location:A,createHref:j,push:N,replace:I,go:B,goBack:F,goForward:D,block:H,listen:$};return W};t.default=v},function(e,t,n){"use strict";var r=n(5);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(0),o=n.n(i),a=n(14),s=n.n(a),u=n(5),c=n(43),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(e){var t=e.to,n=e.exact,i=e.strict,a=e.location,s=e.activeClassName,h=e.className,p=e.activeStyle,d=e.style,m=e.isActive,g=r(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive"]);return o.a.createElement(u.d,{path:"object"===(void 0===t?"undefined":f(t))?t.pathname:t,exact:n,strict:i,location:a,children:function(e){var n=e.location,r=e.match,i=!!(m?m(r,n):r);return o.a.createElement(c.a,l({to:t,className:i?[s,h].filter(function(e){return e}).join(" "):h,style:i?l({},d,p):d},g))}})};h.propTypes={to:c.a.propTypes.to,exact:s.a.bool,strict:s.a.bool,location:s.a.object,activeClassName:s.a.string,className:s.a.string,activeStyle:s.a.object,style:s.a.object,isActive:s.a.func},h.defaultProps={activeClassName:"active"},t.a=h},function(e,t,n){"use strict";var r=n(5);n.d(t,"a",function(){return r.b})},function(e,t,n){"use strict";var r=n(5);n.d(t,"a",function(){return r.c})},function(e,t,n){"use strict";var r=n(5);n.d(t,"a",function(){return r.d})},function(e,t,n){"use strict";var r=n(5);n.d(t,"a",function(){return r.e})},function(e,t,n){"use strict";var r=n(5);n.d(t,"a",function(){return r.f})},function(e,t,n){"use strict";var r=n(5);n.d(t,"a",function(){return r.g})},function(e,t,n){"use strict";var r=n(5);n.d(t,"a",function(){return r.h})},function(e,t,n){"use strict";var r=n(5);n.d(t,"a",function(){return r.i})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(123),s=r(a),u=n(143),c=r(u),l=n(147),f=r(l),h=n(152),p=r(h),d=n(180),m=r(d),g=n(181),y=r(g);n(2);var v=function(){return o.default.createElement("as-responsive-content",null,o.default.createElement("body",{className:"as-app"},o.default.createElement(c.default,null),o.default.createElement("div",{className:"as-content"},o.default.createElement("main",{className:"as-main"},o.default.createElement("div",{className:"as-map-area"},o.default.createElement(s.default,null),o.default.createElement(y.default,{vertical:"top",horizontal:"left",background:"",name:"Controls"})),o.default.createElement(m.default,{background:"",name:"Bottom"})),o.default.createElement(f.default,{size:"l",background:"",name:"Right"}),o.default.createElement(p.default,{size:"s",background:"",name:"Left"}))))};t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),h=r(f),p=n(3),d=n(24),m=r(d),g=n(4),y=r(g),v=n(1),_=n(124),b=(r(_),n(10)),w=n(138),x=r(w),C=n(45),E=r(C),T=n(15),S=r(T);n(2);var k=S.default.BASEMAP,P=S.default.BASEMAP_LABELS,O=(S.default.CENTER,S.default.ZOOM,function(e){function t(e){a(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=c({},e),n}return u(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=m.default.map("map",{zoomControl:!1,maxZoom:18}).setView(this.props.viewport.center,this.props.viewport.zoom);this.props.setMap(t),m.default.tileLayer(k).addTo(t),this.popup=m.default.popup({closeButton:!1});var n=new y.default.filter.BoundingBoxLeaflet(t);this.props.changeCartoBBox(n),t.on("moveend",function(t){var n=t.target.getBounds(),r=t.target.getCenter(),i=t.target.getZoom(),o={center:r,zoom:i};e.props.setBboxFilter([n._northEast.lat,n._northEast.lng,n._southWest.lat,n._southWest.lng]),e.props.changeViewport(o)})}},{key:"setupLayers",value:function(){var e=this,t=Object.keys(E.default).reduce(function(t,n){var r=E.default[n],a=r.options,s=o(r,["options"]),u=new y.default.source.SQL(s.query),l=new y.default.style.CartoCSS(s.cartocss),f=new y.default.layer.Layer(u,l,a);return a.featureClickColumns&&f.on("featureClicked",e.openPopup.bind(e)),e.props.client.getLeafletLayer().addTo(e.props.map),c({},t,i({},n,c({source:u,style:l,layer:f},s)))},{});this.props.client.addLayers(Object.values(t).map(function(e){return e.layer})),m.default.tileLayer(P).addTo(this.props.map),this.props.storeLayers(t)}},{key:"componentDidUpdate",value:function(e){!e.map&&this.props.map&&this.setupLayers()}},{key:"openPopup",value:function(e){this.popup.setContent(""),this.popup.setLatLng(e.latLng),this.popup.isOpen()||(this.popup.openOn(this.props.map),(0,p.render)(h.default.createElement(x.default,e.data),this.popup._contentNode))}},{key:"render",value:function(){var e=this.props.layers;Object.keys(e).length;return h.default.createElement("div",{id:"map"})}}]),t}(f.Component)),L=function(e){return{client:e.client,map:e.map,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},M=function(e){return{storeLayers:function(t){return e((0,b.storeLayers)(t))},setMap:function(t){return e((0,b.setMap)(t))},setBboxFilter:function(t){return e((0,b.setBboxFilter)(t))},changeViewport:function(t){return e((0,b.changeViewport)(t))},changeCartoBBox:function(t){return e((0,b.changeCartoBBox)(t))}}};t.default=(0,v.connect)(L,M)(O)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,r){function i(e){return e.replace(T,"-$1").toLowerCase()}function o(e){return k(e).replace(P,"-ms-")}function a(e){return"function"==typeof e&&"string"==typeof e.styledComponentId}function s(){}function u(e){return"string"==typeof e}function c(e){return e.displayName||e.name||"Component"}function l(e){return e.replace(Ne,"-").replace(Ie,"")}function f(e){for(var t,n=0|e.length,r=0|n,i=0;n>=4;)t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24,t=1540483477*(65535&t)+((1540483477*(t>>>16)&65535)<<16),t^=t>>>24,t=1540483477*(65535&t)+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^t,n-=4,++i;switch(n){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r^=255&e.charCodeAt(i),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)}return r^=r>>>13,r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}n.d(t,"css",function(){return q}),n.d(t,"keyframes",function(){return et}),n.d(t,"injectGlobal",function(){return tt}),n.d(t,"isStyledComponent",function(){return a}),n.d(t,"consolidateStreamedStyles",function(){return s}),n.d(t,"ThemeProvider",function(){return qe}),n.d(t,"withTheme",function(){return Ke}),n.d(t,"ServerStyleSheet",function(){return Le}),n.d(t,"StyleSheetManager",function(){return ke}),n.d(t,"__DO_NOT_USE_OR_YOU_WILL_BE_HAUNTED_BY_SPOOKY_GHOSTS",function(){return Ye});var h=n(126),p=n.n(h),d=n(128),m=n.n(d),g=n(129),y=n.n(g),v=n(0),_=n.n(v),b=n(130),w=n.n(b),x=n(135),C=(n.n(x),n(137)),E=n.n(C),T=/([A-Z])/g,S=i,k=S,P=/^ms-/,O=o,L=function e(t,n){var r=Object.keys(t).filter(function(e){var n=t[e];return void 0!==n&&null!==n&&!1!==n&&""!==n}).map(function(n){return p.a(t[n])?e(t[n],n):O(n)+": "+t[n]+";"}).join(" ");return n?n+" {\n  "+r+"\n}":r},M=function e(t,n){return t.reduce(function(t,r){return void 0===r||null===r||!1===r||""===r?t:Array.isArray(r)?[].concat(t,e(r,n)):r.hasOwnProperty("styledComponentId")?[].concat(t,["."+r.styledComponentId]):"function"==typeof r?n?t.concat.apply(t,e([r(n)],n)):t.concat(r):t.concat(p.a(r)?L(r):r.toString())},[])},A=new m.a({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),R=new m.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),j=[],N=function(e){if(-2===e){var t=j;return j=[],t}},I=y.a(function(e){j.push(e)});R.use([I,N]),A.use([I,N]);var B=function(e,t,n){var r=e.join("").replace(/^\s*\/\/.*$/gm,""),i=t&&n?n+" "+t+" { "+r+" }":r;return R(n||!t?"":t,i)},F=function(e){return A("",e)},D=function(e){return String.fromCharCode(e+(e>25?39:97))},z=function(e){var t="",n=void 0;for(n=e;n>52;n=Math.floor(n/52))t=D(n%52)+t;return D(n%52)+t},U=function(e,t){return t.reduce(function(t,n,r){return t.concat(n,e[r+1])},[e[0]])},q=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return M(U(e,n))},H=void 0!==e&&e.env.SC_ATTR||"data-styled-components",$="__styled-components-stylesheet__",W="undefined"!=typeof window&&"HTMLElement"in window,Z=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,V=function(e){var t=""+(e||""),n=[];return t.replace(Z,function(e,t,r){return n.push({componentId:t,matchIndex:r}),e}),n.map(function(e,r){var i=e.componentId,o=e.matchIndex,a=n[r+1];return{componentId:i,cssFromDOM:a?t.slice(o,a.matchIndex):t.slice(o)}})},G=function(){return n.nc},K=function(e){var t=!1;return function(){t||(t=!0,e())}},Y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},ee=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},te=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},ne=function(e,t,n){if(n){(e[t]||(e[t]=Object.create(null)))[n]=!0}},re=function(e,t){e[t]=Object.create(null)},ie=function(e){return function(t,n){return void 0!==e[t]&&e[t][n]}},oe=function(e){var t="";for(var n in e)t+=Object.keys(e[n]).join(" ")+" ";return t.trim()},ae=function(e){var t=Object.create(null);for(var n in e)t[n]=J({},e[n]);return t},se=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets.length,n=0;n<t;n+=1){var r=document.styleSheets[n];if(r.ownerNode===e)return r}throw new Error},ue=function(e,t,n){if(!t)return!1;var r=e.cssRules.length;try{e.insertRule(t,n<=r?n:r)}catch(e){return!1}return!0},ce=function(e,t,n){for(var r=t-n,i=t;i>=r;i-=1)e.deleteRule(i)},le=function(){throw new Error("")},fe=function(e){return"\n/* sc-component-id: "+e+" */\n"},he=function(e,t){for(var n=0,r=0;r<=t;r+=1)n+=e[r];return n},pe=function(e,t,n){var r=document.createElement("style");r.setAttribute(H,"");var i=G();if(i&&r.setAttribute("nonce",i),r.appendChild(document.createTextNode("")),e&&!t)e.appendChild(r);else{if(!t||!e||!t.parentNode)throw new Error("");t.parentNode.insertBefore(r,n?t:t.nextSibling)}return r},de=function(e,t){return function(n){var r=G();return"<style "+[r&&'nonce="'+r+'"',H+'="'+oe(t)+'"',n].filter(Boolean).join(" ")+">"+e()+"</style>"}},me=function(e,t){return function(){var n,r=(n={},n[H]=oe(t),n),i=G();return i&&(r.nonce=i),_.a.createElement("style",J({},r,{dangerouslySetInnerHTML:{__html:e()}}))}},ge=function(e){return function(){return Object.keys(e)}},ye=function(e,t){var n=Object.create(null),r=Object.create(null),i=[],o=void 0!==t,a=!1,s=function(e){var t=r[e];if(void 0!==t)return t;var o=r[e]=i.length;return i.push(0),re(n,e),o},u=function(r,u,c){for(var l=s(r),f=se(e),h=he(i,l),p=0,d=[],m=u.length,g=0;g<m;g+=1){var y=u[g],v=o;v&&-1!==y.indexOf("@import")?d.push(y):ue(f,y,h+p)&&(v=!1,p+=1)}o&&d.length>0&&(a=!0,t().insertRules(r+"-import",d)),i[l]+=p,ne(n,r,c)},c=function(s){var u=r[s];if(void 0!==u){var c=i[u],l=se(e),f=he(i,u);ce(l,f,c),i[u]=0,re(n,s),o&&a&&t().removeRules(s+"-import")}},l=function(){var t=se(e),n=t.cssRules,o="";for(var a in r){o+=fe(a);for(var s=r[a],u=he(i,s),c=i[s],l=u-c;l<u;l+=1){var f=n[l];void 0!==f&&(o+=f.cssText)}}return o};return{styleTag:e,getIds:ge(r),hasNameForId:ie(n),insertMarker:s,insertRules:u,removeRules:c,css:l,toHTML:de(l,n),toElement:me(l,n),clone:le}},ve=function e(t,n){var r=void 0===t?Object.create(null):t,i=void 0===n?Object.create(null):n,o=function(e){var t=i[e];return void 0!==t?t:i[e]=[""]},a=function(e,t,n){o(e)[0]+=t.join(" "),ne(r,e,n)},s=function(e){var t=i[e];void 0!==t&&(t[0]="",re(r,e))},u=function(){var e="";for(var t in i){var n=i[t][0];n&&(e+=fe(t)+n)}return e},c=function(){var t=ae(r),n=Object.create(null);for(var o in i)n[o]=[i[o][0]];return e(t,n)};return{styleTag:null,getIds:ge(i),hasNameForId:ie(r),insertMarker:o,insertRules:a,removeRules:s,css:u,toHTML:de(u,r),toElement:me(u,r),clone:c}},_e=function(){return ve()},be=function(e,t,n,r,i){if(W&&!n){var o=pe(e,t,r);return ye(o,i)}return _e()},we=function(e,t,n,r,i){var o=K(function(){for(var r=0;r<n.length;r+=1){var i=n[r],o=i.componentId,a=i.cssFromDOM,s=F(a);e.insertRules(o,s)}for(var u=0;u<t.length;u+=1){var c=t[u];c.parentNode&&c.parentNode.removeChild(c)}});return i&&o(),J({},e,{insertMarker:function(t){return o(),e.insertMarker(t)},insertRules:function(t,n,r){return o(),e.insertRules(t,n,r)}})},xe=void 0;xe=W?1e3:-1;var Ce,Ee=0,Te=void 0,Se=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W?document.head:null,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Y(this,e),this.getImportRuleTag=function(){var e=t.importRuleTag;if(void 0!==e)return e;var n=t.tags[0];return t.importRuleTag=be(t.target,n?n.styleTag:null,t.forceServer,!0)},this.id=Ee+=1,this.sealed=!1,this.forceServer=r,this.target=r?null:n,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return e.prototype.rehydrate=function(){if(!W||this.forceServer)return this;var e=[],t=[],n=[],r=!1,i=document.querySelectorAll("style["+H+"]"),o=i.length;if(0===o)return this;for(var a=0;a<o;a+=1){var s=i[a];r=!!s.getAttribute("data-styled-streamed")||r;for(var u=(s.getAttribute(H)||"").trim().split(/\s+/),c=u.length,l=0;l<c;l+=1){var f=u[l];this.rehydratedNames[f]=!0,t.push(f)}n=n.concat(V(s.textContent)),e.push(s)}var h=n.length;if(0===h)return this;var p=this.makeTag(null),d=we(p,e,n,0,r);this.capacity=Math.max(1,xe-h),this.tags.push(d);for(var m=0;m<h;m+=1)this.tagMap[n[m].componentId]=d;return this},e.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Te=new e(void 0,t).rehydrate()},e.prototype.clone=function(){var t=new e(this.target,this.forceServer);return this.clones.push(t),t.tags=this.tags.map(function(e){for(var n=e.getIds(),r=e.clone(),i=0;i<n.length;i+=1)t.tagMap[n[i]]=r;return r}),t.rehydratedNames=J({},this.rehydratedNames),t.deferred=J({},this.deferred),t},e.prototype.sealAllTags=function(){this.capacity=1,this.sealed=!0},e.prototype.makeTag=function(e){var t=e?e.styleTag:null;return be(this.target,t,this.forceServer,!1,this.getImportRuleTag)},e.prototype.getTagForId=function(e){var t=this.tagMap[e];if(void 0!==t&&!this.sealed)return t;var n=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=xe,this.sealed=!1,n=this.makeTag(n),this.tags.push(n)),this.tagMap[e]=n},e.prototype.hasId=function(e){return void 0!==this.tagMap[e]},e.prototype.hasNameForId=function(e,t){if(void 0===this.ignoreRehydratedNames[e]&&this.rehydratedNames[t])return!0;var n=this.tagMap[e];return void 0!==n&&n.hasNameForId(e,t)},e.prototype.deferredInject=function(e,t){if(void 0===this.tagMap[e]){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].deferredInject(e,t);this.getTagForId(e).insertMarker(e),this.deferred[e]=t}},e.prototype.inject=function(e,t,n){for(var r=this.clones,i=0;i<r.length;i+=1)r[i].inject(e,t,n);var o=t,a=this.deferred[e];void 0!==a&&(o=a.concat(o),delete this.deferred[e]),this.getTagForId(e).insertRules(e,o,n)},e.prototype.remove=function(e){var t=this.tagMap[e];if(void 0!==t){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].remove(e);t.removeRules(e),this.ignoreRehydratedNames[e]=!0,delete this.deferred[e]}},e.prototype.toHTML=function(){return this.tags.map(function(e){return e.toHTML()}).join("")},e.prototype.toReactElements=function(){var e=this.id;return this.tags.map(function(t,n){var r="sc-"+e+"-"+n;return v.cloneElement(t.toElement(),{key:r})})},Q(e,null,[{key:"master",get:function(){return Te||(Te=(new e).rehydrate())}},{key:"instance",get:function(){return e.master}}]),e}(),ke=function(e){function t(){return Y(this,t),te(this,e.apply(this,arguments))}return X(t,e),t.prototype.getChildContext=function(){var e;return e={},e[$]=this.sheetInstance,e},t.prototype.componentWillMount=function(){if(this.props.sheet)this.sheetInstance=this.props.sheet;else{if(!this.props.target)throw new Error("");this.sheetInstance=new Se(this.props.target)}},t.prototype.render=function(){return _.a.Children.only(this.props.children)},t}(v.Component);ke.childContextTypes=(Ce={},Ce[$]=w.a.oneOfType([w.a.instanceOf(Se),w.a.instanceOf(Le)]).isRequired,Ce);var Pe,Oe,Le=function(){function e(){Y(this,e),this.masterSheet=Se.master,this.instance=this.masterSheet.clone(),this.closed=!1}return e.prototype.complete=function(){if(!this.closed){var e=this.masterSheet.clones.indexOf(this.instance);this.masterSheet.clones.splice(e,1),this.closed=!0}},e.prototype.collectStyles=function(e){if(this.closed)throw new Error("");return _.a.createElement(ke,{sheet:this.instance},e)},e.prototype.getStyleTags=function(){return this.complete(),this.instance.toHTML()},e.prototype.getStyleElement=function(){return this.complete(),this.instance.toReactElements()},e.prototype.interleaveWithNodeStream=function(e){throw new Error("")},e}(),Me=/^((?:s(?:uppressContentEditableWarn|croll|pac)|(?:shape|image|text)Render|(?:letter|word)Spac|vHang|hang)ing|(?:on(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:Animation|Touch|Load|Drag)Start|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|TimeUpdate|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|MouseDown|P(?:rogress|laying)|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|KeyPress|DragEnd|Key(?:Down|Up)|(?:Wait|Seek)ing|(?:MouseU|Dro)p|Scroll|Paste|Focus|Abort|Drag|Play|Load|Blur|Invalid)Captur|alignmentBaselin|(?:limitingConeAng|xlink(?:(?:Arcr|R)o|Tit)|s(?:urfaceSca|ty|ca)|unselectab|baseProfi|fontSty|(?:focus|dragg)ab|multip|profi|tit)l|d(?:ominantBaselin|efaultValu)|a(?:uto(?:Capitaliz|Revers|Sav)|dditiv)|(?:(?:formNoValid|xlinkActu|noValid|accumul|rot)a|autoComple|decelera)t|(?:(?:attribute|item)T|datat)yp|(?:attribute|glyph)Nam|playsInlin|(?:formE|e)ncTyp|(?:writing|input|edge)Mod|(?:xlinkTy|itemSco|keyTy|slo)p|(?:amplitu|mo)d|(?:xmlSpa|non)c|fillRul|(?:dateTi|na)m|r(?:esourc|ol)|xmlBas|wmod)e|(?:glyphOrientationHorizont|loc)al|(?:externalResourcesRequir|select|revers|mut)ed|c(?:o(?:lorInterpolationFilter|ord)s|o(?:lor(?:Interpolation)?|nt(?:rols|ent))|(?:ontentS(?:cript|tyle)Typ|o(?:ntentEditab|lorProfi)l|l(?:assNam|ipRul)|a(?:lcMod|ptur)|it)e|olorRendering|l(?:ipPathUnits|assID)|(?:ontrolsLis|apHeigh)t|h(?:eckedLink|a(?:llenge|rSet)|ildren|ecked)|ell(?:Spac|Padd)ing|o(?:ntextMenu|ls)|(?:rossOrigi|olSpa)n|lip(?:Path)?|ursor|[xy])|glyphOrientationVertical|d(?:angerouslySetInnerHTML|efaultChecked|ownload|isabled|isplay|[xy])|(?:s(?:trikethroughThickn|eaml)es|(?:und|ov)erlineThicknes|r(?:equiredExtension|adiu)|(?:requiredFeatur|tableValu|stitchTil|numOctav|filterR)e|key(?:(?:Splin|Tim)e|Param)|autoFocu|header|bia)s|(?:(?:st(?:rikethroughPosi|dDevia)|(?:und|ov)erlinePosi|(?:textDecor|elev)a|orienta)tio|(?:strokeLinejo|orig)i|formActio|zoomAndPa|onFocusI|directio|(?:vers|act)io|rowSpa|begi|ico)n|o(?:n(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:Animation|Touch|Load|Drag)Start|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|TimeUpdate|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|MouseDown|P(?:rogress|laying)|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|KeyPress|DragEnd|Key(?:Down|Up)|(?:Wait|Seek)ing|(?:MouseU|Dro)p|Scroll|Paste|Focus|Abort|Drag|Play|Load|Blur|Invalid)|rient)|p(?:reserveA(?:spectRatio|lpha)|ointsAt[X-Z]|anose1)|(?:patternContent|ma(?:sk(?:Content)?|rker)|primitive|gradient|pattern|filter)Units|(?:gradientT|patternT|t)ransform|(?:(?:allowTranspar|baseFrequ)enc|re(?:ferrerPolic|adOnl)|(?:(?:st(?:roke|op)O|floodO|fillO|o)pac|integr|secur)it|visibilit|fontFamil|accessKe|propert|summar)y|(?:strokeMiterlimi|(?:specularConsta|repeatCou|fontVaria)n|(?:(?:specularE|e)xpon|renderingInt|asc)en|d(?:iffuseConsta|esce)n|(?:fontSizeAdju|lengthAdju|manife)s|baselineShif|vectorEffec|(?:(?:mar(?:ker|gin)|x)H|accentH|fontW)eigh|a(?:utoCorrec|bou)|markerStar|onFocusOu|intercep|restar|forma|inlis|heigh|lis)t|(?:(?:st(?:rokeDasho|artO)|o)ffs|acceptChars|formTarg|viewTarg|srcS)et|(?:(?:enableBackgrou|markerE)n|s(?:p(?:readMetho|ee)|ee)|formMetho|m(?:arkerMi|etho)|preloa|kin)d|k(?:ernel(?:UnitLength|Matrix)|[1-4])|(?:[xy]ChannelSelect|lightingCol|textAnch|floodCol|stopCol|operat|htmlF)or|(?:allowFullScre|hidd)en|strokeDasharray|systemLanguage|(?:strokeLineca|itemPro|useMa|wra|loo)p|v(?:Mathematical|ert(?:Origin[XY]|AdvY)|alues|ocab)|(?:pointerEve|keyPoi)nts|unicodeRange|(?:(?:allowReord|placehold|frameBord|paintOrd|post|ord)e|repeatDu|d(?:efe|u))r|mathematical|(?:vI|i)deographic|h(?:oriz(?:Origin|Adv)X|ttpEquiv)|u(?:nicodeBidi|[12])|(?:fontStretc|hig)h|(?:(?:mar(?:ker|gin)W|strokeW)id|azimu)th|vAlphabetic|mediaGroup|spellCheck|(?:unitsPerE|optimu|fro)m|r(?:adioGroup|e(?:sults|f[XY]|l)|ows|[xy])|(?:xmlnsXl|valueL)ink|a(?:rabicForm|l(?:phabetic|t)|sync)|pathLength|(?:text|m(?:in|ax))Length|innerHTML|xlinkShow|(?:xlinkHr|glyphR)ef|r(?:e(?:quired|sult|f))?|o(?:verflow|pen)|(?:tabInde|(?:sand|b)bo|viewBo)x|(?:(?:href|xml|src)La|kerni)ng|f(?:o(?:ntSize|rm)|il(?:ter|l))|autoPlay|unicode|p(?:attern|oints)|t(?:arget[XY]|o)|i(?:temRef|n2|s)|divisor|d(?:efault|ata|ir)?|srcDoc|s(?:coped|te(?:m[hv]|p)|pan)|(?:width|size)s|(?:stri|la)ng|prefix|itemID|s(?:t(?:roke|art)|hape|cope|rc)|a(?:ccept|s)|t(?:arget|ype)|typeof|width|value|x(?:mlns)?|label|m(?:edia|a(?:sk|x)|in)|size|href|k(?:ey)?|end|low|x[12]|i[dn]|y[12]|g[12]|by|f[xy]|[yz])$/,Ae=RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),Re=function(e){return Me.test(e)||Ae(e.toLowerCase())},je=function(e,t,n){var r=n&&e.theme===n.theme;return e.theme&&!r?e.theme:t},Ne=/[[\].#*$><+~=|^:(),"'`-]+/g,Ie=/(^-|-$)/g,Be=function(e){function t(e){a=e;for(var t in i){var n=i[t];void 0!==n&&n(a)}}function n(e){var t=o;return i[t]=e,o+=1,e(a),t}function r(e){i[e]=void 0}var i={},o=0,a=e;return{publish:t,subscribe:n,unsubscribe:r}},Fe="__styled-components__",De=Fe+"next__",ze=w.a.shape({getTheme:w.a.func,subscribe:w.a.func,unsubscribe:w.a.func}),Ue=function(e){return"function"==typeof e},qe=function(e){function t(){Y(this,t);var n=te(this,e.call(this));return n.unsubscribeToOuterId=-1,n.getTheme=n.getTheme.bind(n),n}return X(t,e),t.prototype.componentWillMount=function(){var e=this,t=this.context[De];void 0!==t&&(this.unsubscribeToOuterId=t.subscribe(function(t){e.outerTheme=t,void 0!==e.broadcast&&e.publish(e.props.theme)})),this.broadcast=Be(this.getTheme())},t.prototype.getChildContext=function(){var e,t=this;return J({},this.context,(e={},e[De]={getTheme:this.getTheme,subscribe:this.broadcast.subscribe,unsubscribe:this.broadcast.unsubscribe},e[Fe]=function(e){var n=t.broadcast.subscribe(e);return function(){return t.broadcast.unsubscribe(n)}},e))},t.prototype.componentWillReceiveProps=function(e){this.props.theme!==e.theme&&this.publish(e.theme)},t.prototype.componentWillUnmount=function(){-1!==this.unsubscribeToOuterId&&this.context[De].unsubscribe(this.unsubscribeToOuterId)},t.prototype.getTheme=function(e){var t=e||this.props.theme;if(Ue(t)){return t(this.outerTheme)}if(!p.a(t))throw new Error("");return J({},this.outerTheme,t)},t.prototype.publish=function(e){this.broadcast.publish(this.getTheme(e))},t.prototype.render=function(){return this.props.children?_.a.Children.only(this.props.children):null},t}(v.Component);qe.childContextTypes=(Pe={},Pe[Fe]=w.a.func,Pe[De]=ze,Pe),qe.contextTypes=(Oe={},Oe[De]=ze,Oe);var He={},$e=W,We=function e(t,n){for(var r=0;r<t.length;r+=1){var i=t[r];if(Array.isArray(i)&&!e(i))return!1;if("function"==typeof i&&!a(i))return!1}if(void 0!==n)for(var o in n){var s=n[o];if("function"==typeof s)return!1}return!0},Ze=void 0!==r&&r.hot&&!1,Ve=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ge=function(e){return e.replace(/\s|\\n/g,"")},Ke=function(e){var t,n=e.displayName||e.name||"Component",r="function"==typeof e&&!(e.prototype&&"isReactComponent"in e.prototype),i=a(e)||r,o=function(t){function n(){var e,r,i;Y(this,n);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=r=te(this,t.call.apply(t,[this].concat(a))),r.state={},r.unsubscribeId=-1,i=e,te(r,i)}return X(n,t),n.prototype.componentWillMount=function(){var e=this,t=this.constructor.defaultProps,n=this.context[De],r=je(this.props,void 0,t);if(void 0===n&&void 0!==r)this.setState({theme:r});else{var i=n.subscribe;this.unsubscribeId=i(function(n){var r=je(e.props,n,t);e.setState({theme:r})})}},n.prototype.componentWillReceiveProps=function(e){var t=this.constructor.defaultProps;this.setState(function(n){return{theme:je(e,n.theme,t)}})},n.prototype.componentWillUnmount=function(){-1!==this.unsubscribeId&&this.context[De].unsubscribe(this.unsubscribeId)},n.prototype.render=function(){var t=J({theme:this.state.theme},this.props);return i||(t.ref=t.innerRef,delete t.innerRef),_.a.createElement(e,t)},n}(_.a.Component);return o.displayName="WithTheme("+n+")",o.styledComponentId="withTheme",o.contextTypes=(t={},t[Fe]=w.a.func,t[De]=ze,t),E.a(o,e)},Ye={StyleSheet:Se},Qe=function(e,t,n){var r=function(t){return e(f(t))};return function(){function e(t,n,r){if(Y(this,e),this.rules=t,this.isStatic=!Ze&&We(t,n),this.componentId=r,!Se.master.hasId(r)){var i=[];Se.master.deferredInject(r,i)}}return e.prototype.generateAndInjectStyles=function(e,i){var o=this.isStatic,a=this.componentId,s=this.lastClassName;if($e&&o&&void 0!==s&&i.hasNameForId(a,s))return s;var u=t(this.rules,e),c=r(this.componentId+u.join(""));if(!i.hasNameForId(a,c)){var l=n(u,"."+c);i.inject(this.componentId,l,c)}return this.lastClassName=c,c},e.generateName=function(e){return r(e)},e}()}(z,M,B),Je=function(e){return function t(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!x.isValidElementType(r))throw new Error("");var o=function(){return n(r,i,e.apply(void 0,arguments))};return o.withConfig=function(e){return t(n,r,J({},i,e))},o.attrs=function(e){return t(n,r,J({},i,{attrs:J({},i.attrs||{},e)}))},o}}(q),Xe=function(e,t){var n={},r=function(t,r){var i="string"!=typeof t?"sc":l(t),o=void 0;if(t)o=i+"-"+e.generateName(i);else{var a=(n[i]||0)+1;n[i]=a,o=i+"-"+e.generateName(i+a)}return void 0!==r?r+"-"+o:o},i=function(e){function t(){var n,r,i;Y(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=te(this,e.call.apply(e,[this].concat(a))),r.attrs={},r.state={theme:null,generatedClassName:""},r.unsubscribeId=-1,i=n,te(r,i)}return X(t,e),t.prototype.unsubscribeFromContext=function(){-1!==this.unsubscribeId&&this.context[De].unsubscribe(this.unsubscribeId)},t.prototype.buildExecutionContext=function(e,t){var n=this.constructor.attrs,r=J({},t,{theme:e});return void 0===n?r:(this.attrs=Object.keys(n).reduce(function(e,t){var i=n[t];return e[t]="function"==typeof i?i(r):i,e},{}),J({},r,this.attrs))},t.prototype.generateAndInjectStyles=function(e,t){var n=this.constructor,r=n.attrs,i=n.componentStyle,o=(n.warnTooManyClasses,this.context[$]||Se.master);if(i.isStatic&&void 0===r)return i.generateAndInjectStyles(He,o);var a=this.buildExecutionContext(e,t),s=i.generateAndInjectStyles(a,o);return s},t.prototype.componentWillMount=function(){var e=this,t=this.constructor.componentStyle,n=this.context[De];if(t.isStatic){var r=this.generateAndInjectStyles(He,this.props);this.setState({generatedClassName:r})}else if(void 0!==n){var i=n.subscribe;this.unsubscribeId=i(function(t){var n=je(e.props,t,e.constructor.defaultProps),r=e.generateAndInjectStyles(n,e.props);e.setState({theme:n,generatedClassName:r})})}else{var o=this.props.theme||{},a=this.generateAndInjectStyles(o,this.props);this.setState({theme:o,generatedClassName:a})}},t.prototype.componentWillReceiveProps=function(e){var t=this;this.constructor.componentStyle.isStatic||this.setState(function(n){var r=je(e,n.theme,t.constructor.defaultProps);return{theme:r,generatedClassName:t.generateAndInjectStyles(r,e)}})},t.prototype.componentWillUnmount=function(){this.unsubscribeFromContext()},t.prototype.render=function(){var e=this,t=this.props.innerRef,n=this.state.generatedClassName,r=this.constructor,i=r.styledComponentId,o=r.target,s=u(o),c=[this.props.className,i,this.attrs.className,n].filter(Boolean).join(" "),l=J({},this.attrs,{className:c});a(o)?l.innerRef=t:l.ref=t;var f=Object.keys(this.props).reduce(function(t,n){return"innerRef"===n||"className"===n||s&&!Re(n)||(t[n]=e.props[n]),t},l);return v.createElement(o,f)},t}(v.Component);return function n(o,a,s){var f,h=a.displayName,p=void 0===h?u(o)?"styled."+o:"Styled("+c(o)+")":h,d=a.componentId,m=void 0===d?r(a.displayName,a.parentComponentId):d,g=a.ParentComponent,y=void 0===g?i:g,v=a.rules,_=a.attrs,b=a.displayName&&a.componentId?l(a.displayName)+"-"+a.componentId:m,x=new e(void 0===v?s:v.concat(s),_,b),C=function(e){function r(){return Y(this,r),te(this,e.apply(this,arguments))}return X(r,e),r.withComponent=function(e){var t=a.componentId,i=ee(a,["componentId"]),o=t&&t+"-"+(u(e)?e:l(c(e))),f=J({},i,{componentId:o,ParentComponent:r});return n(e,f,s)},Q(r,null,[{key:"extend",get:function(){var e=a.rules,i=a.componentId,u=ee(a,["rules","componentId"]),c=void 0===e?s:e.concat(s),l=J({},u,{rules:c,parentComponentId:i,ParentComponent:r});return t(n,o,l)}}]),r}(y);return C.contextTypes=(f={},f[Fe]=w.a.func,f[De]=ze,f[$]=w.a.oneOfType([w.a.instanceOf(Se),w.a.instanceOf(Le)]),f),C.displayName=p,C.styledComponentId=b,C.attrs=_,C.componentStyle=x,C.target=o,C}}(Qe,Je),et=function(e,t,n){return function(){var r=Se.master,i=n.apply(void 0,arguments),o=e(f(Ge(JSON.stringify(i)))),a="sc-keyframes-"+o;return r.hasNameForId(a,o)||r.inject(a,t(i,o,"@keyframes"),o),o}}(z,B,q),tt=function(e,t){return function(){var n=Se.master,r=t.apply(void 0,arguments),i=f(JSON.stringify(r)),o="sc-global-"+i;n.hasId(o)||n.inject(o,e(r))}}(B,q),nt=function(e,t){var n=function(n){return t(e,n)};return Ve.forEach(function(e){n[e]=n(e)}),n}(Xe,Je);t.default=nt}.call(t,n(44),n(125)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";function r(e){return!0===i(e)&&"[object Object]"===Object.prototype.toString.call(e)}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var i=n(127);e.exports=function(e){var t,n;return!1!==r(e)&&("function"==typeof(t=e.constructor)&&(n=t.prototype,!1!==r(n)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},function(e,t,n){"use strict";/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},function(e,t,n){!function(t){e.exports=t(null)}(function e(t){"use strict";function n(e,t,i,u,h){for(var p,d,m=0,v=0,_=0,b=0,w=0,x=0,C=0,E=0,T=0,S=0,k=0,M=0,A=0,R=0,j=0,N=0,I=0,F=0,D=0,z=i.length,U=z-1,q="",ae="",Re="",je="",Fe="",ze="";j<z;){if(C=i.charCodeAt(j),j===U&&v+b+_+m!==0&&(0!==v&&(C=v===he?X:he),b=_=m=0,z++,U++),v+b+_+m===0){if(j===U&&(N>0&&(ae=ae.replace(y,"")),ae.trim().length>0)){switch(C){case re:case te:case Z:case ee:case X:break;default:ae+=i.charAt(j)}C=Z}if(1===I)switch(C){case G:case V:case Z:case fe:case le:case K:case Y:case ue:I=0;case te:case ee:case X:case re:break;default:for(I=0,D=j,w=C,j--,C=Z;D<z;)switch(i.charCodeAt(D++)){case X:case ee:case Z:++j,C=w,D=z;break;case ce:N>0&&(++j,C=w);case G:D=z}}switch(C){case G:for(ae=ae.trim(),w=ae.charCodeAt(0),k=1,D=++j;j<z;){switch(C=i.charCodeAt(j)){case G:k++;break;case V:k--;break;case he:switch(x=i.charCodeAt(j+1)){case se:case he:j=f(x,j,U,i)}break;case Q:C++;case K:C++;case fe:case le:for(;j++<U&&i.charCodeAt(j)!==C;);}if(0===k)break;j++}switch(Re=i.substring(D,j),w===ge&&(w=(ae=ae.replace(g,"").trim()).charCodeAt(0)),w){case ne:switch(N>0&&(ae=ae.replace(y,"")),x=ae.charCodeAt(1)){case Se:case be:case we:case oe:p=t;break;default:p=Be}if(Re=n(t,p,Re,x,h+1),D=Re.length,Ie>0&&0===D&&(D=ae.length),De>0&&(p=r(Be,ae,F),d=l(Ze,Re,p,t,Oe,Pe,D,x,h,u),ae=p.join(""),void 0!==d&&0===(D=(Re=d.trim()).length)&&(x=0,Re="")),D>0)switch(x){case we:ae=ae.replace(B,s);case Se:case be:case oe:Re=ae+"{"+Re+"}";break;case _e:ae=ae.replace(P,"$1 $2"+(Ge>0?Ke:"")),Re=ae+"{"+Re+"}",Re=1===Ae||2===Ae&&a("@"+Re,3)?"@"+H+Re+"@"+Re:"@"+Re;break;default:Re=ae+Re,u===ke&&(je+=Re,Re="")}else Re="";break;default:Re=n(t,r(t,ae,F),Re,u,h+1)}Fe+=Re,M=0,I=0,R=0,N=0,F=0,A=0,ae="",Re="",C=i.charCodeAt(++j);break;case V:case Z:if(ae=(N>0?ae.replace(y,""):ae).trim(),(D=ae.length)>1)switch(0===R&&((w=ae.charCodeAt(0))===oe||w>96&&w<123)&&(D=(ae=ae.replace(" ",":")).length),De>0&&void 0!==(d=l($e,ae,t,e,Oe,Pe,je.length,u,h,u))&&0===(D=(ae=d.trim()).length)&&(ae="\0\0"),w=ae.charCodeAt(0),x=ae.charCodeAt(1),w){case ge:break;case ne:if(x===Ee||x===Te){ze+=ae+i.charAt(j);break}default:if(ae.charCodeAt(D-1)===ce)break;je+=o(ae,w,x,ae.charCodeAt(2))}M=0,I=0,R=0,N=0,F=0,ae="",C=i.charCodeAt(++j)}}switch(C){case ee:case X:if(v+b+_+m+Ne===0)switch(S){case Y:case le:case fe:case ne:case me:case pe:case se:case de:case he:case oe:case ce:case ue:case Z:case G:case V:break;default:R>0&&(I=1)}v===he?v=0:Me+M===0&&u!==_e&&ae.length>0&&(N=1,ae+="\0"),De*Ve>0&&l(He,ae,t,e,Oe,Pe,je.length,u,h,u),Pe=1,Oe++;break;case Z:case V:if(v+b+_+m===0){Pe++;break}default:switch(Pe++,q=i.charAt(j),C){case te:case re:if(b+m+v===0)switch(E){case ue:case ce:case te:case re:q="";break;default:C!==re&&(q=" ")}break;case ge:q="\\0";break;case ye:q="\\f";break;case ve:q="\\v";break;case ie:b+v+m===0&&Me>0&&(F=1,N=1,q="\f"+q);break;case 108:if(b+v+m+Le===0&&R>0)switch(j-R){case 2:E===xe&&i.charCodeAt(j-3)===ce&&(Le=E);case 8:T===Ce&&(Le=T)}break;case ce:b+v+m===0&&(R=j);break;case ue:v+_+b+m===0&&(N=1,q+="\r");break;case fe:case le:0===v&&(b=b===C?0:0===b?C:b);break;case Q:b+v+_===0&&m++;break;case J:b+v+_===0&&m--;break;case Y:b+v+m===0&&_--;break;case K:if(b+v+m===0){if(0===M)switch(2*E+3*T){case 533:break;default:k=0,M=1}_++}break;case ne:v+_+b+m+R+A===0&&(A=1);break;case se:case he:if(b+m+_>0)break;switch(v){case 0:switch(2*C+3*i.charCodeAt(j+1)){case 235:v=he;break;case 220:D=j,v=se}break;case se:C===he&&E===se&&D+2!==j&&(33===i.charCodeAt(D+2)&&(je+=i.substring(D,j+1)),q="",v=0)}}if(0===v){if(Me+b+m+A===0&&u!==_e&&C!==Z)switch(C){case ue:case me:case pe:case de:case Y:case K:if(0===M){switch(E){case te:case re:case X:case ee:q+="\0";break;default:q="\0"+q+(C===ue?"":"\0")}N=1}else switch(C){case K:R+7===j&&108===E&&(R=0),M=++k;break;case Y:0==(M=--k)&&(N=1,q+="\0")}break;case te:case re:switch(E){case ge:case G:case V:case Z:case ue:case ye:case te:case re:case X:case ee:break;default:0===M&&(N=1,q+="\0")}}ae+=q,C!==re&&C!==te&&(S=C)}}T=E,E=C,j++}if(D=je.length,Ie>0&&0===D&&0===Fe.length&&0===t[0].length==!1&&(u!==be||1===t.length&&(Me>0?Ye:Qe)===t[0])&&(D=t.join(",").length+2),D>0){if(p=0===Me&&u!==_e?c(t):t,De>0&&void 0!==(d=l(We,je,p,e,Oe,Pe,D,u,h,u))&&0===(je=d).length)return ze+je+Fe;if(je=p.join(",")+"{"+je+"}",Ae*Le!=0){switch(2!==Ae||a(je,2)||(Le=0),Le){case Ce:je=je.replace(L,":"+$+"$1")+je;break;case xe:je=je.replace(O,"::"+H+"input-$1")+je.replace(O,"::"+$+"$1")+je.replace(O,":"+W+"input-$1")+je}Le=0}}return ze+je+Fe}function r(e,t,n){var r=t.trim().split(E),o=r,a=r.length,s=e.length;switch(s){case 0:case 1:for(var u=0,c=0===s?"":e[0]+" ";u<a;++u)o[u]=i(c,o[u],n,s).trim();break;default:for(var u=0,l=0,o=[];u<a;++u)for(var f=0;f<s;++f)o[l++]=i(e[f]+" ",r[u],n,s).trim()}return o}function i(e,t,n,r){var i=t,o=i.charCodeAt(0);switch(o<33&&(o=(i=i.trim()).charCodeAt(0)),o){case ie:switch(Me+r){case 0:case 1:if(0===e.trim().length)break;default:return i.replace(T,"$1"+e.trim())}break;case ce:switch(i.charCodeAt(1)){case 103:if(Re>0&&Me>0)return i.replace(S,"$1").replace(T,"$1"+Qe);break;default:return e.trim()+i.replace(T,"$1"+e.trim())}default:if(n*Me>0&&i.indexOf("\f")>0)return i.replace(T,(e.charCodeAt(0)===ce?"":"$1")+e.trim())}return e+i}function o(e,t,n,r){var i,s=0,c=e+";",l=2*t+3*n+4*r;if(944===l)return u(c);if(0===Ae||2===Ae&&!a(c,1))return c;switch(l){case 1015:return 97===c.charCodeAt(10)?H+c+c:c;case 951:return 116===c.charCodeAt(3)?H+c+c:c;case 963:return 110===c.charCodeAt(5)?H+c+c:c;case 1009:if(100!==c.charCodeAt(4))break;case 969:case 942:return H+c+c;case 978:return H+c+$+c+c;case 1019:case 983:return H+c+$+c+W+c+c;case 883:return c.charCodeAt(8)===oe?H+c+c:c.indexOf("image-set(",11)>0?c.replace(q,"$1"+H+"$2")+c:c;case 932:if(c.charCodeAt(4)===oe)switch(c.charCodeAt(5)){case 103:return H+"box-"+c.replace("-grow","")+H+c+W+c.replace("grow","positive")+c;case 115:return H+c+W+c.replace("shrink","negative")+c;case 98:return H+c+W+c.replace("basis","preferred-size")+c}return H+c+W+c+c;case 964:return H+c+W+"flex-"+c+c;case 1023:if(99!==c.charCodeAt(8))break;return i=c.substring(c.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),H+"box-pack"+i+H+c+W+"flex-pack"+i+c;case 1005:return _.test(c)?c.replace(v,":"+H)+c.replace(v,":"+$)+c:c;case 1e3:switch(i=c.substring(13).trim(),s=i.indexOf("-")+1,i.charCodeAt(0)+i.charCodeAt(s)){case 226:i=c.replace(I,"tb");break;case 232:i=c.replace(I,"tb-rl");break;case 220:i=c.replace(I,"lr");break;default:return c}return H+c+W+i+c;case 1017:if(-1===c.indexOf("sticky",9))return c;case 975:switch(s=(c=e).length-10,i=(33===c.charCodeAt(s)?c.substring(0,s):c).substring(e.indexOf(":",7)+1).trim(),l=i.charCodeAt(0)+(0|i.charCodeAt(7))){case 203:if(i.charCodeAt(8)<111)break;case 115:c=c.replace(i,H+i)+";"+c;break;case 207:case 102:c=c.replace(i,H+(l>102?"inline-":"")+"box")+";"+c.replace(i,H+i)+";"+c.replace(i,W+i+"box")+";"+c}return c+";";case 938:if(c.charCodeAt(5)===oe)switch(c.charCodeAt(6)){case 105:return i=c.replace("-items",""),H+c+H+"box-"+i+W+"flex-"+i+c;case 115:return H+c+W+"flex-item-"+c.replace(D,"")+c;default:return H+c+W+"flex-line-pack"+c.replace("align-content","").replace(D,"")+c}break;case 973:case 989:if(c.charCodeAt(3)!==oe||122===c.charCodeAt(4))break;case 931:case 953:if(!0===U.test(e))return 115===(i=e.substring(e.indexOf(":")+1)).charCodeAt(0)?o(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):c.replace(i,H+i)+c.replace(i,$+i.replace("fill-",""))+c;break;case 962:if(c=H+c+(102===c.charCodeAt(5)?W+c:"")+c,n+r===211&&105===c.charCodeAt(13)&&c.indexOf("transform",10)>0)return c.substring(0,c.indexOf(";",27)+1).replace(b,"$1"+H+"$2")+c}return c}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10),i=e.substring(n+1,e.length-1);return ze(2!==t?r:r.replace(z,"$1"),i,t)}function s(e,t){var n=o(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(F," or ($1)").substring(4):"("+t+")"}function u(e){var t=e.length,n=e.indexOf(":",9)+1,r=e.substring(0,n).trim(),i=e.substring(n,t-1).trim();switch(e.charCodeAt(9)*Ge){case 0:break;case oe:if(110!==e.charCodeAt(10))break;default:for(var o=i.split((i="",w)),s=0,n=0,t=o.length;s<t;n=0,++s){for(var u=o[s],c=u.split(x);u=c[n];){var l=u.charCodeAt(0);if(1===Ge&&(l>ne&&l<90||l>96&&l<123||l===ae||l===oe&&u.charCodeAt(1)!==oe))switch(isNaN(parseFloat(u))+(-1!==u.indexOf("("))){case 1:switch(u){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:u+=Ke}}c[n++]=u}i+=(0===s?"":",")+c.join(" ")}}return i=r+i+";",1===Ae||2===Ae&&a(i,1)?H+i+i:i}function c(e){for(var t,n,r=0,i=e.length,o=Array(i);r<i;++r){for(var a=e[r].split(C),s="",u=0,c=0,l=0,f=0,h=a.length;u<h;++u)if(!(0===(c=(n=a[u]).length)&&h>1)){if(l=s.charCodeAt(s.length-1),f=n.charCodeAt(0),t="",0!==u)switch(l){case se:case me:case pe:case de:case re:case K:break;default:t=" "}switch(f){case ie:n=t+Ye;case me:case pe:case de:case re:case Y:case K:break;case Q:n=t+n+Ye;break;case ce:switch(2*n.charCodeAt(1)+3*n.charCodeAt(2)){case 530:if(Re>0){n=t+n.substring(8,c-1);break}default:(u<1||a[u-1].length<1)&&(n=t+Ye+n)}break;case ue:t="";default:n=c>1&&n.indexOf(":")>0?t+n.replace(N,"$1"+Ye+"$2"):t+n+Ye}s+=n}o[r]=s.replace(y,"").trim()}return o}function l(e,t,n,r,i,o,a,s,u,c){for(var l,f=0,h=t;f<De;++f)switch(l=Fe[f].call(m,e,h,n,r,i,o,a,s,u,c)){case void 0:case!1:case!0:case null:break;default:h=l}switch(h){case void 0:case!1:case!0:case null:case t:break;default:return h}}function f(e,t,n,r){for(var i=t+1;i<n;++i)switch(r.charCodeAt(i)){case he:if(e===se&&r.charCodeAt(i-1)===se&&t+2!==i)return i+1;break;case X:if(e===he)return i+1}return i}function h(e){return e.replace(y,"").replace(M,"").replace(A,"$1").replace(R,"$1").replace(j," ")}function p(e){switch(e){case void 0:case null:De=Fe.length=0;break;default:switch(e.constructor){case Array:for(var t=0,n=e.length;t<n;++t)p(e[t]);break;case Function:Fe[De++]=e;break;case Boolean:Ve=0|!!e}}return p}function d(e){for(var t in e){var n=e[t];switch(t){case"keyframe":Ge=0|n;break;case"global":Re=0|n;break;case"cascade":Me=0|n;break;case"compress":je=0|n;break;case"semicolon":Ne=0|n;break;case"preserve":Ie=0|n;break;case"prefix":ze=null,n?"function"!=typeof n?Ae=1:(Ae=2,ze=n):Ae=0}}return d}function m(t,r){if(void 0!==this&&this.constructor===m)return e(t);var i=t,o=i.charCodeAt(0);o<33&&(o=(i=i.trim()).charCodeAt(0)),Ge>0&&(Ke=i.replace(k,o===Q?"":"-")),o=1,1===Me?Qe=i:Ye=i;var a,s=[Qe];De>0&&void 0!==(a=l(qe,r,s,s,Oe,Pe,0,0,0,0))&&"string"==typeof a&&(r=a);var u=n(Be,s,r,0,0);return De>0&&void 0!==(a=l(Ue,u,s,s,Oe,Pe,u.length,0,0,0))&&"string"!=typeof(u=a)&&(o=0),Ke="",Qe="",Ye="",Le=0,Oe=1,Pe=1,je*o==0?u:h(u)}var g=/^\0+/g,y=/[\0\r\f]/g,v=/: */g,_=/zoo|gra/,b=/([,: ])(transform)/g,w=/,+\s*(?![^(]*[)])/g,x=/ +\s*(?![^(]*[)])/g,C=/ *[\0] */g,E=/,\r+?/g,T=/([\t\r\n ])*\f?&/g,S=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,k=/\W+/g,P=/@(k\w+)\s*(\S*)\s*/,O=/::(place)/g,L=/:(read-only)/g,M=/\s+(?=[{\];=:>])/g,A=/([[}=:>])\s+/g,R=/(\{[^{]+?);(?=\})/g,j=/\s{2,}/g,N=/([^\(])(:+) */g,I=/[svh]\w+-[tblr]{2}/,B=/\(\s*(.*)\s*\)/g,F=/([\s\S]*?);/g,D=/-self|flex-/g,z=/[^]*?(:[rp][el]a[\w-]+)[^]*/,U=/stretch|:\s*\w+\-(?:conte|avail)/,q=/([^-])(image-set\()/,H="-webkit-",$="-moz-",W="-ms-",Z=59,V=125,G=123,K=40,Y=41,Q=91,J=93,X=10,ee=13,te=9,ne=64,re=32,ie=38,oe=45,ae=95,se=42,ue=44,ce=58,le=39,fe=34,he=47,pe=62,de=43,me=126,ge=0,ye=12,ve=11,_e=107,be=109,we=115,xe=112,Ce=111,Ee=105,Te=99,Se=100,ke=112,Pe=1,Oe=1,Le=0,Me=1,Ae=1,Re=1,je=0,Ne=0,Ie=0,Be=[],Fe=[],De=0,ze=null,Ue=-2,qe=-1,He=0,$e=1,We=2,Ze=3,Ve=0,Ge=1,Ke="",Ye="",Qe="";return m.use=p,m.set=d,void 0!==t&&d(t),m})},function(e,t,n){!function(t){e.exports=t()}(function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}})},function(e,t,n){e.exports=n(131)()},function(e,t,n){"use strict";var r=n(132),i=n(133),o=n(134);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,u){if(i(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,s,u],f=0;c=new Error(t.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";e.exports=n(136)},function(e,t,n){"use strict";function r(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case s:case u:return e;default:switch(e=e&&e.$$typeof){case l:case h:case c:return e;default:return t}}case a:return t}}}/** @license React v16.3.2
 * react-is.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.provider"):60109,l=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.async_mode"):60111,h=i?Symbol.for("react.forward_ref"):60112;t.typeOf=r,t.AsyncMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=o,t.ForwardRef=h,t.Fragment=s,t.Portal=a,t.StrictMode=u,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===f||e===u||"object"==typeof e&&null!==e&&(e.$$typeof===c||e.$$typeof===l||e.$$typeof===h)},t.isAsyncMode=function(e){return r(e)===f},t.isContextConsumer=function(e){return r(e)===l},t.isContextProvider=function(e){return r(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return r(e)===h},t.isFragment=function(e){return r(e)===s},t.isPortal=function(e){return r(e)===a},t.isStrictMode=function(e){return r(e)===u}},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n=Object.defineProperty,r=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,o=Object.getOwnPropertyDescriptor,a=Object.getPrototypeOf,s=a&&a(Object);return function u(c,l,f){if("string"!=typeof l){if(s){var h=a(l);h&&h!==s&&u(c,h,f)}var p=r(l);i&&(p=p.concat(i(l)));for(var d=0;d<p.length;++d){var m=p[d];if(!(e[m]||t[m]||f&&f[m])){var g=o(l,m);try{n(c,m,g)}catch(e){}}}return c}return c}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=r(i),a=n(7),s=(r(a),function(e){var t=e.railroad,n=e.cause,r=e.weather,i=e.accident_type,a=e.image,s=e.city;return o.default.createElement("as-infowindow",{src:a},o.default.createElement("h1",{className:"as-title"},s),o.default.createElement("p",null,o.default.createElement("span",{className:"as-badge"},i)),o.default.createElement("br",null),o.default.createElement("p",{className:"as-caption"},n),o.default.createElement("br",null),o.default.createElement("h4",{className:"as-subheader"},"Company"),o.default.createElement("p",{className:"as-body"},t),o.default.createElement("br",null),o.default.createElement("h4",{className:"as-subheader"},"Weather"),o.default.createElement("p",{className:"as-body"},r))});t.default=s},function(e,t,n){"use strict";var r=n(16),i=n(140),o=n(141);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,u){if(i(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,s,u],f=0;c=new Error(t.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Rail Accidents",visible:!0,cartocss:"\n  #layer {\n    marker-width: 7;\n    marker-fill: ramp([equipment_damage], (#f3e79b, #fac484, #f8a07e, #eb7f86, #ce6693, #a059a0, #5c53a5), quantiles);\n    marker-fill-opacity: 1;\n    marker-allow-overlap: true;\n    marker-line-width: 1;\n    marker-line-color: #FFFFFF;\n    marker-line-opacity: 1;\n  }\n  ",query:"\n    SELECT * FROM rail_accidents\n  ",options:{featureClickColumns:["cartodb_id","railroad","total_damage","cause","weather","accident_type","image"]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=n(1),h=n(144),p=r(h),d=n(145),m=r(d),g=n(146),y=r(g),v=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=s({},e),n}return a(t,e),u(t,[{key:"render",value:function(){return l.default.createElement("header",{className:"as-toolbar"},l.default.createElement(p.default,null),l.default.createElement("div",{className:"as-toolbar__group"},l.default.createElement("div",{className:"as-toolbar__item"},l.default.createElement(y.default,{size:"l",alt:"Isthmus",icon:"https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/spaces%2F-LNBHPmcyIcNeWf3W50m%2Favatar.png?generation=1537815172519034&alt=media"})),l.default.createElement("nav",{className:"as-toolbar__actions"},l.default.createElement("ul",null,l.default.createElement(m.default,{name:"Home",link:"/"}),l.default.createElement(m.default,{name:"Another Map",link:"/page"}),l.default.createElement(m.default,{name:"Help",link:"/help"})))),l.default.createElement("div",{className:"as-toolbar__item as-body"},l.default.createElement("i",{className:"as-icon-settings as-subheader as-m--0"})))}}]),t}(c.Component),_=function(e){return{client:e.client,map:e.map,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},b=function(e){return{setNeighbourhoods:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e(setNeighbourhoods(t))})}};t.default=(0,f.connect)(_,b)(v)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),l=n(1),f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=a({},e),n.toggleDrawer=n.toggleDrawer.bind(n),n}return o(t,e),s(t,[{key:"toggleDrawer",value:function(){document.querySelector(".as-toolbar__actions").classList.toggle("as-toolbar__actions--visible")}},{key:"render",value:function(){return c.default.createElement("button",{onClick:this.toggleDrawer,className:"as-toolbar__item as-toolbar__toggle"},c.default.createElement("i",{className:"as-icon-hamburguer as-title as-m--0"}))}}]),t}(u.Component),h=function(e){return{client:e.client,map:e.map,filters:e.filters,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},p=function(e){return{setNeighbourhoods:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e(setNeighbourhoods(t))})}};t.default=(0,l.connect)(h,p)(f)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),l=(n(3),n(1));n(2);var f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=a({},e),n}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.link,n=e.name;return c.default.createElement("li",{className:"as-toolbar__item"},c.default.createElement("a",{href:t},n))}}]),t}(u.Component),h=function(e){return{client:e.client,map:e.map,filters:e.filters,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},p=function(e){return{}};t.default=(0,l.connect)(h,p)(f)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),l=(n(3),n(1));n(2);var f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={size:null},n.state=a({},e),n}return o(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props.size,t=void 0;t="l"===e||"xl"===e?"as-avatar as-avatar--"+e:"as-avatar",this.setState({size:t})}},{key:"render",value:function(){var e=this.props,t=e.alt,n=e.icon;return c.default.createElement("img",{className:this.state.size,src:n,alt:t})}}]),t}(u.Component),h=function(e){return{client:e.client,map:e.map,filters:e.filters,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},p=function(e){return{}};t.default=(0,l.connect)(h,p)(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=(n(3),n(1)),h=n(10),p=n(4),d=r(p),m=n(148),g=r(m),y=n(149),v=r(y),_=n(25),b=r(_),w=n(150),x=r(w),C=n(151),E=r(C);n(2);var T=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={size:null},n.state=s({},e),n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e="as-sidebar as-sidebar--"+this.props.size+" as-sidebar--right "+this.props.background;this.setState({size:e})}},{key:"render",value:function(){return l.default.createElement("aside",{className:this.state.size,"data-name":this.props.name},l.default.createElement("div",{className:"as-m--24"},l.default.createElement("div",{className:"as-p--16"},l.default.createElement(x.default,{before:"",after:"F",title:"Temperature",description:"Temperature at the time of the accident",layer:this.props.layers.railaccidents.source,column:"temp",step:1})),l.default.createElement("div",{className:"as-p--16"},l.default.createElement(b.default,{title:"Total Damage",description:"Average total damage in USD for accidents in view",round:!0,currency:!0,locale:"en-US",currencyType:"USD",layer:this.props.layers.railaccidents.source,column:"total_damage",operation:d.default.operation.AVG})),l.default.createElement("div",{className:"as-p--16"},l.default.createElement(E.default,{layer:this.props.layers.railaccidents.source,format:"csv",filename:"rail_data",name:"Export Data"})),l.default.createElement(g.default,{title:"State",description:"Total damage for each railroad company in USD",categoryLayer:this.props.layers.railaccidents.source,column:"state",operation:d.default.operation.SUM,operationColumn:"equipment_damage"}),l.default.createElement("div",{className:"as-p--16"},l.default.createElement(v.default,{title:"Hour",description:"Hour at the time of the accident",layer:this.props.layers.railaccidents.source,column:"hour",bins:12}))))}}]),t}(c.Component),S=function(e){return{client:e.client,map:e.map,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},k=function(e){return{setNeighbourhoods:function(t){return e((0,h.setNeighbourhoods)(t))}}};t.default=(0,f.connect)(S,k)(T)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),l=n(1),f=n(7),h=(r(f),n(4)),p=r(h),d=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={categories:[],selection:[],filter:null},r.onSelectedChanged=function(e){var t=e.detail,n=r.state.filter;n&&!t.length&&(r.props.categoryLayer.removeFilter(n),n=null),r.setState({selection:t,filter:n})},r.onApplySelection=function(){var e=r.state,t=e.filter;e.selection.length>0&&!t?r._createFilter():r._updateFilter()},a=n,o(r,a)}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this._setupConfig(),this._setupEvents(),this._addDataview()}},{key:"componentDidUpdate",value:function(e){this._setupConfig();new p.default.filter.BoundingBoxLeaflet(this.props.map);e!==this.props&&this.dataView.addFilter(this.props.boundingbox)}},{key:"_setupConfig",value:function(){var e=this.props,t=e.showHeader,n=e.showClearButton,r=e.useTotalPercentage,i=e.visibleCategories,o=this.state.categories;this.widget.showHeader=t,this.widget.showClearButton=n,this.widget.useTotalPercentage=r,this.widget.visibleCategories=i,this.widget.categories=o}},{key:"_addDataview",value:function(){var e=this;this.dataView=new p.default.dataview.Category(this.props.categoryLayer,this.props.column,{limit:10,operation:this.props.operation,operationColumn:this.props.operationColumn}),this.dataView.on("dataChanged",function(t){var n=t.categories;return e.setState({categories:n})}),this.props.client.addDataview(this.dataView)}},{key:"_createFilter",value:function(){var e=new p.default.filter.Category(this.props.column,{in:this.state.selection});this.props.categoryLayer.addFilter(e),this.setState({filter:e})}},{key:"_updateFilter",value:function(){this.filter.setFilters({in:this.state.selection})}},{key:"_onSelectedChanged",value:function(e){var t=this.onSelectedChanged;t&&t(e)}},{key:"_setupEvents",value:function(){var e=this;this.widget.addEventListener("categoriesSelected",function(t){return e._onSelectedChanged(t)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.description,i=this.state,o=i.categories,a=i.filter,s=i.selection,u=s.length>0&&!a;return c.default.createElement("div",{className:"as-p--16"},c.default.createElement("as-category-widget",{ref:function(t){e.widget=t},heading:n,description:r,categories:o,onSelectedChanged:this.onSelectedChanged,showClearButton:!!a}),u&&c.default.createElement("div",{className:"as-flex as-justify-end as-mt--8"},c.default.createElement("button",{className:"as-btn as-btn--s as-btn--primary",onClick:this.onApplySelection},"Apply selection")))}}]),t}(u.Component);d.defaultProps={showHeader:!0,showClearButton:!0,useTotalPercentage:!1,visibleCategories:1/0};var m=function(e){return{client:e.client,map:e.map,filters:e.filters,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},g=function(e){return{setNeighbourhoods:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e(setNeighbourhoods(t))})}};t.default=(0,l.connect)(m,g)(d)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),l=n(1),f=n(7),h=(r(f),n(4)),p=r(h),d=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={data:[],range:null,filter:null},r.onSelectedChanged=function(e){var t=e.detail,n=r.state.filter;t.length||(r.props.layer.removeFilter(n),n=null,r.setState({filter:n}),console.log("onSelectedChanged DID SOMETHING"))},a=n,o(r,a)}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.setupConfig(),this.setupEvents(),this.addDataview()}},{key:"componentDidUpdate",value:function(e){this.setupConfig();new p.default.filter.BoundingBoxLeaflet(this.props.map);e!==this.props&&this.dataView.addFilter(this.props.boundingbox)}},{key:"setupConfig",value:function(){var e=this.state.data;this.widget.data=e}},{key:"addDataview",value:function(){var e=this;this.dataView=new p.default.dataview.Histogram(this.props.layer,this.props.column,{bins:this.props.bins}),this.dataView.on("dataChanged",function(t){var n=t.bins,r=n.map(function(e){return{start:e.start,end:e.end,value:e.freq}});e.setState({data:r})}),this.props.client.addDataview(this.dataView)}},{key:"createFilter",value:function(){var e=this.state.range,t=e[0],n=e[1],r=new p.default.filter.Range(this.props.column,{between:{min:t,max:n}});this.props.layer.addFilter(r),this.setState({filter:r})}},{key:"updateFilter",value:function(){var e=this.state,t=e.range,n=e.filter,r=t[0],i=t[1];n.setFilters({between:{min:r,max:i}})}},{key:"onApplySelection",value:function(){var e=(this.props.layer._appliedFilters._filters,this.state),t=e.filter;e.range;t?this.updateFilter():this.createFilter()}},{key:"completeUpdateRangeFilter",value:function(e){var t=this.onSelectedChanged,n=this.state.data;t&&t(e),console.log(n,this.widget.data),this.widget.data===n&&e.detail===this.state.range&&(console.log("DATA VALUE",n===this.widget.data),console.log("RANGE VALUE",e.detail===this.state.range),this.onApplySelection())}},{key:"setupEvents",value:function(){var e=this,t=this.state;t.range,t.filter;this.widget.addEventListener("selectionChanged",function(t){e.setState({range:t.detail}),e.completeUpdateRangeFilter(t)})}},{key:"render",value:function(){var e=this,t=this.state.data,n=this.props,r=n.title,i=n.description;return c.default.createElement("as-histogram-widget",{ref:function(t){e.widget=t},heading:r,description:i,data:t,"show-header":!0,"show-clear":!0})}}]),t}(u.Component);d.defaultProps={};var m=function(e){return{client:e.client,map:e.map,filters:e.filters,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},g=function(e){return{setNeighbourhoods:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e(setNeighbourhoods(t))})}};t.default=(0,l.connect)(m,g)(d)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),l=n(1),f=n(7),h=(r(f),n(4)),p=r(h),d=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={data:null,min:0,max:0,rangeMin:0,rangeMax:0,range:[0,0],filter:null},a=n,o(r,a)}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.setupEvents(),this.addDataview()}},{key:"componentDidUpdate",value:function(e){this.state.filter;this.setupRange()}},{key:"setupRange",value:function(){var e=this.state,t=e.rangeMin,n=e.rangeMax;this.widget.range=[t,n]}},{key:"addDataview",value:function(){var e=this;this.dataViewMin=new p.default.dataview.Formula(this.props.layer,this.props.column,{operation:p.default.operation.MIN}),this.dataViewMax=new p.default.dataview.Formula(this.props.layer,this.props.column,{operation:p.default.operation.MAX}),this.dataViewMin.on("dataChanged",function(t){var n=void 0;n=t.result,e.setState({min:n}),e.setState({rangeMin:n})}),this.dataViewMax.on("dataChanged",function(t){var n=void 0;n=t.result,e.setState({max:n}),e.setState({rangeMax:n})}),this.props.client.addDataview(this.dataViewMin),this.props.client.addDataview(this.dataViewMax)}},{key:"createFilter",value:function(){var e=this.state,t=e.rangeMin,n=e.rangeMax,r=t,i=n,o=new p.default.filter.Range(this.props.column,{gte:r,lte:i});this.props.layers.railaccidents.source.addFilter(o),this.setState({filter:o})}},{key:"updateFilter",value:function(){var e=this.state,t=e.filter,n=e.data,r=n[0],i=n[1];t.setFilters({gte:r,lte:i})}},{key:"onApplySelection",value:function(){this.state.filter?this.updateFilter():this.createFilter()}},{key:"setupEvents",value:function(){var e=this,t=this.props,n=t.before,r=t.after;this.widget.formatValue=function(e){return""+n+e+r},this.widget.addEventListener("changeEnd",function(t){e.setState({data:t.detail}),e.setState({rangeMin:t.detail[0]}),e.setState({rangeMax:t.detail[1]}),e.onApplySelection()})}},{key:"render",value:function(){var e=this,t=(this.state.data,this.props),n=t.title,r=t.description;return c.default.createElement("div",null,c.default.createElement("h4",{className:"as-subheader as-font--medium"},n),c.default.createElement("p",{className:"as-body"},r),c.default.createElement("as-range-slider",{ref:function(t){e.widget=t},"min-value":this.state.min,step:this.props.step,draggable:!0,"max-value":this.state.max}))}}]),t}(u.Component),m=function(e){return{client:e.client,map:e.map,filters:e.filters,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},g=function(e){return{setNeighbourhoods:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e(setNeighbourhoods(t))})}};t.default=(0,l.connect)(m,g)(d)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=n(1),h=n(7),p=(r(h),n(4)),d=(r(p),n(15)),m=r(d),g=m.default.SQL_API_URL,y=m.default.API_KEY,v=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=s({},e),n.exportData=n.exportData.bind(n),n}return a(t,e),u(t,[{key:"exportData",value:function(){var e=this.props.layer._getQueryToApply();console.log(e);var t=""+g+e+"&format="+this.props.format+"&filename="+this.props.filename+"."+this.props.format+"&api_key="+y;console.log(t),window.open(t)}},{key:"render",value:function(){return l.default.createElement("button",{className:"as-btn as-btn--primary as-btn--l",onClick:this.exportData},l.default.createElement("i",{"aria-hidden":!0,className:"as-icon-arrow-down"}),l.default.createElement("p",null,this.props.name))}}]),t}(c.Component),_=function(e){return{client:e.client,map:e.map,filters:e.filters,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},b=function(e){return{setNeighbourhoods:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e(setNeighbourhoods(t))})}};t.default=(0,f.connect)(_,b)(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=(n(3),n(1)),h=n(10),p=n(4),d=r(p),m=n(153),g=r(m),y=n(154),v=r(y),_=n(155),b=r(_),w=n(156),x=r(w),C=n(157),E=r(C),T=n(158),S=r(T),k=n(25),P=r(k),O=n(178),L=r(O),M=n(179),A=r(M);n(2);var R=n(24),j=(r(R),function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={size:null},n.state=s({},e),n.moveMap=n.moveMap.bind(n),n}return a(t,e),u(t,[{key:"moveMap",value:function(){this.props.map.flyTo([39.8283459,-98.5794797],4)}},{key:"render",value:function(){var e="as-sidebar as-sidebar--"+this.props.size+" as-sidebar--left "+this.props.background;return l.default.createElement("aside",{className:e,"data-name":this.props.name},l.default.createElement("div",{className:"as-m--24"},l.default.createElement(S.default,null),l.default.createElement(v.default,{name:"CARTO Website",link:"https://carto.com",type:"primary",size:""}),l.default.createElement(E.default,{name:"Input Button",type:"primary",size:"l"}),l.default.createElement(b.default,{color:"green",name:"Badge Component",text:"as-color--type-02"}),l.default.createElement(x.default,{color:"success",name:"Icon Badge Component",text:"as-color--type-04",icon:"as-icon-info"}),l.default.createElement(g.default,{name:"Center Map",action:this.moveMap,type:"secondary",size:""}),l.default.createElement("div",{className:"as-p--16"},l.default.createElement(P.default,{title:"Employees Injured",description:"Total number of employee injuries",round:!0,currency:!1,locale:"en-US",currencyType:"USD",layer:this.props.layers.railaccidents.source,column:"rr_employees_injured",operation:d.default.operation.SUM})),l.default.createElement(L.default,{title:"Accident Description",description:"Search text in the accident description field",id:"search",layer:this.props.layers.railaccidents.source,placeholder:"Search...",column:"narrative"}),l.default.createElement(A.default,{id:"input",placeholder:"Text Input"})))}}]),t}(c.Component)),N=function(e){return{client:e.client,map:e.map,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},I=function(e){return{setNeighbourhoods:function(t){return e((0,h.setNeighbourhoods)(t))}}};t.default=(0,f.connect)(N,I)(j)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=(n(3),n(1)),h=n(11);r(h);n(2);var p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={button:null},n.state=s({},e),n.myFunction=n.myFunction.bind(n),n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.type,n=e.size,r=void 0,i=void 0;i="large"===n?"as-btn--l":"small"===n?"as-btn--s":"",r="primary"===t?"as-btn--primary":"secondary"===t?"as-btn--secondary":"";var o="as-btn "+r+" "+i;this.setState({button:o})}},{key:"myFunction",value:function(){this.props.action()}},{key:"render",value:function(){return l.default.createElement("div",{className:"as-p--16"},l.default.createElement("button",{className:this.state.button,onClick:this.myFunction},l.default.createElement("p",null,this.props.name)))}}]),t}(c.Component),d=function(e){return{client:e.client,map:e.map,filters:e.filters,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},m=function(e){return{setNeighbourhoods:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e(setNeighbourhoods(t))})}};t.default=(0,f.connect)(d,m)(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=(n(3),n(1)),h=n(11);r(h);n(2);var p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={button:null},n.state=s({},e),n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.type,n=e.size,r=void 0,i=void 0;i="large"===n?"as-btn--l":"small"===n?"as-btn--s":"",r="primary"===t?"as-btn--primary":"secondary"===t?"as-btn--secondary":"";var o="as-btn "+r+" "+i;this.setState({button:o})}},{key:"render",value:function(){return l.default.createElement("div",{className:"as-p--16"},l.default.createElement("a",{href:this.props.link,target:"_blank",className:this.state.button},this.props.name))}}]),t}(c.Component),d=function(e){return{client:e.client,map:e.map,filters:e.filters,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},m=function(e){return{setNeighbourhoods:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e(setNeighbourhoods(t))})}};t.default=(0,f.connect)(d,m)(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=(n(3),n(1)),h=n(11);r(h);n(2);var p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=s({},e),n}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.text,r=e.color,i="as-badge as-bg--badge-"+r+" "+n;return l.default.createElement("div",{className:"as-p--8"},l.default.createElement("span",{className:i},t))}}]),t}(c.Component),d=function(e){return{client:e.client,map:e.map,filters:e.filters,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},m=function(e){return{setNeighbourhoods:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e(setNeighbourhoods(t))})}};t.default=(0,f.connect)(d,m)(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=(n(3),n(1)),h=n(11);r(h);n(2);var p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=s({},e),n}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.text,r=e.color,i=e.icon,o="as-badge as-bg--badge-"+r+" "+n;return l.default.createElement("div",{className:"as-p--8"},l.default.createElement("span",{className:o},l.default.createElement("i",{className:i}),l.default.createElement("p",null,t)))}}]),t}(c.Component),d=function(e){return{client:e.client,map:e.map,filters:e.filters,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},m=function(e){return{setNeighbourhoods:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e(setNeighbourhoods(t))})}};t.default=(0,f.connect)(d,m)(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=(n(3),n(1)),h=n(11);r(h);n(2);var p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={button:null},n.state=s({},e),n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.type,n=e.size,r=void 0,i=void 0;i="large"===n?"as-btn--l":"small"===n?"as-btn--s":"",r="primary"===t?"as-btn--primary":"secondary"===t?"as-btn--secondary":"";var o="as-btn "+r+" "+i;this.setState({button:o})}},{key:"render",value:function(){return l.default.createElement("div",{className:"as-p--16"},l.default.createElement("input",{type:"button",value:this.props.name,className:this.state.button}))}}]),t}(c.Component),d=function(e){return{client:e.client,map:e.map,filters:e.filters,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},m=function(e){return{setNeighbourhoods:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e(setNeighbourhoods(t))})}};t.default=(0,f.connect)(d,m)(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),f=r(l),h=(n(3),n(1)),p=n(11);r(p);n(2);var d=n(159),m=r(d),g=n(15),y=r(g),v=n(4),_=r(v),b=(y.default.IMPORT_API_URL,function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={description:"",selectedFile:"",status:null,table:null,error:null,hidden:!0},n.onChange=function(e){switch(e.target.name){case"selectedFile":n.setState({selectedFile:e.target.files[0]});break;default:n.setState(i({},e.target.name,e.target.value))}},n.onSubmit=function(e){e.preventDefault();var t=n.state,r=t.description,i=t.selectedFile,o=new FormData;o.append("description",r),o.append("selectedFile",i),m.default.post("/",o).then(function(e){n.setState({status:e.data.success}),n.setState({table:e.data.table}),n.setState({error:null}),console.log(n.state.status);var t=new _.default.source.Dataset(e.data.table),r=new _.default.style.CartoCSS("\n          #layer {\n            marker-width: 7;\n            marker-fill: #EE4D5A;\n            marker-fill-opacity: 0.9;\n            marker-line-color: #FFFFFF;\n            marker-line-width: 1;\n            marker-line-opacity: 1;\n            marker-placement: point;\n            marker-type: ellipse;\n            marker-allow-overlap: true;\n          }\n        "),i=new _.default.layer.Layer(t,r);n.props.client.addLayer(i),n.props.client.getLeafletLayer().addTo(n.props.map)}).catch(function(e){n.setState({status:!1}),n.setState({table:null}),n.setState({error:e.message}),console.log(e)})},n.state=u({},e),n.toggleHidden=n.toggleHidden.bind(n),n}return s(t,e),c(t,[{key:"toggleHidden",value:function(){this.setState({hidden:!this.state.hidden}),this.setState({status:null})}},{key:"render",value:function(){var e=this.state,t=(e.description,e.selectedFile,e.table),n=e.error,r=(e.hidden,this.state.status);console.log(this.state);var i=void 0;return!0===r?i=f.default.createElement("div",{className:"as-p--16"},f.default.createElement("div",{className:"as-flag"},f.default.createElement("div",{className:"as-flag__icon"},f.default.createElement("i",{style:{color:"#80B622"},class:"as-icon-alert-fill"})),f.default.createElement("div",{className:"as-flag__content"},f.default.createElement("h4",{className:"as-body as-color--type-01"},"Import successful"),f.default.createElement("p",{className:"as-body as-color--type-03"},"Your table ",t," was imported successfully!")),f.default.createElement("div",{className:"as-flag__icon"},f.default.createElement("button",{className:"as-flag__button",onClick:this.toggleHidden},f.default.createElement("i",{style:{color:"#1785FB"},className:"as-icon-close"}))))):!1===r?i=f.default.createElement("div",{className:"as-p--16"},f.default.createElement("div",{className:"as-flag"},f.default.createElement("div",{className:"as-flag__icon"},f.default.createElement("i",{style:{color:"#F3522B"},class:"as-icon-alert-fill"})),f.default.createElement("div",{className:"as-flag__content"},f.default.createElement("h4",{className:"as-body as-color--type-01"},"Error on import"),f.default.createElement("p",{className:"as-body as-color--type-03"},"There was an error with your import!"),f.default.createElement("p",{className:"as-body as-color--type-03"},n)),f.default.createElement("div",{className:"as-flag__icon"},f.default.createElement("button",{className:"as-flag__button",onClick:this.toggleHidden},f.default.createElement("i",{style:{color:"#1785FB"},className:"as-icon-close"}))))):null===r&&(i=null),f.default.createElement("div",null,f.default.createElement("form",{onSubmit:this.onSubmit},f.default.createElement("div",{className:"as-p--8"},f.default.createElement("div",{className:"as-p--8"},f.default.createElement("input",{type:"file",name:"selectedFile",className:"as-btn as-btn--secondary",onChange:this.onChange})),f.default.createElement("div",{className:"as-p--8"},f.default.createElement("button",{type:"submit",class:"as-btn as-btn--primary"},"Submit")))),i)}}]),t}(l.Component)),w=function(e){return{client:e.client,map:e.map,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},x=function(e){return{setNeighbourhoods:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e(setNeighbourhoods(t))})}};t.default=(0,h.connect)(w,x)(b)},function(e,t,n){e.exports=n(160)},function(e,t,n){"use strict";function r(e){var t=new a(e),n=o(a.prototype.request,t);return i.extend(n,a.prototype,t),i.extend(n,t),n}var i=n(6),o=n(46),a=n(162),s=n(26),u=r(s);u.Axios=a,u.create=function(e){return r(i.merge(s,e))},u.Cancel=n(50),u.CancelToken=n(176),u.isCancel=n(49),u.all=function(e){return Promise.all(e)},u.spread=n(177),e.exports=u,e.exports.default=u},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function r(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||r(e)||!!e._isBuffer)}},function(e,t,n){"use strict";function r(e){this.defaults=e,this.interceptors={request:new a,response:new a}}var i=n(26),o=n(6),a=n(171),s=n(172);r.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),e=o.merge(i,{method:"get"},this.defaults,e),e.method=e.method.toLowerCase();var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],function(e){r.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=r},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(48);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e}},function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=n(6);e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var a=[];i.forEach(t,function(e,t){null!==e&&void 0!==e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))}))}),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,n){"use strict";var r=n(6),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(6);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(i.setAttribute("href",t),t=i.href),i.setAttribute("href",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return t=e(window.location.href),function(n){var i=r.isString(n)?e(n):n;return i.protocol===t.protocol&&i.host===t.host}}():function(){return function(){return!0}}()},function(e,t,n){"use strict";function r(){this.message="String contains an invalid character"}function i(e){for(var t,n,i=String(e),a="",s=0,u=o;i.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&t>>8-s%1*8)){if((n=i.charCodeAt(s+=.75))>255)throw new r;t=t<<8|n}return a}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=i},function(e,t,n){"use strict";var r=n(6);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,n){"use strict";function r(){this.handlers=[]}var i=n(6);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){"use strict";function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var i=n(6),o=n(173),a=n(49),s=n(26),u=n(174),c=n(175);e.exports=function(e){return r(e),e.baseURL&&!u(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return r(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(r(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new i(e),t(n.reason))})}var i=n(50);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),l=n(1),f=n(7),h=(r(f),n(4)),p=r(h),d=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={data:0,value:null,filter:null},a=n,o(r,a)}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.setupEvents()}},{key:"setupEvents",value:function(){var e=this,t=this.props.id,n=document.getElementById(t),r=null;n.onkeyup=function(t){clearTimeout(r),r=setTimeout(function(){var t=n.value,r="%("+t.toLowerCase()+"|"+t.toUpperCase()+"|"+t+")%";e.setState({value:r}),e.setUpFilter()},500)}}},{key:"createFilter",value:function(){var e=new p.default.filter.Category(this.props.column,{similarTo:this.state.value});this.props.layer.addFilter(e),this.setState({filter:e})}},{key:"updateFilter",value:function(){var e=this.state.filter;this.props.layer.removeFilter(e),this.createFilter()}},{key:"setUpFilter",value:function(){var e=this.state,t=e.filter;e.value;t?this.updateFilter():this.createFilter()}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.description,r=e.id;return c.default.createElement("div",{className:"as-p--16"},c.default.createElement("h4",{className:"as-subheader as-font--medium"},t),c.default.createElement("p",{className:"as-body"},n),c.default.createElement("input",{className:"as-input",id:r,type:"text",placeholder:this.props.placeholder}))}}]),t}(u.Component),m=function(e){return{client:e.client,map:e.map,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},g=function(e){return{}};t.default=(0,l.connect)(m,g)(d)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),l=(n(3),n(1));n(2);var f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=a({},e),n}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.id;e.required;return c.default.createElement("div",{className:"as-p--16"},c.default.createElement("input",{className:"as-input",id:t,type:"text",placeholder:this.props.placeholder}))}}]),t}(u.Component),h=function(e){return{client:e.client,map:e.map,filters:e.filters,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},p=function(e){return{}};t.default=(0,l.connect)(h,p)(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=(n(3),n(1)),h=n(10),p=n(4),d=r(p);n(2);var m=n(25),g=r(m),y=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=s({},e),n}return a(t,e),u(t,[{key:"render",value:function(){var e="as-map-footer "+this.props.background;return l.default.createElement("footer",{className:e,"data-name":this.props.name},l.default.createElement("div",{className:"as-container as-container--scrollable"},l.default.createElement("section",{className:"as-box as-box--large"},l.default.createElement(g.default,{title:"Total Damage",description:"Maximum total damage in USD for accidents in view",round:!1,currency:!0,locale:"es-ES",currencyType:"EUR",layer:this.props.layers.railaccidents.source,column:"total_damage",operation:d.default.operation.MAX}))))}}]),t}(c.Component),v=function(e){return{client:e.client,map:e.map,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},_=function(e){return{setNeighbourhoods:function(t){return e((0,h.setNeighbourhoods)(t))}}};t.default=(0,f.connect)(v,_)(y)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=(n(3),n(1)),h=n(11),p=r(h),d=n(182),m=r(d);n(2);var g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={position:null},n.state=s({},e),n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e="as-panel as-panel--"+this.props.horizontal+" as-panel--"+this.props.vertical;this.setState({position:e})}},{key:"render",value:function(){var e="as-panel__element as-p--32 "+this.props.background;return l.default.createElement("div",{className:"as-map-panels","data-name":this.props.name},l.default.createElement("div",{className:this.state.position},l.default.createElement("div",{className:e},l.default.createElement(p.default,{layer:this.props.layers.railaccidents}),l.default.createElement(m.default,{layer:this.props.layers.railaccidents,name:"Change Points Style",cartocss:"#layer {\n      marker-width: ramp([equipment_damage], range(2, 20), quantiles(5));\n      marker-fill: #4d78ee;\n      marker-fill-opacity: 0.3;\n      marker-allow-overlap: true;\n      marker-line-width: 1;\n      marker-line-color: #FFFFFF;\n      marker-line-opacity: 1;\n      marker-comp-op: screen;\n    }"}))))}}]),t}(c.Component),y=function(e){return{client:e.client,map:e.map,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},v=function(e){return{setNeighbourhoods:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e(setNeighbourhoods(t))})}};t.default=(0,f.connect)(y,v)(g)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),l=n(1),f=n(7),h=(r(f),n(4));r(h),n(10);n(2);var p=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={checked:!1},a=n,o(r,a)}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.setupConfig(),this.setupChecked()}},{key:"setupConfig",value:function(){var e=this.state.checked;this.widget.checked=e}},{key:"setupChecked",value:function(){var e=this,t=this.props.layers.railaccidents.cartocss;this.widget.addEventListener("change",function(n){e.setState({checked:n.detail}),!0===n.detail?e.props.layers.railaccidents.style.setContent(e.props.cartocss):!1===n.detail&&e.props.layers.railaccidents.style.setContent(t)})}},{key:"render",value:function(){var e=this;return c.default.createElement("div",null,c.default.createElement("span",{className:"as-display--block"},c.default.createElement("p",{className:"as-body"},c.default.createElement("i",{"aria-hidden":!0,className:"as-icon-pencil"})," ",this.props.name)),c.default.createElement("span",{className:"as-display--block"},c.default.createElement("as-switch",{ref:function(t){e.widget=t}})))}}]),t}(u.Component),d=function(e){return{client:e.client,map:e.map,filters:e.filters,layers:e.layers,viewport:e.viewport,boundingbox:e.boundingbox}},m=function(e){return{}};t.default=(0,l.connect)(d,m)(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(40),a=function(){return i.default.createElement("div",null,"404 - ",i.default.createElement(o.Link,{to:"/"},"Go home"))};t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(33),o=n(185),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),s=n(186),u=r(s),c=n(187),l=r(c);l.default;t.default=function(){return(0,i.createStore)((0,i.combineReducers)(a),(0,i.applyMiddleware)(u.default))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.layers=t.boundingbox=t.viewport=t.map=t.client=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(4),u=r(s),c=n(10),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),f=n(15),h=r(f),p=n(24),d=(r(p),n(45)),m=r(d),g=new u.default.Client({apiKey:h.default.API_KEY,username:h.default.USERNAME}),y=(t.client=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;arguments[1];return e},t.map=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case l.SET_MAP:return t.map;default:return e}},{center:h.default.CENTER,zoom:h.default.ZOOM,bbox:""}),v=(t.viewport=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments[1];switch(t.type){case l.CHANGE_VIEWPORT:return t.viewport;default:return e}},t.boundingbox=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case l.CHANGE_CARTO_BOUNDINGBOX:return t.boundingbox;default:return e}},Object.keys(m.default).reduce(function(e,t){var n=m.default[t],r=n.options,s=o(n,["options"]),c=new u.default.source.SQL(s.query),l=new u.default.style.CartoCSS(s.cartocss),f=new u.default.layer.Layer(c,l,r);return a({},e,i({},t,a({source:c,style:l,layer:f},s)))},{}));t.layers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments[1];switch(t.type){case l.STORE_LAYERS:return t.layers;case l.TOGGLE_LAYER:var n=e[t.name];return n.visible?n.layer.hide():n.layer.show(),a({},e,i({},t.name,a({},n,{visible:!n.visible})));default:return e}}},function(e,t,n){(function(e){!function(e,n){n(t)}(0,function(t){"use strict";function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function u(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t=void 0===e?"undefined":L(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,f,h,p){f=f||[],p=p||[];var d=f.slice(0);if(void 0!==h){if(r){if("function"==typeof r&&r(d,h))return;if("object"===(void 0===r?"undefined":L(r))){if(r.prefilter&&r.prefilter(d,h))return;if(r.normalize){var m=r.normalize(d,h,e,t);m&&(e=m[0],t=m[1])}}}d.push(h)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var g=void 0===e?"undefined":L(e),y=void 0===t?"undefined":L(t),v="undefined"!==g||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(h),_="undefined"!==y||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(h);if(!v&&_)n(new o(d,t));else if(!_&&v)n(new a(d,e));else if(c(e)!==c(t))n(new i(d,e,t));else if("date"===c(e)&&e-t!=0)n(new i(d,e,t));else if("object"===g&&null!==e&&null!==t)if(p.filter(function(t){return t.lhs===e}).length)e!==t&&n(new i(d,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?n(new s(d,b,new a(void 0,e[b]))):l(e[b],t[b],n,r,d,b,p);for(;b<t.length;)n(new s(d,b,new o(void 0,t[b++])))}else{var w=Object.keys(e),x=Object.keys(t);w.forEach(function(i,o){var a=x.indexOf(i);a>=0?(l(e[i],t[i],n,r,d,i,p),x=u(x,a)):l(e[i],void 0,n,r,d,i,p)}),x.forEach(function(e){l(void 0,t[e],n,r,d,e,p)})}p.length=p.length-1}else e!==t&&("number"===g&&isNaN(e)&&isNaN(t)||n(new i(d,e,t)))}function f(e,t,n,r){return r=r||[],l(e,t,function(e){e&&r.push(e)},n),r.length?r:void 0}function h(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":h(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":e=u(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function p(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,o=n.path?n.path.length-1:0;++i<o;)void 0===r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":h(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function d(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":d(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":d(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=u(e,t)}return e}function m(e,t,n){if(e&&t&&n&&n.kind){var r,i,o=e;for(i=n.path.length-1,r=0;r<i;r++)void 0===o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":d(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}}function g(e,t,n){if(e&&t){l(e,t,function(r){n&&!n(e,t,r)||p(e,t,r)})}}function y(e){return"color: "+R[e].color+"; font-weight: bold"}function v(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,o=e.index,a=e.item;switch(t){case"E":return[n.join("."),r,"",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",a];default:return[]}}function _(e,t,n,r){var i=f(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach(function(e){var t=e.kind,r=v(e);n.log.apply(n,["%c "+R[t].text,y(t)].concat(M(r)))}):n.log(" no diff ");try{n.groupEnd()}catch(e){n.log(" diff end  ")}}function b(e,t,n,r){switch(void 0===e?"undefined":L(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,M(n)):e[r];case"function":return e(t);default:return e}}function w(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var o=["action"];return o.push("%c"+String(e.type)),t&&o.push("%c@ "+r),n&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}}function x(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,o=void 0===i?w(t):i,a=t.collapsed,s=t.colors,u=t.level,c=t.diff,l=void 0===t.titleFormatter;e.forEach(function(i,f){var h=i.started,p=i.startedTime,d=i.action,m=i.prevState,g=i.error,y=i.took,v=i.nextState,w=e[f+1];w&&(v=w.prevState,y=w.started-h);var x=r(d),C="function"==typeof a?a(function(){return v},d,i):a,E=P(p),T=s.title?"color: "+s.title(x)+";":"",S=["color: gray; font-weight: lighter;"];S.push(T),t.timestamp&&S.push("color: gray; font-weight: lighter;"),t.duration&&S.push("color: gray; font-weight: lighter;");var k=o(x,E,y);try{C?s.title&&l?n.groupCollapsed.apply(n,["%c "+k].concat(S)):n.groupCollapsed(k):s.title&&l?n.group.apply(n,["%c "+k].concat(S)):n.group(k)}catch(e){n.log(k)}var O=b(u,x,[m],"prevState"),L=b(u,x,[x],"action"),M=b(u,x,[g,m],"error"),A=b(u,x,[v],"nextState");if(O)if(s.prevState){var R="color: "+s.prevState(m)+"; font-weight: bold";n[O]("%c prev state",R,m)}else n[O]("prev state",m);if(L)if(s.action){var j="color: "+s.action(x)+"; font-weight: bold";n[L]("%c action    ",j,x)}else n[L]("action    ",x);if(g&&M)if(s.error){var N="color: "+s.error(g,m)+"; font-weight: bold;";n[M]("%c error     ",N,g)}else n[M]("error     ",g);if(A)if(s.nextState){var I="color: "+s.nextState(v)+"; font-weight: bold";n[A]("%c next state",I,v)}else n[A]("next state",v);c&&_(m,v,n,C);try{n.groupEnd()}catch(e){n.log(" log end ")}})}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},j,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,o=t.predicate,a=t.logErrors,s=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var u=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof o&&!o(n,c))return e(c);var l={};u.push(l),l.started=O.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var f=void 0;if(a)try{f=e(c)}catch(e){l.error=i(e)}else f=e(c);l.took=O.now()-l.started,l.nextState=r(n());var h=t.diff&&"function"==typeof s?s(n,c):t.diff;if(x(u,Object.assign({},t,{diff:h})),u.length=0,l.error)throw l.error;return f}}}}var E,T,S=function(e,t){return new Array(t+1).join(e)},k=function(e,t){return S("0",t-e.toString().length)+e},P=function(e){return k(e.getHours(),2)+":"+k(e.getMinutes(),2)+":"+k(e.getSeconds(),2)+"."+k(e.getMilliseconds(),3)},O="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},A=[];E="object"===(void 0===e?"undefined":L(e))&&e?e:"undefined"!=typeof window?window:{},T=E.DeepDiff,T&&A.push(function(){void 0!==T&&E.DeepDiff===f&&(E.DeepDiff=T,T=void 0)}),n(i,r),n(o,r),n(a,r),n(s,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:g,enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:m,enumerable:!0},isConflict:{value:function(){return void 0!==T},enumerable:!0},noConflict:{value:function(){return A&&(A.forEach(function(e){e()}),A=null),f},enumerable:!0}});var R={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},j={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?C()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=j,t.createLogger=C,t.logger=N,t.default=N,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,n(19))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(188),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=(0,i.default)("local")},function(e,t,n){"use strict";function r(e){var t=(0,o.default)(e);return{getItem:function(e){return new Promise(function(n,r){n(t.getItem(e))})},setItem:function(e,n){return new Promise(function(r,i){r(t.setItem(e,n))})},removeItem:function(e){return new Promise(function(n,r){n(t.removeItem(e))})}}}t.__esModule=!0,t.default=r;var i=n(189),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";function r(){}function i(e){if("object"!==("undefined"==typeof self?"undefined":a(self))||!(e in self))return!1;try{var t=self[e],n="redux-persist "+e+" test";t.setItem(n,"test"),t.getItem(n),t.removeItem(n)}catch(e){return!1}return!0}function o(e){var t=e+"Storage";return i(t)?self[t]:s}t.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=o;var s={getItem:r,setItem:r,removeItem:r}},function(e,t){},function(e,t){}]);
//# sourceMappingURL=bundle.js.map